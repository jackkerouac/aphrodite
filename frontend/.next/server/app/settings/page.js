(()=>{var e={};e.id=662,e.ids=[662],e.modules={201:(e,a,s)=>{Promise.resolve().then(s.bind(s,4198))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1862:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3385:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},3873:e=>{"use strict";e.exports=require("path")},4198:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>n,dynamic:()=>i});var r=s(2907);let i=(0,r.registerClientReference)(function(){throw Error("Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\programming\\aphrodite\\frontend\\src\\app\\settings\\page.tsx","dynamic"),n=(0,r.registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\programming\\\\aphrodite\\\\frontend\\\\src\\\\app\\\\settings\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\programming\\aphrodite\\frontend\\src\\app\\settings\\page.tsx","default")},4398:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},5071:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},5748:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},6474:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6649:(e,a,s)=>{Promise.resolve().then(s.bind(s,8748))},7479:(e,a,s)=>{"use strict";s.d(a,{d:()=>w});var r=s(687),i=s(3210),n=s(569),l=s(8599),t=s(1273),d=s(5551),c=s(3721),o=s(8853),g=s(4163),m="Switch",[h,u]=(0,t.A)(m),[p,x]=h(m),j=i.forwardRef((e,a)=>{let{__scopeSwitch:s,name:t,checked:c,defaultChecked:o,required:h,disabled:u,value:x="on",onCheckedChange:j,form:b,...v}=e,[_,w]=i.useState(null),N=(0,l.s)(a,e=>w(e)),B=i.useRef(!1),k=!_||b||!!_.closest("form"),[C,S]=(0,d.i)({prop:c,defaultProp:o??!1,onChange:j,caller:m});return(0,r.jsxs)(p,{scope:s,checked:C,disabled:u,children:[(0,r.jsx)(g.sG.button,{type:"button",role:"switch","aria-checked":C,"aria-required":h,"data-state":f(C),"data-disabled":u?"":void 0,disabled:u,value:x,...v,ref:N,onClick:(0,n.m)(e.onClick,e=>{S(e=>!e),k&&(B.current=e.isPropagationStopped(),B.current||e.stopPropagation())})}),k&&(0,r.jsx)(y,{control:_,bubbles:!B.current,name:t,value:x,checked:C,required:h,disabled:u,form:b,style:{transform:"translateX(-100%)"}})]})});j.displayName=m;var b="SwitchThumb",v=i.forwardRef((e,a)=>{let{__scopeSwitch:s,...i}=e,n=x(b,s);return(0,r.jsx)(g.sG.span,{"data-state":f(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:a})});v.displayName=b;var y=i.forwardRef(({__scopeSwitch:e,control:a,checked:s,bubbles:n=!0,...t},d)=>{let g=i.useRef(null),m=(0,l.s)(g,d),h=(0,c.Z)(s),u=(0,o.X)(a);return i.useEffect(()=>{let e=g.current;if(!e)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==s&&a){let r=new Event("click",{bubbles:n});a.call(e,s),e.dispatchEvent(r)}},[h,s,n]),(0,r.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...t,tabIndex:-1,ref:m,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function f(e){return e?"checked":"unchecked"}y.displayName="SwitchBubbleInput";var _=s(4780);function w({className:e,...a}){return(0,r.jsx)(j,{"data-slot":"switch",className:(0,_.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,r.jsx)(v,{"data-slot":"switch-thumb",className:(0,_.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}},8233:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8463:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>l.a,__next_app__:()=>g,pages:()=>o,routeModule:()=>m,tree:()=>c});var r=s(5239),i=s(8088),n=s(8170),l=s.n(n),t=s(893),d={};for(let e in t)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>t[e]);s.d(a,d);let c={children:["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4198)),"E:\\programming\\aphrodite\\frontend\\src\\app\\settings\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,4431)),"E:\\programming\\aphrodite\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["E:\\programming\\aphrodite\\frontend\\src\\app\\settings\\page.tsx"],g={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8748:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>ev,dynamic:()=>ex});var r=s(687),i=s(3210),n=s(6189),l=s(4493),t=s(7463),d=s(1862),c=s(5336),o=s(9523),g=s(9667),m=s(4300),h=s(6834),u=s(5071),p=s(8819),x=s(2581),j=s(7479),b=s(5079),v=s(2688);let y=(0,v.A)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),f=(0,v.A)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);var _=s(8233),w=s(6474);async function N(e,a,s="http://localhost:8000"){if(!(await fetch(`${s}/api/v1/config/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw Error(`Failed to save ${e}`);try{await fetch(`${s}/api/v1/config/cache/clear/${e}`,{method:"POST"})}catch(a){console.warn(`Cache clear failed for ${e}, but settings were saved:`,a)}}let B=()=>["AvenirNextLTProBold.otf","DejaVuSans.ttf","Arial","Helvetica","Times New Roman","Courier New","Georgia","Verdana","Tahoma","Comic Sans MS","Impact","Trebuchet MS"],k=async()=>{try{return B()}catch(e){return console.error("Error loading fonts:",e),B()}},C=(e=[])=>[...B(),...e].filter((e,a,s)=>s.indexOf(e)===a);function S({value:e,onValueChange:a,availableFonts:s=[],placeholder:i="Select a font...",disabled:n=!1}){let l=C(s);return(0,r.jsxs)(b.l6,{value:e,onValueChange:a,disabled:n,children:[(0,r.jsx)(b.bq,{children:(0,r.jsx)(b.yv,{placeholder:i})}),(0,r.jsx)(b.gC,{children:l.map(e=>(0,r.jsx)(b.eb,{value:e,children:e},e))})]})}let I={General:{general_badge_size:100,general_edge_padding:30,general_badge_position:"top-right",general_text_padding:12,use_dynamic_sizing:!0},Text:{font:"AvenirNextLTProBold.otf",fallback_font:"DejaVuSans.ttf","text-color":"#FFFFFF","text-size":90},Background:{"background-color":"#000000",background_opacity:40},Border:{"border-color":"#000000","border-radius":10,border_width:1},Shadow:{shadow_enable:!1,shadow_blur:8,shadow_offset_x:2,shadow_offset_y:2},ImageBadges:{enable_image_badges:!0,codec_image_directory:"images/codec",fallback_to_text:!0,image_padding:0,image_mapping:{ATMOS:"Atmos.png","DOLBY DIGITAL PLUS":"DigitalPlus.png","DTS-HD MA":"DTS-HD.png","DTS-X":"DTS-X.png",TRUEHD:"TrueHD.png","TRUEHD ATMOS":"TrueHD-Atmos.png"}}},A=(0,v.A)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);function T({settings:e,updateSetting:a}){return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"General Badge Settings"}),(0,r.jsx)(l.BT,{children:"Configure basic badge positioning and sizing for resolution badges"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"badge-size",children:"Badge Size"}),(0,r.jsx)(g.p,{id:"badge-size",type:"number",min:"10",value:e.General.general_badge_size,onChange:e=>a("General","general_badge_size",parseInt(e.target.value)||100)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"edge-padding",children:"Edge Padding"}),(0,r.jsx)(g.p,{id:"edge-padding",type:"number",min:"0",value:e.General.general_edge_padding,onChange:e=>a("General","general_edge_padding",parseInt(e.target.value)||30)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"badge-position",children:"Badge Position"}),(0,r.jsxs)(b.l6,{value:e.General.general_badge_position,onValueChange:e=>a("General","general_badge_position",e),children:[(0,r.jsx)(b.bq,{children:(0,r.jsx)(b.yv,{})}),(0,r.jsxs)(b.gC,{children:[(0,r.jsx)(b.eb,{value:"top-left",children:"Top Left"}),(0,r.jsx)(b.eb,{value:"top-right",children:"Top Right"}),(0,r.jsx)(b.eb,{value:"bottom-left",children:"Bottom Left"}),(0,r.jsx)(b.eb,{value:"bottom-right",children:"Bottom Right"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"text-padding",children:"Text Padding"}),(0,r.jsx)(g.p,{id:"text-padding",type:"number",min:"0",value:e.General.general_text_padding,onChange:e=>a("General","general_text_padding",parseInt(e.target.value)||12)})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.d,{id:"dynamic-sizing",checked:e.General.use_dynamic_sizing,onCheckedChange:e=>a("General","use_dynamic_sizing",e)}),(0,r.jsx)(m.J,{htmlFor:"dynamic-sizing",children:"Use Dynamic Sizing"})]})]})]})}function F({settings:e,updateSetting:a,availableFonts:s=[]}){return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(f,{className:"h-5 w-5"}),"Text Settings"]}),(0,r.jsx)(l.BT,{children:"Configure font, size, and text appearance for resolution badges"})]}),(0,r.jsx)(l.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"font",children:"Primary Font"}),(0,r.jsx)(S,{value:e.Text.font,onValueChange:e=>a("Text","font",e),availableFonts:s,placeholder:"Select a font..."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"fallback-font",children:"Fallback Font"}),(0,r.jsx)(S,{value:e.Text.fallback_font,onValueChange:e=>a("Text","fallback_font",e),availableFonts:s,placeholder:"Select a font..."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"text-color",children:"Text Color"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"color",value:e.Text["text-color"],onChange:e=>a("Text","text-color",e.target.value),className:"w-12 h-10 border rounded cursor-pointer"}),(0,r.jsx)(g.p,{type:"text",value:e.Text["text-color"],onChange:e=>a("Text","text-color",e.target.value),className:"flex-1",placeholder:"#FFFFFF"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"text-size",children:"Text Size"}),(0,r.jsx)(g.p,{id:"text-size",type:"number",min:"10",value:e.Text["text-size"],onChange:e=>a("Text","text-size",parseInt(e.target.value)||90),placeholder:"90"})]})]})})]})}function R({settings:e,updateSetting:a}){return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Background Settings"}),(0,r.jsx)(l.BT,{children:"Configure badge background appearance"})]}),(0,r.jsx)(l.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"background-color",children:"Background Color"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"color",value:e.Background["background-color"],onChange:e=>a("Background","background-color",e.target.value),className:"w-12 h-10 rounded border border-input"}),(0,r.jsx)(g.p,{value:e.Background["background-color"],onChange:e=>a("Background","background-color",e.target.value),placeholder:"#000000",className:"flex-1"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"background-opacity",children:"Background Opacity (%)"}),(0,r.jsx)(g.p,{id:"background-opacity",type:"number",min:"0",max:"100",value:e.Background.background_opacity,onChange:e=>a("Background","background_opacity",parseInt(e.target.value)||40)})]})]})})]})}function J({settings:e,updateSetting:a}){return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Border Settings"}),(0,r.jsx)(l.BT,{children:"Configure badge border appearance"})]}),(0,r.jsx)(l.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"border-color",children:"Border Color"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"color",value:e.Border["border-color"],onChange:e=>a("Border","border-color",e.target.value),className:"w-12 h-10 rounded border border-input"}),(0,r.jsx)(g.p,{value:e.Border["border-color"],onChange:e=>a("Border","border-color",e.target.value),placeholder:"#000000",className:"flex-1"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"border-radius",children:"Border Radius"}),(0,r.jsx)(g.p,{id:"border-radius",type:"number",min:"0",value:e.Border["border-radius"],onChange:e=>a("Border","border-radius",parseInt(e.target.value)||10)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"border-width",children:"Border Width"}),(0,r.jsx)(g.p,{id:"border-width",type:"number",min:"0",value:e.Border.border_width,onChange:e=>a("Border","border_width",parseInt(e.target.value)||1)})]})]})})]})}function z({settings:e,updateSetting:a}){return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Shadow Settings"}),(0,r.jsx)(l.BT,{children:"Configure badge drop shadow effects"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,r.jsx)(j.d,{id:"shadow-enable",checked:e.Shadow.shadow_enable,onCheckedChange:e=>a("Shadow","shadow_enable",e)}),(0,r.jsx)(m.J,{htmlFor:"shadow-enable",children:"Enable Shadow"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"shadow-blur",children:"Shadow Blur"}),(0,r.jsx)(g.p,{id:"shadow-blur",type:"number",min:"0",value:e.Shadow.shadow_blur,onChange:e=>a("Shadow","shadow_blur",parseInt(e.target.value)||8),disabled:!e.Shadow.shadow_enable})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"shadow-offset-x",children:"Shadow Offset X"}),(0,r.jsx)(g.p,{id:"shadow-offset-x",type:"number",value:e.Shadow.shadow_offset_x,onChange:e=>a("Shadow","shadow_offset_x",parseInt(e.target.value)||2),disabled:!e.Shadow.shadow_enable})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"shadow-offset-y",children:"Shadow Offset Y"}),(0,r.jsx)(g.p,{id:"shadow-offset-y",type:"number",value:e.Shadow.shadow_offset_y,onChange:e=>a("Shadow","shadow_offset_y",parseInt(e.target.value)||2),disabled:!e.Shadow.shadow_enable})]})]})]})]})}function G({settings:e,updateSetting:a,addResolutionMapping:s,removeResolutionMapping:n,updateResolutionName:t}){let[d,c]=(0,i.useState)({resolution:"",image:""});return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Image Badge Settings"}),(0,r.jsx)(l.BT,{children:"Configure image-based badges and resolution mappings"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.d,{id:"enable-image-badges",checked:e.ImageBadges.enable_image_badges,onCheckedChange:e=>a("ImageBadges","enable_image_badges",e)}),(0,r.jsx)(m.J,{htmlFor:"enable-image-badges",children:"Enable Image Badges"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"resolution-directory",children:"Resolution Image Directory"}),(0,r.jsx)(g.p,{id:"resolution-directory",type:"text",value:e.ImageBadges.codec_image_directory,onChange:e=>a("ImageBadges","codec_image_directory",e.target.value),disabled:!e.ImageBadges.enable_image_badges,placeholder:"images/resolution"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"image-padding",children:"Image Padding"}),(0,r.jsx)(g.p,{id:"image-padding",type:"number",min:"0",value:e.ImageBadges.image_padding,onChange:e=>a("ImageBadges","image_padding",parseInt(e.target.value)||20),disabled:!e.ImageBadges.enable_image_badges})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.d,{id:"fallback-to-text",checked:e.ImageBadges.fallback_to_text,onCheckedChange:e=>a("ImageBadges","fallback_to_text",e),disabled:!e.ImageBadges.enable_image_badges}),(0,r.jsx)(m.J,{htmlFor:"fallback-to-text",children:"Fallback to Text"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold",children:"Resolution Image Mappings"}),(0,r.jsxs)(h.E,{variant:"secondary",children:[Object.keys(e.ImageBadges.image_mapping).length," mappings"]})]}),(0,r.jsxs)("div",{className:"max-h-60 overflow-y-auto space-y-2 border rounded-md p-4",children:[Object.entries(e.ImageBadges.image_mapping).map(([s,i])=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(g.p,{value:s,onChange:e=>t(s,e.target.value),disabled:!e.ImageBadges.enable_image_badges,className:"flex-1",placeholder:"Resolution Name (e.g., 4K, 1080p)"}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"→"}),(0,r.jsx)(g.p,{value:i,onChange:r=>a("ImageBadges","image_mapping",{...e.ImageBadges.image_mapping,[s]:r.target.value}),disabled:!e.ImageBadges.enable_image_badges,className:"flex-1",placeholder:"Image Filename (e.g., 4K.png)"}),(0,r.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>n(s),disabled:!e.ImageBadges.enable_image_badges,children:(0,r.jsx)(_.A,{className:"h-4 w-4"})})]},s)),(0,r.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t",children:[(0,r.jsx)(g.p,{value:d.resolution,onChange:e=>c(a=>({...a,resolution:e.target.value})),disabled:!e.ImageBadges.enable_image_badges,placeholder:"New resolution name",className:"flex-1"}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"→"}),(0,r.jsx)(g.p,{value:d.image,onChange:e=>c(a=>({...a,image:e.target.value})),disabled:!e.ImageBadges.enable_image_badges,placeholder:"Image filename",className:"flex-1"}),(0,r.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>{d.resolution&&d.image&&(s(d.resolution,d.image),c({resolution:"",image:""}))},disabled:!e.ImageBadges.enable_image_badges||!d.resolution||!d.image,children:(0,r.jsx)(w.A,{className:"h-4 w-4"})})]})]})]})]})]})}let M={General:{general_badge_size:100,general_edge_padding:30,general_badge_position:"top-right",general_text_padding:12,use_dynamic_sizing:!0},Text:{font:"AvenirNextLTProBold.otf",fallback_font:"DejaVuSans.ttf","text-color":"#FFFFFF","text-size":90},Background:{"background-color":"#000000",background_opacity:40},Border:{"border-color":"#000000","border-radius":10,border_width:1},Shadow:{shadow_enable:!1,shadow_blur:8,shadow_offset_x:2,shadow_offset_y:2},ImageBadges:{enable_image_badges:!0,codec_image_directory:"images/resolution",fallback_to_text:!0,image_padding:20,image_mapping:{"4K":"4K.png","1080p":"1080p.png","720p":"720p.png","480p":"480p.png",SD:"SD.png"}}};var P=s(4398);function D({settings:e,updateSetting:a}){return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"General Settings"}),(0,r.jsx)(l.BT,{children:"Configure basic badge positioning and sizing for review badges"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"badge-size",children:"Badge Size"}),(0,r.jsx)(g.p,{id:"badge-size",type:"number",min:"10",value:e.General.general_badge_size,onChange:e=>a("General","general_badge_size",parseInt(e.target.value)||100),placeholder:"100"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"edge-padding",children:"Edge Padding"}),(0,r.jsx)(g.p,{id:"edge-padding",type:"number",min:"0",value:e.General.general_edge_padding,onChange:e=>a("General","general_edge_padding",parseInt(e.target.value)||30),placeholder:"30"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"badge-position",children:"Badge Position"}),(0,r.jsxs)(b.l6,{value:e.General.general_badge_position,onValueChange:e=>a("General","general_badge_position",e),children:[(0,r.jsx)(b.bq,{children:(0,r.jsx)(b.yv,{})}),(0,r.jsxs)(b.gC,{children:[(0,r.jsx)(b.eb,{value:"top-left",children:"Top Left"}),(0,r.jsx)(b.eb,{value:"top-right",children:"Top Right"}),(0,r.jsx)(b.eb,{value:"bottom-left",children:"Bottom Left"}),(0,r.jsx)(b.eb,{value:"bottom-right",children:"Bottom Right"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"text-padding",children:"Text Padding"}),(0,r.jsx)(g.p,{id:"text-padding",type:"number",min:"0",value:e.General.general_text_padding,onChange:e=>a("General","general_text_padding",parseInt(e.target.value)||20),placeholder:"20"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"badge-orientation",children:"Badge Orientation"}),(0,r.jsxs)(b.l6,{value:e.General.badge_orientation,onValueChange:e=>a("General","badge_orientation",e),children:[(0,r.jsx)(b.bq,{children:(0,r.jsx)(b.yv,{})}),(0,r.jsxs)(b.gC,{children:[(0,r.jsx)(b.eb,{value:"horizontal",children:"Horizontal"}),(0,r.jsx)(b.eb,{value:"vertical",children:"Vertical"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"badge-spacing",children:"Badge Spacing"}),(0,r.jsx)(g.p,{id:"badge-spacing",type:"number",min:"0",value:e.General.badge_spacing,onChange:e=>a("General","badge_spacing",parseInt(e.target.value)||15),placeholder:"15"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"max-badges",children:"Max Badges to Display"}),(0,r.jsx)(g.p,{id:"max-badges",type:"number",min:"1",value:e.General.max_badges_to_display,onChange:e=>a("General","max_badges_to_display",parseInt(e.target.value)||4),placeholder:"4"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.d,{id:"dynamic-sizing",checked:e.General.use_dynamic_sizing,onCheckedChange:e=>a("General","use_dynamic_sizing",e)}),(0,r.jsx)(m.J,{htmlFor:"dynamic-sizing",children:"Use Dynamic Sizing"})]})]})]})}var E=s(6882);let L=(0,v.A)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),Z=(0,v.A)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),$=(0,v.A)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);function O({settings:e,reviewSources:a,reviewSourceSettings:s,updateSetting:n,updateReviewSource:t,updateReviewSourceSettings:d,reorderSources:u}){let[p,x]=(0,i.useState)(null),[v,y]=(0,i.useState)(null),f=e=>{if(!e)return"";try{return JSON.parse(e).content_type||"conditional"}catch(e){return"conditional"}},_=(e,a)=>{x(a),e.dataTransfer.effectAllowed="move",console.log("\uD83D\uDCCB Drag started for index:",a)},w=(e,a)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",null!==p&&p!==a&&y(a)},N=()=>{y(null)},B=(e,s)=>{if(e.preventDefault(),null===p||p===s){x(null),y(null);return}console.log("\uD83D\uDCCB Dropping item from index",p,"to index",s);let r=[...a].sort((e,a)=>e.priority-a.priority),i=r[p],n=[...r];n.splice(p,1),n.splice(s,0,i);let l=n.map((e,a)=>({...e,priority:a+1,display_order:a+1}));console.log("\uD83D\uDCCB New order after drop:",l.map(e=>({name:e.source_name,priority:e.priority}))),u(l),x(null),y(null)},k=()=>{x(null),y(null)},C=e=>{if(e>0){let s=[...a];[s[e],s[e-1]]=[s[e-1],s[e]],s.forEach((e,a)=>{e.priority=a+1,e.display_order=a+1}),u(s)}},S=e=>{if(e<a.length-1){let s=[...a];[s[e],s[e+1]]=[s[e+1],s[e]],s.forEach((e,a)=>{e.priority=a+1,e.display_order=a+1}),u(s)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(E.A,{className:"h-5 w-5 text-blue-500"}),"Review Source Availability"]})}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("p",{className:"mb-2 text-sm",children:"Not all review sources are currently functional. Here are the sources that are currently working:"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[(0,r.jsx)(h.E,{variant:"default",className:"bg-green-500",children:"IMDb"}),(0,r.jsx)(h.E,{variant:"default",className:"bg-green-500",children:"Metacritic"}),(0,r.jsx)(h.E,{variant:"default",className:"bg-green-500",children:"MyAnimeList"}),(0,r.jsx)(h.E,{variant:"default",className:"bg-green-500",children:"Rotten Tomatoes Audience"}),(0,r.jsx)(h.E,{variant:"default",className:"bg-green-500",children:"Rotten Tomatoes Critics"}),(0,r.jsx)(h.E,{variant:"default",className:"bg-green-500",children:"TMDb"})]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Other sources are included for future functionality and testing purposes. I will get to them, I promise!"})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(c.A,{className:"h-5 w-5"}),"Review Sources Control"]}),(0,r.jsx)(l.BT,{children:"Configure which review sources to display and their priority order"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"max-badges-display",children:"Max Badges to Display"}),(0,r.jsx)(g.p,{id:"max-badges-display",type:"number",min:"1",max:"10",value:s.max_badges_display,onChange:e=>d("max_badges_display",parseInt(e.target.value)||4)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"selection-mode",children:"Selection Mode"}),(0,r.jsxs)(b.l6,{value:s.source_selection_mode,onValueChange:e=>d("source_selection_mode",e),children:[(0,r.jsx)(b.bq,{children:(0,r.jsx)(b.yv,{})}),(0,r.jsxs)(b.gC,{children:[(0,r.jsx)(b.eb,{value:"priority",children:"Priority Order"}),(0,r.jsx)(b.eb,{value:"enabled_only",children:"Enabled Only"}),(0,r.jsx)(b.eb,{value:"custom",children:"Custom Logic"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 pt-6",children:[(0,r.jsx)(j.d,{id:"show-percentage-only",checked:s.show_percentage_only,onCheckedChange:e=>d("show_percentage_only",e)}),(0,r.jsx)(m.J,{htmlFor:"show-percentage-only",children:"Convert all to percentage format"})]})]}),(0,r.jsxs)("div",{className:"bg-muted/30 rounded-lg p-4",children:[(0,r.jsxs)("h4",{className:"text-lg font-semibold mb-3 flex items-center",children:[(0,r.jsx)(L,{className:"w-4 h-4 mr-2 text-muted-foreground"}),"Review Sources (Drag to reorder)"]}),(0,r.jsx)("div",{className:"space-y-2",children:a.sort((e,a)=>e.priority-a.priority).map((e,s)=>{let i=p===s,n=v===s;return(0,r.jsx)(l.Zp,{className:`shadow-sm hover:shadow-md transition-shadow cursor-move ${!e.enabled?"opacity-50":""} ${i?"opacity-30 transform rotate-2":""} ${n?"border-blue-500 border-2 bg-blue-50":""}`,draggable:!0,onDragStart:e=>_(e,s),onDragOver:e=>w(e,s),onDragLeave:N,onDrop:e=>B(e,s),onDragEnd:k,children:(0,r.jsx)(l.Wu,{className:"p-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(L,{className:"w-5 h-5 text-muted-foreground cursor-move"}),(0,r.jsx)(h.E,{variant:"default",className:"w-8 text-center",children:e.priority}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"font-medium",children:e.source_name}),e.conditions&&(0,r.jsx)(h.E,{variant:"secondary",className:"text-xs",children:f(e.conditions)})]}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Max variants: ",e.max_variants," •",(0,r.jsx)("span",{className:e.enabled?"text-green-600":"text-red-600",children:e.enabled?"Enabled":"Disabled"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(m.J,{className:"text-xs",children:"Max:"}),(0,r.jsxs)(b.l6,{value:e.max_variants.toString(),onValueChange:a=>{t({...e,max_variants:parseInt(a)})},children:[(0,r.jsx)(b.bq,{className:"w-16",children:(0,r.jsx)(b.yv,{})}),(0,r.jsxs)(b.gC,{children:[(0,r.jsx)(b.eb,{value:"1",children:"1"}),(0,r.jsx)(b.eb,{value:"2",children:"2"}),(0,r.jsx)(b.eb,{value:"3",children:"3"}),(0,r.jsx)(b.eb,{value:"4",children:"4"}),(0,r.jsx)(b.eb,{value:"5",children:"5"})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,r.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>C(s),disabled:0===s,className:"h-6 w-8 p-0",children:(0,r.jsx)(Z,{className:"h-3 w-3"})}),(0,r.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>S(s),disabled:s===a.length-1,className:"h-6 w-8 p-0",children:(0,r.jsx)($,{className:"h-3 w-3"})})]}),(0,r.jsx)(j.d,{checked:e.enabled,onCheckedChange:a=>{t({...e,enabled:a})}})]})]})})},e.id)})})]})]})]})]})}function V({settings:e,updateSetting:a,availableFonts:s=[]}){let i=["AvenirNextLTProBold.otf","DejaVuSans.ttf","Arial","Helvetica","Times New Roman","Courier New",...s].filter((e,a,s)=>s.indexOf(e)===a);return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(f,{className:"h-5 w-5"}),"Text Settings"]}),(0,r.jsx)(l.BT,{children:"Configure font, size, and text appearance for review badges"})]}),(0,r.jsx)(l.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"font",children:"Primary Font"}),(0,r.jsxs)(b.l6,{value:e.Text.font,onValueChange:e=>a("Text","font",e),children:[(0,r.jsx)(b.bq,{children:(0,r.jsx)(b.yv,{placeholder:"Select a font..."})}),(0,r.jsx)(b.gC,{children:i.map(e=>(0,r.jsx)(b.eb,{value:e,children:e},e))})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"fallback-font",children:"Fallback Font"}),(0,r.jsxs)(b.l6,{value:e.Text.fallback_font,onValueChange:e=>a("Text","fallback_font",e),children:[(0,r.jsx)(b.bq,{children:(0,r.jsx)(b.yv,{placeholder:"Select a font..."})}),(0,r.jsx)(b.gC,{children:i.map(e=>(0,r.jsx)(b.eb,{value:e,children:e},e))})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"text-color",children:"Text Color"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"color",value:e.Text["text-color"],onChange:e=>a("Text","text-color",e.target.value),className:"w-12 h-10 border rounded cursor-pointer"}),(0,r.jsx)(g.p,{type:"text",value:e.Text["text-color"],onChange:e=>a("Text","text-color",e.target.value),className:"flex-1",placeholder:"#FFFFFF"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"text-size",children:"Text Size"}),(0,r.jsx)(g.p,{id:"text-size",type:"number",min:"10",value:e.Text["text-size"],onChange:e=>a("Text","text-size",parseInt(e.target.value)||60),placeholder:"60"})]})]})})]})}var W=s(3385);function X({settings:e,updateSetting:a}){return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(W.A,{className:"h-5 w-5"}),"Background Settings"]}),(0,r.jsx)(l.BT,{children:"Configure background color and opacity for review badges"})]}),(0,r.jsx)(l.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"background-color",children:"Background Color"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"color",value:e.Background["background-color"],onChange:e=>a("Background","background-color",e.target.value),className:"w-12 h-10 border rounded cursor-pointer"}),(0,r.jsx)(g.p,{type:"text",value:e.Background["background-color"],onChange:e=>a("Background","background-color",e.target.value),className:"flex-1",placeholder:"#2C2C2C"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"background-opacity",children:"Background Opacity (%)"}),(0,r.jsx)(g.p,{id:"background-opacity",type:"number",min:"0",max:"100",value:e.Background.background_opacity,onChange:e=>a("Background","background_opacity",parseInt(e.target.value)||60),placeholder:"60"})]})]})})]})}function U({settings:e,updateSetting:a}){return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(W.A,{className:"h-5 w-5"}),"Border Settings"]}),(0,r.jsx)(l.BT,{children:"Configure border appearance for review badges"})]}),(0,r.jsx)(l.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"border-color",children:"Border Color"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"color",value:e.Border["border-color"],onChange:e=>a("Border","border-color",e.target.value),className:"w-12 h-10 border rounded cursor-pointer"}),(0,r.jsx)(g.p,{type:"text",value:e.Border["border-color"],onChange:e=>a("Border","border-color",e.target.value),className:"flex-1",placeholder:"#2C2C2C"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"border-width",children:"Border Width"}),(0,r.jsx)(g.p,{id:"border-width",type:"number",min:"0",value:e.Border.border_width,onChange:e=>a("Border","border_width",parseInt(e.target.value)||1),placeholder:"1"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"border-radius",children:"Border Radius"}),(0,r.jsx)(g.p,{id:"border-radius",type:"number",min:"0",value:e.Border.border_radius,onChange:e=>a("Border","border_radius",parseInt(e.target.value)||10),placeholder:"10"})]})]})})]})}let q=(0,v.A)("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);function H({settings:e,updateSetting:a}){return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(q,{className:"h-5 w-5"}),"Shadow Settings"]}),(0,r.jsx)(l.BT,{children:"Configure shadow effects for review badges"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,r.jsx)(j.d,{id:"shadow-enable",checked:e.Shadow.shadow_enable,onCheckedChange:e=>a("Shadow","shadow_enable",e)}),(0,r.jsx)(m.J,{htmlFor:"shadow-enable",children:"Enable Shadow"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"shadow-blur",children:"Shadow Blur"}),(0,r.jsx)(g.p,{id:"shadow-blur",type:"number",min:"0",value:e.Shadow.shadow_blur,onChange:e=>a("Shadow","shadow_blur",parseInt(e.target.value)||5),placeholder:"5",disabled:!e.Shadow.shadow_enable})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"shadow-x",children:"Shadow X Offset"}),(0,r.jsx)(g.p,{id:"shadow-x",type:"number",value:e.Shadow.shadow_offset_x,onChange:e=>a("Shadow","shadow_offset_x",parseInt(e.target.value)||2),placeholder:"2",disabled:!e.Shadow.shadow_enable})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"shadow-y",children:"Shadow Y Offset"}),(0,r.jsx)(g.p,{id:"shadow-y",type:"number",value:e.Shadow.shadow_offset_y,onChange:e=>a("Shadow","shadow_offset_y",parseInt(e.target.value)||2),placeholder:"2",disabled:!e.Shadow.shadow_enable})]})]})]})]})}var Y=s(9005);let K=(0,v.A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var Q=s(5748);function ee({settings:e,updateSetting:a,addImageMapping:s,removeImageMapping:n,updateImageName:t}){let[d,c]=(0,i.useState)({rating:"",image:""}),[h,u]=(0,i.useState)({}),p=s=>{let r={...e.ImageBadges.image_mapping};delete r[s],a("ImageBadges","image_mapping",r),n&&n(s)},x=(s,r)=>{if(s===r||!r.trim())return;let i=e.ImageBadges.image_mapping[s],n={...e.ImageBadges.image_mapping};delete n[s],n[r]=i,a("ImageBadges","image_mapping",n),t&&t(s,r)};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(Y.A,{className:"h-5 w-5"}),"Image Badge Settings"]}),(0,r.jsx)(l.BT,{children:"Configure image-based badges for review sources"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.d,{id:"enable-image-badges",checked:e.ImageBadges.enable_image_badges,onCheckedChange:e=>a("ImageBadges","enable_image_badges",e)}),(0,r.jsx)(m.J,{htmlFor:"enable-image-badges",children:"Use Image Badges"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.d,{id:"fallback-to-text",checked:e.ImageBadges.fallback_to_text,onCheckedChange:e=>a("ImageBadges","fallback_to_text",e),disabled:!e.ImageBadges.enable_image_badges}),(0,r.jsx)(m.J,{htmlFor:"fallback-to-text",children:"Fallback to Text"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"image-directory",children:"Image Directory"}),(0,r.jsx)(g.p,{id:"image-directory",type:"text",value:e.ImageBadges.codec_image_directory,onChange:e=>a("ImageBadges","codec_image_directory",e.target.value),placeholder:"images/rating",disabled:!e.ImageBadges.enable_image_badges})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"image-padding",children:"Image Padding"}),(0,r.jsx)(g.p,{id:"image-padding",type:"number",min:"0",value:e.ImageBadges.image_padding,onChange:e=>a("ImageBadges","image_padding",parseInt(e.target.value)||5),placeholder:"5",disabled:!e.ImageBadges.enable_image_badges})]})]})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Image Mappings"}),(0,r.jsx)(l.BT,{children:"Map rating names to image filenames"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[Object.entries(e.ImageBadges.image_mapping).map(([s,i])=>(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center",children:[(0,r.jsx)(g.p,{value:h[s]||s,onChange:e=>u(a=>({...a,[s]:e.target.value})),onBlur:e=>{let a=e.target.value.trim();a&&a!==s&&x(s,a),u(e=>{let a={...e};return delete a[s],a})},className:"col-span-5",placeholder:"Rating Name",disabled:!e.ImageBadges.enable_image_badges}),(0,r.jsx)(K,{className:"col-span-1 h-4 w-4 text-muted-foreground justify-self-center"}),(0,r.jsx)(g.p,{value:i,onChange:r=>{let i={...e.ImageBadges.image_mapping};i[s]=r.target.value,a("ImageBadges","image_mapping",i)},className:"col-span-5",placeholder:"Image Name",disabled:!e.ImageBadges.enable_image_badges}),(0,r.jsx)(o.$,{onClick:()=>p(s),variant:"ghost",size:"sm",className:"col-span-1 h-8 w-8 p-0 text-red-500 hover:bg-red-50 hover:text-red-600",disabled:!e.ImageBadges.enable_image_badges,children:(0,r.jsx)(Q.A,{className:"h-4 w-4"})})]},s)),(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center mt-4 pt-4 border-t",children:[(0,r.jsx)(g.p,{value:d.rating,onChange:e=>c(a=>({...a,rating:e.target.value})),className:"col-span-5",placeholder:"Rating Name",disabled:!e.ImageBadges.enable_image_badges}),(0,r.jsx)(K,{className:"col-span-1 h-4 w-4 text-muted-foreground justify-self-center"}),(0,r.jsx)(g.p,{value:d.image,onChange:e=>c(a=>({...a,image:e.target.value})),className:"col-span-5",placeholder:"Image Name",disabled:!e.ImageBadges.enable_image_badges}),(0,r.jsx)(o.$,{onClick:()=>{d.rating&&d.image&&(a("ImageBadges","image_mapping",{...e.ImageBadges.image_mapping,[d.rating]:d.image}),c({rating:"",image:""}),s&&s(d.rating,d.image))},variant:"ghost",size:"sm",className:"col-span-1 h-8 w-8 p-0 text-green-500 hover:bg-green-50 hover:text-green-600",disabled:!e.ImageBadges.enable_image_badges||!d.rating||!d.image,children:(0,r.jsx)(w.A,{className:"h-4 w-4"})})]})]}),0===Object.keys(e.ImageBadges.image_mapping).length&&(0,r.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,r.jsx)(Y.A,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,r.jsx)("p",{children:"No image mappings configured"}),(0,r.jsx)("p",{className:"text-sm",children:"Add mappings above to use image badges"})]})]})]})]})}let ea={General:{general_badge_size:100,general_edge_padding:30,general_badge_position:"bottom-left",general_text_padding:20,use_dynamic_sizing:!0,badge_orientation:"vertical",badge_spacing:15,max_badges_to_display:4},Sources:{enable_imdb:!0,enable_rotten_tomatoes:!0,enable_metacritic:!0,enable_tmdb:!1,enable_myanimelist:!1,enable_anidb:!1,source_priority:["imdb","rotten_tomatoes","metacritic","tmdb","myanimelist","anidb"],minimum_votes_threshold:100,fallback_behavior:"hide"},Text:{font:"AvenirNextLTProBold.otf",fallback_font:"DejaVuSans.ttf","text-color":"#FFFFFF","text-size":60},Background:{"background-color":"#2C2C2C",background_opacity:60},Border:{"border-color":"#2C2C2C","border-radius":10,border_width:1},Shadow:{shadow_enable:!1,shadow_blur:5,shadow_offset_x:2,shadow_offset_y:2},ImageBadges:{enable_image_badges:!0,codec_image_directory:"images/rating",fallback_to_text:!0,image_padding:5,image_mapping:{IMDb:"imdb.png","Rotten Tomatoes":"rt.png",Metacritic:"metacritic.png",MyAnimeList:"mal.png"}}},es={max_badges_display:4,source_selection_mode:"priority",show_percentage_only:!0,group_related_sources:!0,anime_sources_for_anime_only:!0},er=[{id:1,source_name:"IMDb",enabled:!0,display_order:1,priority:1,max_variants:3,conditions:null},{id:2,source_name:"Rotten Tomatoes Critics",enabled:!0,display_order:2,priority:2,max_variants:3,conditions:null},{id:3,source_name:"Metacritic",enabled:!0,display_order:3,priority:3,max_variants:2,conditions:null},{id:4,source_name:"TMDb",enabled:!0,display_order:4,priority:4,max_variants:1,conditions:null},{id:5,source_name:"AniDB",enabled:!0,display_order:5,priority:5,max_variants:1,conditions:'{"content_type": "anime"}'},{id:6,source_name:"Rotten Tomatoes Audience",enabled:!1,display_order:6,priority:6,max_variants:3,conditions:null},{id:7,source_name:"Letterboxd",enabled:!1,display_order:7,priority:7,max_variants:1,conditions:null},{id:8,source_name:"MyAnimeList",enabled:!1,display_order:8,priority:8,max_variants:1,conditions:'{"content_type": "anime"}'},{id:9,source_name:"Trakt",enabled:!1,display_order:9,priority:9,max_variants:1,conditions:null},{id:10,source_name:"MDBList",enabled:!1,display_order:10,priority:10,max_variants:1,conditions:null}],ei=(0,v.A)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);function en({settings:e,updateSetting:a}){return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(ei,{className:"h-5 w-5"}),(0,r.jsx)(l.ZB,{children:"General Settings"})]}),(0,r.jsx)(l.BT,{children:"Basic configuration for awards badges"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(m.J,{htmlFor:"awards-enabled",children:"Enable Awards Badges"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Awards badges appear flush in the bottom-right corner when media has won specific awards"})]}),(0,r.jsx)(j.d,{id:"awards-enabled",checked:e.General.enabled,onCheckedChange:e=>a("General","enabled",e)})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"badge-size",children:"Badge Size"}),(0,r.jsx)(g.p,{id:"badge-size",type:"number",min:50,max:200,value:e.General.general_badge_size,onChange:e=>a("General","general_badge_size",parseInt(e.target.value)||120),disabled:!e.General.enabled}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Recommended: 120px for ribbon visibility"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{children:"Badge Position"}),(0,r.jsxs)("div",{className:"p-3 border rounded-lg bg-muted/50",children:[(0,r.jsx)("div",{className:"font-medium flex items-center gap-2",children:(0,r.jsx)(h.E,{variant:"outline",children:"Bottom-Right Flush"})}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"Awards badges are always positioned flush to the bottom-right corner with no padding for optimal ribbon appearance"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(m.J,{htmlFor:"dynamic-sizing",children:"Use Dynamic Sizing"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Automatically adjust badge size based on content"})]}),(0,r.jsx)(j.d,{id:"dynamic-sizing",checked:e.General.use_dynamic_sizing,onCheckedChange:e=>a("General","use_dynamic_sizing",e),disabled:!e.General.enabled})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"edge-padding",children:"Edge Padding"}),(0,r.jsx)(g.p,{id:"edge-padding",type:"number",value:e.General.general_edge_padding,disabled:!0,className:"opacity-50"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Awards use 0 padding for flush positioning"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"text-padding",children:"Text Padding"}),(0,r.jsx)(g.p,{id:"text-padding",type:"number",value:e.General.general_text_padding,disabled:!0,className:"opacity-50"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Awards use 0 padding for flush positioning"})]})]})]})]})}var el=s(6896);let et={General:{enabled:!0,general_badge_size:120,general_badge_position:"bottom-right-flush",general_edge_padding:0,general_text_padding:0,use_dynamic_sizing:!1},Awards:{color_scheme:"yellow",award_sources:["oscars","emmys","golden","bafta","cannes","crunchyroll"]},Text:{font:"AvenirNextLTProBold.otf",fallback_font:"DejaVuSans.ttf","text-color":"#FFFFFF","text-size":90},Background:{"background-color":"#000000",background_opacity:40},Border:{"border-color":"#000000","border-radius":10,border_width:1},Shadow:{shadow_enable:!1,shadow_blur:8,shadow_offset_x:2,shadow_offset_y:2},ImageBadges:{enable_image_badges:!0,codec_image_directory:"images/awards",fallback_to_text:!1,image_padding:0,image_mapping:{oscars:"oscars.png",emmys:"emmys.png",golden:"golden.png",bafta:"bafta.png",cannes:"cannes.png",crunchyroll:"crunchyroll.png",berlinale:"berlinale.png",cesar:"cesar.png",choice:"choice.png",imdb:"imdb.png",letterboxd:"letterboxd.png",metacritic:"metacritic.png",netflix:"netflix.png",razzie:"razzie.png",rotten:"rotten.png",rottenverified:"rottenverified.png",spirit:"spirit.png",sundance:"sundance.png",venice:"venice.png"}}},ed=[{value:"black",label:"Black",bgClass:"bg-gray-100",previewClass:"bg-black border-gray-300",textClass:"text-gray-900"},{value:"gray",label:"Gray",bgClass:"bg-gray-100",previewClass:"bg-gray-500 border-gray-300",textClass:"text-gray-700"},{value:"red",label:"Red",bgClass:"bg-red-50",previewClass:"bg-red-600 border-red-300",textClass:"text-red-700"},{value:"yellow",label:"Yellow",bgClass:"bg-yellow-50",previewClass:"bg-yellow-500 border-yellow-300",textClass:"text-yellow-700"}],ec=[{value:"oscars",label:"Academy Awards (Oscars)",priority:"Highest"},{value:"cannes",label:"Cannes Film Festival",priority:"Very High"},{value:"golden",label:"Golden Globe Awards",priority:"High"},{value:"bafta",label:"BAFTA Awards",priority:"High"},{value:"emmys",label:"Emmy Awards",priority:"High"},{value:"crunchyroll",label:"Crunchyroll Anime Awards",priority:"High"},{value:"berlinale",label:"Berlin International Film Festival",priority:"Medium"},{value:"venice",label:"Venice Film Festival",priority:"Medium"},{value:"sundance",label:"Sundance Film Festival",priority:"Medium"},{value:"spirit",label:"Independent Spirit Awards",priority:"Medium"},{value:"choice",label:"Critics Choice Awards",priority:"Medium"},{value:"cesar",label:"C\xe9sar Awards",priority:"Low"},{value:"imdb",label:"IMDb Top Lists",priority:"Low"},{value:"letterboxd",label:"Letterboxd",priority:"Low"},{value:"metacritic",label:"Metacritic",priority:"Low"},{value:"netflix",label:"Netflix",priority:"Low"},{value:"razzie",label:"Golden Raspberry Awards",priority:"Low"},{value:"rotten",label:"Rotten Tomatoes",priority:"Low"},{value:"rottenverified",label:"Rotten Tomatoes (Verified)",priority:"Low"}];function eo({settings:e,updateSetting:a,updateAwardSources:s}){let i=e=>{a("Awards","color_scheme",e)},n=(a,r)=>{let i,n=e.Awards.award_sources;s(r?[...n,a]:n.filter(e=>e!==a))},t=ed.find(a=>a.value===e.Awards.color_scheme);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(P.A,{className:"h-5 w-5"}),(0,r.jsx)(l.ZB,{children:"Color Scheme"})]}),(0,r.jsx)(l.BT,{children:"Choose the color scheme for award ribbons"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3",children:ed.map(a=>(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:`color-${a.value}`,type:"radio",value:a.value,checked:e.Awards.color_scheme===a.value,onChange:()=>i(a.value),disabled:!e.General.enabled,className:"peer sr-only"}),(0,r.jsx)("label",{htmlFor:`color-${a.value}`,className:`flex items-center justify-center p-3 border rounded-lg cursor-pointer transition-all ${e.Awards.color_scheme===a.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"} ${!e.General.enabled?"opacity-50 cursor-not-allowed":""} ${a.bgClass}`,children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:`w-4 h-4 rounded border-2 ${a.previewClass}`}),(0,r.jsx)("span",{className:`text-sm font-medium ${a.textClass}`,children:a.label})]})})]},a.value))}),e.General.enabled&&t&&(0,r.jsxs)("div",{className:"p-3 border rounded-lg bg-muted/50",children:[(0,r.jsx)("div",{className:"text-sm font-medium mb-2",children:"Preview:"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:`w-8 h-8 rounded border-2 ${t.previewClass}`}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:[t.label," scheme selected"]})]})]})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(ei,{className:"h-5 w-5"}),(0,r.jsx)(l.ZB,{children:"Award Sources"})]}),(0,r.jsx)(l.BT,{children:"Select which award types to detect and display"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsx)("div",{className:"max-h-64 overflow-y-auto border rounded-lg p-3",children:(0,r.jsx)("div",{className:"space-y-3",children:ec.map(a=>{let s=e.Awards.award_sources.includes(a.value);return(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(el.S,{id:`award-${a.value}`,checked:s,onCheckedChange:e=>n(a.value,e),disabled:!e.General.enabled}),(0,r.jsx)("label",{htmlFor:`award-${a.value}`,className:`flex-1 text-sm cursor-pointer ${!e.General.enabled?"opacity-50":""}`,children:a.label}),a.priority&&(0,r.jsx)(h.E,{variant:"outline",className:"text-xs",children:a.priority})]},a.value)})})}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Selected awards will be detected automatically. Priority order: Oscars → Cannes → Golden Globe → BAFTA → Emmy → Others"}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)(h.E,{variant:"secondary",children:[e.Awards.award_sources.length," sources selected"]})})]})]}),e.General.enabled&&(0,r.jsxs)(l.Zp,{className:"border-blue-200 bg-blue-50/50",children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{className:"text-blue-900",children:"Award Detection Info"})}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-blue-800 mb-2",children:"Detection Sources:"}),(0,r.jsxs)("ul",{className:"space-y-1 text-blue-700",children:[(0,r.jsx)("li",{children:"• Static mapping database (140+ titles)"}),(0,r.jsx)("li",{children:"• TMDb API (real-time data)"}),(0,r.jsx)("li",{children:"• OMDB API (fallback data)"}),(0,r.jsx)("li",{children:"• 7-day API caching system"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-blue-800 mb-2",children:"Coverage:"}),(0,r.jsxs)("ul",{className:"space-y-1 text-blue-700",children:[(0,r.jsx)("li",{children:"• 80+ award-winning movies"}),(0,r.jsx)("li",{children:"• 60+ award-winning TV shows"}),(0,r.jsxs)("li",{children:["• ",e.Awards.award_sources.length," selected award types"]}),(0,r.jsx)("li",{children:"• Priority-based detection system"})]})]})]})})]})]})}function eg({settings:e,updateSetting:a,availableFonts:s=[]}){let i=["AvenirNextLTProBold.otf","DejaVuSans.ttf","Arial","Helvetica","Times New Roman","Courier New",...s].filter((e,a,s)=>s.indexOf(e)===a);return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(f,{className:"h-5 w-5"}),"Text Settings"]}),(0,r.jsx)(l.BT,{children:"Configure font, size, and text appearance for awards badges"})]}),(0,r.jsx)(l.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"font",children:"Primary Font"}),(0,r.jsxs)(b.l6,{value:e.Text.font,onValueChange:e=>a("Text","font",e),disabled:!e.General.enabled,children:[(0,r.jsx)(b.bq,{children:(0,r.jsx)(b.yv,{placeholder:"Select a font..."})}),(0,r.jsx)(b.gC,{children:i.map(e=>(0,r.jsx)(b.eb,{value:e,children:e},e))})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"fallback-font",children:"Fallback Font"}),(0,r.jsxs)(b.l6,{value:e.Text.fallback_font,onValueChange:e=>a("Text","fallback_font",e),disabled:!e.General.enabled,children:[(0,r.jsx)(b.bq,{children:(0,r.jsx)(b.yv,{placeholder:"Select a font..."})}),(0,r.jsx)(b.gC,{children:i.map(e=>(0,r.jsx)(b.eb,{value:e,children:e},e))})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"text-color",children:"Text Color"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"color",value:e.Text["text-color"],onChange:e=>a("Text","text-color",e.target.value),disabled:!e.General.enabled,className:"w-12 h-10 border rounded cursor-pointer disabled:opacity-50"}),(0,r.jsx)(g.p,{type:"text",value:e.Text["text-color"],onChange:e=>a("Text","text-color",e.target.value),disabled:!e.General.enabled,className:"flex-1",placeholder:"#FFFFFF"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"text-size",children:"Text Size"}),(0,r.jsx)(g.p,{id:"text-size",type:"number",min:"10",value:e.Text["text-size"],onChange:e=>a("Text","text-size",parseInt(e.target.value)||90),disabled:!e.General.enabled,placeholder:"90"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Recommended: 90px for awards text visibility"})]})]})})]})}function em({settings:e,updateSetting:a}){return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(W.A,{className:"h-5 w-5"}),"Background Settings"]}),(0,r.jsx)(l.BT,{children:"Configure background color and opacity for awards badges"})]}),(0,r.jsx)(l.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"background-color",children:"Background Color"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"color",value:e.Background["background-color"],onChange:e=>a("Background","background-color",e.target.value),disabled:!e.General.enabled,className:"w-12 h-10 border rounded cursor-pointer disabled:opacity-50"}),(0,r.jsx)(g.p,{type:"text",value:e.Background["background-color"],onChange:e=>a("Background","background-color",e.target.value),disabled:!e.General.enabled,className:"flex-1",placeholder:"#000000"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"background-opacity",children:"Background Opacity (%)"}),(0,r.jsx)(g.p,{id:"background-opacity",type:"number",min:"0",max:"100",value:e.Background.background_opacity,onChange:e=>a("Background","background_opacity",parseInt(e.target.value)||40),disabled:!e.General.enabled,placeholder:"40"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Awards typically use lower opacity for ribbon visibility"})]})]})})]})}function eh({settings:e,updateSetting:a}){return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(W.A,{className:"h-5 w-5"}),"Border Settings"]}),(0,r.jsx)(l.BT,{children:"Configure border appearance for awards badges"})]}),(0,r.jsx)(l.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"border-color",children:"Border Color"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"color",value:e.Border["border-color"],onChange:e=>a("Border","border-color",e.target.value),disabled:!e.General.enabled,className:"w-12 h-10 border rounded cursor-pointer disabled:opacity-50"}),(0,r.jsx)(g.p,{type:"text",value:e.Border["border-color"],onChange:e=>a("Border","border-color",e.target.value),disabled:!e.General.enabled,className:"flex-1",placeholder:"#000000"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"border-width",children:"Border Width"}),(0,r.jsx)(g.p,{id:"border-width",type:"number",min:"0",value:e.Border.border_width,onChange:e=>a("Border","border_width",parseInt(e.target.value)||1),disabled:!e.General.enabled,placeholder:"1"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"border-radius",children:"Border Radius"}),(0,r.jsx)(g.p,{id:"border-radius",type:"number",min:"0",value:e.Border.border_radius,onChange:e=>a("Border","border_radius",parseInt(e.target.value)||10),disabled:!e.General.enabled,placeholder:"10"})]})]})})]})}function eu({settings:e,updateSetting:a}){return(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(q,{className:"h-5 w-5"}),"Shadow Settings"]}),(0,r.jsx)(l.BT,{children:"Configure shadow effects for awards badges"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,r.jsx)(j.d,{id:"shadow-enable",checked:e.Shadow.shadow_enable,onCheckedChange:e=>a("Shadow","shadow_enable",e),disabled:!e.General.enabled}),(0,r.jsx)(m.J,{htmlFor:"shadow-enable",children:"Enable Shadow"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"shadow-blur",children:"Shadow Blur"}),(0,r.jsx)(g.p,{id:"shadow-blur",type:"number",min:"0",value:e.Shadow.shadow_blur,onChange:e=>a("Shadow","shadow_blur",parseInt(e.target.value)||8),placeholder:"8",disabled:!e.Shadow.shadow_enable||!e.General.enabled})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"shadow-x",children:"Shadow X Offset"}),(0,r.jsx)(g.p,{id:"shadow-x",type:"number",value:e.Shadow.shadow_offset_x,onChange:e=>a("Shadow","shadow_offset_x",parseInt(e.target.value)||2),placeholder:"2",disabled:!e.Shadow.shadow_enable||!e.General.enabled})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"shadow-y",children:"Shadow Y Offset"}),(0,r.jsx)(g.p,{id:"shadow-y",type:"number",value:e.Shadow.shadow_offset_y,onChange:e=>a("Shadow","shadow_offset_y",parseInt(e.target.value)||2),placeholder:"2",disabled:!e.Shadow.shadow_enable||!e.General.enabled})]})]})]})]})}function ep({settings:e,updateSetting:a,addImageMapping:s,removeImageMapping:n,updateImageName:t}){let[d,c]=(0,i.useState)({award:"",image:""}),[h,u]=(0,i.useState)({}),p=s=>{let r={...e.ImageBadges.image_mapping};delete r[s],a("ImageBadges","image_mapping",r),n&&n(s)},x=(s,r)=>{if(s===r||!r.trim())return;let i=e.ImageBadges.image_mapping[s],n={...e.ImageBadges.image_mapping};delete n[s],n[r]=i,a("ImageBadges","image_mapping",n),t&&t(s,r)};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(Y.A,{className:"h-5 w-5"}),"Image Badge Settings"]}),(0,r.jsx)(l.BT,{children:"Configure image-based badges for award ribbons"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.d,{id:"enable-image-badges",checked:e.ImageBadges.enable_image_badges,onCheckedChange:e=>a("ImageBadges","enable_image_badges",e),disabled:!e.General.enabled}),(0,r.jsx)(m.J,{htmlFor:"enable-image-badges",children:"Use Image Badges"})]}),(0,r.jsxs)("div",{className:"p-3 border rounded-lg bg-muted/50",children:[(0,r.jsx)("div",{className:"text-sm font-medium mb-1",children:"Awards Image Configuration"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Awards are image-only (no text fallback). Images are organized in color-coded subdirectories."})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"image-directory",children:"Awards Image Directory"}),(0,r.jsx)(g.p,{id:"image-directory",type:"text",value:e.ImageBadges.codec_image_directory,onChange:e=>a("ImageBadges","codec_image_directory",e.target.value),placeholder:"images/awards",disabled:!0,className:"opacity-50"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"This directory contains color-coded subdirectories (black, gray, red, yellow)"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"image-padding",children:"Image Padding"}),(0,r.jsx)(g.p,{id:"image-padding",type:"number",min:"0",value:e.ImageBadges.image_padding,onChange:e=>a("ImageBadges","image_padding",parseInt(e.target.value)||0),placeholder:"0",disabled:!0,className:"opacity-50"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Awards use 0 padding for flush positioning"})]})]})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Award Image Mappings"}),(0,r.jsx)(l.BT,{children:"Map award names to image filenames (located in color-coded subdirectories)"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[Object.entries(e.ImageBadges.image_mapping).map(([s,i])=>(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center",children:[(0,r.jsx)(g.p,{value:h[s]||s,onChange:e=>u(a=>({...a,[s]:e.target.value})),onBlur:e=>{let a=e.target.value.trim();a&&a!==s&&x(s,a),u(e=>{let a={...e};return delete a[s],a})},className:"col-span-5",placeholder:"Award Name",disabled:!e.ImageBadges.enable_image_badges||!e.General.enabled}),(0,r.jsx)(K,{className:"col-span-1 h-4 w-4 text-muted-foreground justify-self-center"}),(0,r.jsx)(g.p,{value:i,onChange:r=>{let i={...e.ImageBadges.image_mapping};i[s]=r.target.value,a("ImageBadges","image_mapping",i)},className:"col-span-5",placeholder:"Image Name",disabled:!e.ImageBadges.enable_image_badges||!e.General.enabled}),(0,r.jsx)(o.$,{onClick:()=>p(s),variant:"ghost",size:"sm",className:"col-span-1 h-8 w-8 p-0 text-red-500 hover:bg-red-50 hover:text-red-600",disabled:!e.ImageBadges.enable_image_badges||!e.General.enabled,children:(0,r.jsx)(Q.A,{className:"h-4 w-4"})})]},s)),(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center mt-4 pt-4 border-t",children:[(0,r.jsx)(g.p,{value:d.award,onChange:e=>c(a=>({...a,award:e.target.value})),className:"col-span-5",placeholder:"Award Name",disabled:!e.ImageBadges.enable_image_badges||!e.General.enabled}),(0,r.jsx)(K,{className:"col-span-1 h-4 w-4 text-muted-foreground justify-self-center"}),(0,r.jsx)(g.p,{value:d.image,onChange:e=>c(a=>({...a,image:e.target.value})),className:"col-span-5",placeholder:"Image Name",disabled:!e.ImageBadges.enable_image_badges||!e.General.enabled}),(0,r.jsx)(o.$,{onClick:()=>{d.award&&d.image&&(a("ImageBadges","image_mapping",{...e.ImageBadges.image_mapping,[d.award]:d.image}),c({award:"",image:""}),s&&s(d.award,d.image))},variant:"ghost",size:"sm",className:"col-span-1 h-8 w-8 p-0 text-green-500 hover:bg-green-50 hover:text-green-600",disabled:!e.ImageBadges.enable_image_badges||!e.General.enabled||!d.award||!d.image,children:(0,r.jsx)(w.A,{className:"h-4 w-4"})})]})]}),0===Object.keys(e.ImageBadges.image_mapping).length&&(0,r.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,r.jsx)(Y.A,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,r.jsx)("p",{children:"No award image mappings configured"}),(0,r.jsx)("p",{className:"text-sm",children:"Add mappings above to use award badges"})]})]})]})]})}let ex="force-dynamic",ej=[{id:"api",name:"API",component:function(){let[e,a]=(0,i.useState)(!1),[s,n]=(0,i.useState)(!1),[t,j]=(0,i.useState)(!1),[b,v]=(0,i.useState)(null),[y,f]=(0,i.useState)(!1),[_,w]=(0,i.useState)(null),[N,B]=(0,i.useState)(!1),[k,C]=(0,i.useState)(null),[S,I]=(0,i.useState)(!1),[A,T]=(0,i.useState)(null),[F,R]=(0,i.useState)(!1),[J,z]=(0,i.useState)(null),[G,M]=(0,i.useState)({url:"https://jellyfin.example.com",api_key:"",user_id:""}),[P,D]=(0,i.useState)({api_key:"",cache_expiration:60}),[E,L]=(0,i.useState)({api_key:"",cache_expiration:60,language:"en",region:""}),[Z,$]=(0,i.useState)({username:"",password:"",version:1,client_name:"",language:"en",cache_expiration:60}),[O,V]=(0,i.useState)({api_key:"",cache_expiration:60}),W=async()=>{n(!0);try{let e={api_keys:{Jellyfin:[{url:G.url,api_key:G.api_key,user_id:G.user_id}],OMDB:[{api_key:P.api_key,cache_expiration:P.cache_expiration}],TMDB:[{api_key:E.api_key,cache_expiration:E.cache_expiration,language:E.language,region:E.region||null}],aniDB:[{username:Z.username},{password:Z.password,version:Z.version,client_name:Z.client_name,language:Z.language,cache_expiration:Z.cache_expiration}],MDBList:[{api_key:O.api_key,cache_expiration:O.cache_expiration}]}};if(!(await fetch("http://localhost:8000/api/v1/config/settings.yaml",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to save API settings");x.oR.success("API settings saved successfully!")}catch(e){console.error("Error saving settings:",e),x.oR.error("Failed to save API settings")}finally{n(!1)}},X=async()=>{if(!G.url||!G.api_key||!G.user_id)return void v({success:!1,message:"Please fill in all Jellyfin fields"});j(!0),v(null);try{let e=await fetch("http://localhost:8000/api/v1/config/test-jellyfin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:G.url,api_key:G.api_key,user_id:G.user_id})}),a=await e.json();if(e.ok){v({success:!0,message:a.message||"Connection successful!"});try{await W(),v({success:!0,message:(a.message||"Connection successful!")+" - Settings saved automatically!"})}catch(e){v({success:!0,message:(a.message||"Connection successful!")+" - Warning: Auto-save failed, please save manually."})}}else v({success:!1,message:a.error||"Connection failed"})}catch(e){v({success:!1,message:"Connection failed"})}finally{j(!1)}},U=async()=>{if(!O.api_key)return void T({success:!1,message:"Please enter an MDBList API key"});I(!0),T(null);try{let e=await fetch("http://localhost:8000/api/v1/config/test-mdblist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:O.api_key})}),a=await e.json();e.ok?T({success:!0,message:a.message||"Connection successful!"}):T({success:!1,message:a.error||"Connection failed"})}catch(e){T({success:!1,message:"Connection failed"})}finally{I(!1)}},q=async()=>{if(!Z.username||!Z.password)return void z({success:!1,message:"Please enter AniDB username and password"});R(!0),z(null);try{let e=await fetch("http://localhost:8000/api/v1/config/test-anidb",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:Z.username,password:Z.password,version:Z.version,client_name:Z.client_name,language:Z.language})}),a=await e.json();e.ok?z({success:!0,message:a.message||"Connection successful!"}):z({success:!1,message:a.error||"Connection failed"})}catch(e){z({success:!1,message:"Connection failed"})}finally{R(!1)}},H=async()=>{if(!P.api_key)return void w({success:!1,message:"Please enter an OMDB API key"});f(!0),w(null);try{let e=await fetch("http://localhost:8000/api/v1/config/test-omdb",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:P.api_key})}),a=await e.json();e.ok?w({success:!0,message:a.message||"Connection successful!"}):w({success:!1,message:a.error||"Connection failed"})}catch(e){w({success:!1,message:"Connection failed"})}finally{f(!1)}},Y=async()=>{if(!E.api_key)return void C({success:!1,message:"Please enter a TMDB API key"});B(!0),C(null);try{let e=await fetch("http://localhost:8000/api/v1/config/test-tmdb",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:E.api_key})}),a=await e.json();e.ok?C({success:!0,message:a.message||"Connection successful!"}):C({success:!1,message:a.error||"Connection failed"})}catch(e){C({success:!1,message:"Connection failed"})}finally{B(!1)}};return e?(0,r.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,r.jsx)(d.A,{className:"h-8 w-8 animate-spin"}),(0,r.jsx)("span",{className:"ml-2",children:"Loading API settings..."})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"API Settings"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Configure connections to external services"})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),W()},className:"space-y-6",children:[(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:["Jellyfin Connection",b&&(0,r.jsx)(h.E,{variant:b.success?"default":"destructive",children:b.success?"Connected":"Error"})]}),(0,r.jsx)(l.BT,{children:"Configure your Jellyfin media server connection"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"jellyfin-url",children:"Server URL"}),(0,r.jsx)(g.p,{id:"jellyfin-url",type:"text",placeholder:"https://jellyfin.example.com",value:G.url,onChange:e=>M(a=>({...a,url:e.target.value}))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"jellyfin-api-key",children:"API Key"}),(0,r.jsx)(g.p,{id:"jellyfin-api-key",type:"text",placeholder:"Your Jellyfin API key",value:G.api_key,onChange:e=>M(a=>({...a,api_key:e.target.value}))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"jellyfin-user-id",children:"User ID"}),(0,r.jsx)(g.p,{id:"jellyfin-user-id",type:"text",placeholder:"Your Jellyfin user ID",value:G.user_id,onChange:e=>M(a=>({...a,user_id:e.target.value}))})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(o.$,{type:"button",variant:"outline",onClick:X,disabled:t,children:[t?(0,r.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):b?.success?(0,r.jsx)(c.A,{className:"h-4 w-4 mr-2"}):b?.success===!1?(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}):null,t?"Testing...":"Test Connection"]}),b&&(0,r.jsx)("span",{className:`text-sm ${b.success?"text-green-600":"text-red-600"}`,children:b.message})]})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:["OMDB API",_&&(0,r.jsx)(h.E,{variant:_.success?"default":"destructive",children:_.success?"Connected":"Error"})]}),(0,r.jsx)(l.BT,{children:"Open Movie Database for additional metadata"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"omdb-api-key",children:"API Key"}),(0,r.jsx)(g.p,{id:"omdb-api-key",type:"text",placeholder:"Your OMDB API key",value:P.api_key,onChange:e=>D(a=>({...a,api_key:e.target.value}))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"omdb-cache",children:"Cache Expiration (minutes)"}),(0,r.jsx)(g.p,{id:"omdb-cache",type:"number",value:P.cache_expiration,onChange:e=>D(a=>({...a,cache_expiration:parseInt(e.target.value)||60}))})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(o.$,{type:"button",variant:"outline",onClick:H,disabled:y,children:[y?(0,r.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):_?.success?(0,r.jsx)(c.A,{className:"h-4 w-4 mr-2"}):_?.success===!1?(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}):null,y?"Testing...":"Test Connection"]}),_&&(0,r.jsx)("span",{className:`text-sm ${_.success?"text-green-600":"text-red-600"}`,children:_.message})]})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:["TMDB API",k&&(0,r.jsx)(h.E,{variant:k.success?"default":"destructive",children:k.success?"Connected":"Error"})]}),(0,r.jsx)(l.BT,{children:"The Movie Database for comprehensive movie and TV data"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"tmdb-api-key",children:"API Read Access Token"}),(0,r.jsx)(g.p,{id:"tmdb-api-key",type:"text",placeholder:"Your TMDB API Read Access Token",value:E.api_key,onChange:e=>L(a=>({...a,api_key:e.target.value}))}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Use your TMDB API Read Access Token (Bearer token), not the API Key"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"tmdb-language",children:"Language"}),(0,r.jsx)(g.p,{id:"tmdb-language",type:"text",placeholder:"en",value:E.language,onChange:e=>L(a=>({...a,language:e.target.value}))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"tmdb-region",children:"Region"}),(0,r.jsx)(g.p,{id:"tmdb-region",type:"text",placeholder:"US",value:E.region,onChange:e=>L(a=>({...a,region:e.target.value}))})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"tmdb-cache",children:"Cache Expiration (minutes)"}),(0,r.jsx)(g.p,{id:"tmdb-cache",type:"number",value:E.cache_expiration,onChange:e=>L(a=>({...a,cache_expiration:parseInt(e.target.value)||60}))})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(o.$,{type:"button",variant:"outline",onClick:Y,disabled:N,children:[N?(0,r.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):k?.success?(0,r.jsx)(c.A,{className:"h-4 w-4 mr-2"}):k?.success===!1?(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}):null,N?"Testing...":"Test Connection"]}),k&&(0,r.jsx)("span",{className:`text-sm ${k.success?"text-green-600":"text-red-600"}`,children:k.message})]})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:["MDBList API",A&&(0,r.jsx)(h.E,{variant:A.success?"default":"destructive",children:A.success?"Connected":"Error"})]}),(0,r.jsx)(l.BT,{children:"MDBList for movie and TV show ratings and data"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"mdblist-api-key",children:"API Key"}),(0,r.jsx)(g.p,{id:"mdblist-api-key",type:"text",placeholder:"Your MDBList API key",value:O.api_key,onChange:e=>V(a=>({...a,api_key:e.target.value}))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"mdblist-cache",children:"Cache Expiration (minutes)"}),(0,r.jsx)(g.p,{id:"mdblist-cache",type:"number",value:O.cache_expiration,onChange:e=>V(a=>({...a,cache_expiration:parseInt(e.target.value)||60}))})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(o.$,{type:"button",variant:"outline",onClick:U,disabled:S,children:[S?(0,r.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):A?.success?(0,r.jsx)(c.A,{className:"h-4 w-4 mr-2"}):A?.success===!1?(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}):null,S?"Testing...":"Test Connection"]}),A&&(0,r.jsx)("span",{className:`text-sm ${A.success?"text-green-600":"text-red-600"}`,children:A.message})]})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:["AniDB API",J&&(0,r.jsx)(h.E,{variant:J.success?"default":"destructive",children:J.success?"Connected":"Error"})]}),(0,r.jsx)(l.BT,{children:"AniDB for anime database information"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"anidb-username",children:"Username"}),(0,r.jsx)(g.p,{id:"anidb-username",type:"text",placeholder:"Your AniDB username",value:Z.username,onChange:e=>$(a=>({...a,username:e.target.value}))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"anidb-password",children:"Password"}),(0,r.jsx)(g.p,{id:"anidb-password",type:"password",placeholder:"Your AniDB password",value:Z.password,onChange:e=>$(a=>({...a,password:e.target.value}))})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"anidb-client",children:"Client Name"}),(0,r.jsx)(g.p,{id:"anidb-client",type:"text",placeholder:"aphrodite",value:Z.client_name,onChange:e=>$(a=>({...a,client_name:e.target.value}))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"anidb-language",children:"Language"}),(0,r.jsx)(g.p,{id:"anidb-language",type:"text",placeholder:"en",value:Z.language,onChange:e=>$(a=>({...a,language:e.target.value}))})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"anidb-version",children:"Version"}),(0,r.jsx)(g.p,{id:"anidb-version",type:"number",value:Z.version,onChange:e=>$(a=>({...a,version:parseInt(e.target.value)||1}))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"anidb-cache",children:"Cache Expiration (minutes)"}),(0,r.jsx)(g.p,{id:"anidb-cache",type:"number",value:Z.cache_expiration,onChange:e=>$(a=>({...a,cache_expiration:parseInt(e.target.value)||60}))})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(o.$,{type:"button",variant:"outline",onClick:q,disabled:F,children:[F?(0,r.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):J?.success?(0,r.jsx)(c.A,{className:"h-4 w-4 mr-2"}):J?.success===!1?(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}):null,F?"Testing...":"Test Connection"]}),J&&(0,r.jsx)("span",{className:`text-sm ${J.success?"text-green-600":"text-red-600"}`,children:J.message})]})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)(o.$,{type:"submit",disabled:s,children:[s?(0,r.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,r.jsx)(p.A,{className:"h-4 w-4 mr-2"}),s?"Saving...":"Save Changes"]})})]})]})}},{id:"audio",name:"Audio",component:function(){let[e,a]=(0,i.useState)(!1),[s,n]=(0,i.useState)(!1),[c,u]=(0,i.useState)(I),[v,B]=(0,i.useState)([]),[k,C]=(0,i.useState)({codec:"",image:""}),A=async()=>{n(!0);try{await N("badge_settings_audio.yml",c),x.oR.success("Audio badge settings saved successfully!")}catch(e){console.error("Error saving audio settings:",e),x.oR.error("Failed to save audio badge settings")}finally{n(!1)}},T=e=>{u(a=>{let s={...a.ImageBadges.image_mapping};return delete s[e],{...a,ImageBadges:{...a.ImageBadges,image_mapping:s}}})},F=(e,a)=>{e!==a&&a.trim()&&u(s=>{let r=s.ImageBadges.image_mapping[e],i={...s.ImageBadges.image_mapping};return delete i[e],i[a]=r,{...s,ImageBadges:{...s.ImageBadges,image_mapping:i}}})};return e?(0,r.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,r.jsx)(d.A,{className:"h-8 w-8 animate-spin"}),(0,r.jsx)("span",{className:"ml-2",children:"Loading audio badge settings..."})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(y,{className:"h-6 w-6"}),(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Audio Badge Settings"}),(0,r.jsx)(h.E,{variant:"outline",children:"Badge Configuration"})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),A()},className:"space-y-6",children:[(0,r.jsxs)(t.tU,{defaultValue:"general",className:"space-y-6",children:[(0,r.jsxs)(t.j7,{className:"grid w-full grid-cols-6",children:[(0,r.jsx)(t.Xi,{value:"general",children:"General"}),(0,r.jsx)(t.Xi,{value:"text",children:"Text"}),(0,r.jsx)(t.Xi,{value:"background",children:"Background"}),(0,r.jsx)(t.Xi,{value:"border",children:"Border"}),(0,r.jsx)(t.Xi,{value:"shadow",children:"Shadow"}),(0,r.jsx)(t.Xi,{value:"images",children:"Images"})]}),(0,r.jsx)(t.av,{value:"general",children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"General Badge Settings"}),(0,r.jsx)(l.BT,{children:"Configure basic badge positioning and sizing"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"badge-size",children:"Badge Size"}),(0,r.jsx)(g.p,{id:"badge-size",type:"number",min:"10",value:c.General.general_badge_size,onChange:e=>u(a=>({...a,General:{...a.General,general_badge_size:parseInt(e.target.value)||100}}))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"edge-padding",children:"Edge Padding"}),(0,r.jsx)(g.p,{id:"edge-padding",type:"number",min:"0",value:c.General.general_edge_padding,onChange:e=>u(a=>({...a,General:{...a.General,general_edge_padding:parseInt(e.target.value)||30}}))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"badge-position",children:"Badge Position"}),(0,r.jsxs)(b.l6,{value:c.General.general_badge_position,onValueChange:e=>u(a=>({...a,General:{...a.General,general_badge_position:e}})),children:[(0,r.jsx)(b.bq,{children:(0,r.jsx)(b.yv,{})}),(0,r.jsxs)(b.gC,{children:[(0,r.jsx)(b.eb,{value:"top-left",children:"Top Left"}),(0,r.jsx)(b.eb,{value:"top-right",children:"Top Right"}),(0,r.jsx)(b.eb,{value:"bottom-left",children:"Bottom Left"}),(0,r.jsx)(b.eb,{value:"bottom-right",children:"Bottom Right"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"text-padding",children:"Text Padding"}),(0,r.jsx)(g.p,{id:"text-padding",type:"number",min:"0",value:c.General.general_text_padding,onChange:e=>u(a=>({...a,General:{...a.General,general_text_padding:parseInt(e.target.value)||12}}))})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.d,{id:"dynamic-sizing",checked:c.General.use_dynamic_sizing,onCheckedChange:e=>u(a=>({...a,General:{...a.General,use_dynamic_sizing:e}}))}),(0,r.jsx)(m.J,{htmlFor:"dynamic-sizing",children:"Use Dynamic Sizing"})]})]})]})}),(0,r.jsx)(t.av,{value:"text",children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(f,{className:"h-5 w-5"}),"Text Settings"]}),(0,r.jsx)(l.BT,{children:"Configure font, size, and text appearance for audio badges"})]}),(0,r.jsx)(l.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"font",children:"Primary Font"}),(0,r.jsx)(S,{value:c.Text.font,onValueChange:e=>u(a=>({...a,Text:{...a.Text,font:e}})),availableFonts:v,placeholder:"Select a font..."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"fallback-font",children:"Fallback Font"}),(0,r.jsx)(S,{value:c.Text.fallback_font,onValueChange:e=>u(a=>({...a,Text:{...a.Text,fallback_font:e}})),availableFonts:v,placeholder:"Select a font..."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"text-color",children:"Text Color"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"color",value:c.Text["text-color"],onChange:e=>u(a=>({...a,Text:{...a.Text,"text-color":e.target.value}})),className:"w-12 h-10 border rounded cursor-pointer"}),(0,r.jsx)(g.p,{type:"text",value:c.Text["text-color"],onChange:e=>u(a=>({...a,Text:{...a.Text,"text-color":e.target.value}})),className:"flex-1",placeholder:"#FFFFFF"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"text-size",children:"Text Size"}),(0,r.jsx)(g.p,{id:"text-size",type:"number",min:"10",value:c.Text["text-size"],onChange:e=>u(a=>({...a,Text:{...a.Text,"text-size":parseInt(e.target.value)||90}})),placeholder:"90"})]})]})})]})}),(0,r.jsx)(t.av,{value:"background",children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Background Settings"}),(0,r.jsx)(l.BT,{children:"Configure badge background appearance"})]}),(0,r.jsx)(l.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"background-color",children:"Background Color"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"color",value:c.Background["background-color"],onChange:e=>u(a=>({...a,Background:{...a.Background,"background-color":e.target.value}})),className:"w-12 h-10 rounded border border-input"}),(0,r.jsx)(g.p,{value:c.Background["background-color"],onChange:e=>u(a=>({...a,Background:{...a.Background,"background-color":e.target.value}})),placeholder:"#000000",className:"flex-1"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"background-opacity",children:"Background Opacity (%)"}),(0,r.jsx)(g.p,{id:"background-opacity",type:"number",min:"0",max:"100",value:c.Background.background_opacity,onChange:e=>u(a=>({...a,Background:{...a.Background,background_opacity:parseInt(e.target.value)||40}}))})]})]})})]})}),(0,r.jsx)(t.av,{value:"border",children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Border Settings"}),(0,r.jsx)(l.BT,{children:"Configure badge border appearance"})]}),(0,r.jsx)(l.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"border-color",children:"Border Color"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"color",value:c.Border["border-color"],onChange:e=>u(a=>({...a,Border:{...a.Border,"border-color":e.target.value}})),className:"w-12 h-10 rounded border border-input"}),(0,r.jsx)(g.p,{value:c.Border["border-color"],onChange:e=>u(a=>({...a,Border:{...a.Border,"border-color":e.target.value}})),placeholder:"#000000",className:"flex-1"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"border-radius",children:"Border Radius"}),(0,r.jsx)(g.p,{id:"border-radius",type:"number",min:"0",value:c.Border["border-radius"],onChange:e=>u(a=>({...a,Border:{...a.Border,"border-radius":parseInt(e.target.value)||10}}))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"border-width",children:"Border Width"}),(0,r.jsx)(g.p,{id:"border-width",type:"number",min:"0",value:c.Border.border_width,onChange:e=>u(a=>({...a,Border:{...a.Border,border_width:parseInt(e.target.value)||1}}))})]})]})})]})}),(0,r.jsx)(t.av,{value:"shadow",children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Shadow Settings"}),(0,r.jsx)(l.BT,{children:"Configure badge drop shadow effects"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,r.jsx)(j.d,{id:"shadow-enable",checked:c.Shadow.shadow_enable,onCheckedChange:e=>u(a=>({...a,Shadow:{...a.Shadow,shadow_enable:e}}))}),(0,r.jsx)(m.J,{htmlFor:"shadow-enable",children:"Enable Shadow"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"shadow-blur",children:"Shadow Blur"}),(0,r.jsx)(g.p,{id:"shadow-blur",type:"number",min:"0",value:c.Shadow.shadow_blur,onChange:e=>u(a=>({...a,Shadow:{...a.Shadow,shadow_blur:parseInt(e.target.value)||8}})),disabled:!c.Shadow.shadow_enable})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"shadow-offset-x",children:"Shadow Offset X"}),(0,r.jsx)(g.p,{id:"shadow-offset-x",type:"number",value:c.Shadow.shadow_offset_x,onChange:e=>u(a=>({...a,Shadow:{...a.Shadow,shadow_offset_x:parseInt(e.target.value)||2}})),disabled:!c.Shadow.shadow_enable})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"shadow-offset-y",children:"Shadow Offset Y"}),(0,r.jsx)(g.p,{id:"shadow-offset-y",type:"number",value:c.Shadow.shadow_offset_y,onChange:e=>u(a=>({...a,Shadow:{...a.Shadow,shadow_offset_y:parseInt(e.target.value)||2}})),disabled:!c.Shadow.shadow_enable})]})]})]})]})}),(0,r.jsx)(t.av,{value:"images",children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Image Badge Settings"}),(0,r.jsx)(l.BT,{children:"Configure image-based badges and codec mappings"})]}),(0,r.jsxs)(l.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.d,{id:"enable-image-badges",checked:c.ImageBadges.enable_image_badges,onCheckedChange:e=>u(a=>({...a,ImageBadges:{...a.ImageBadges,enable_image_badges:e}}))}),(0,r.jsx)(m.J,{htmlFor:"enable-image-badges",children:"Enable Image Badges"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"codec-directory",children:"Codec Image Directory"}),(0,r.jsx)(g.p,{id:"codec-directory",type:"text",value:c.ImageBadges.codec_image_directory,onChange:e=>u(a=>({...a,ImageBadges:{...a.ImageBadges,codec_image_directory:e.target.value}})),disabled:!c.ImageBadges.enable_image_badges,placeholder:"images/codec"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"image-padding",children:"Image Padding"}),(0,r.jsx)(g.p,{id:"image-padding",type:"number",min:"0",value:c.ImageBadges.image_padding,onChange:e=>u(a=>({...a,ImageBadges:{...a.ImageBadges,image_padding:parseInt(e.target.value)||0}})),disabled:!c.ImageBadges.enable_image_badges})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(j.d,{id:"fallback-to-text",checked:c.ImageBadges.fallback_to_text,onCheckedChange:e=>u(a=>({...a,ImageBadges:{...a.ImageBadges,fallback_to_text:e}})),disabled:!c.ImageBadges.enable_image_badges}),(0,r.jsx)(m.J,{htmlFor:"fallback-to-text",children:"Fallback to Text"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold",children:"Codec Image Mappings"}),(0,r.jsxs)(h.E,{variant:"secondary",children:[Object.keys(c.ImageBadges.image_mapping).length," mappings"]})]}),(0,r.jsxs)("div",{className:"max-h-60 overflow-y-auto space-y-2 border rounded-md p-4",children:[Object.entries(c.ImageBadges.image_mapping).map(([e,a])=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(g.p,{value:e,onChange:a=>F(e,a.target.value),disabled:!c.ImageBadges.enable_image_badges,className:"flex-1",placeholder:"Codec Name"}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"→"}),(0,r.jsx)(g.p,{value:a,onChange:a=>u(s=>({...s,ImageBadges:{...s.ImageBadges,image_mapping:{...s.ImageBadges.image_mapping,[e]:a.target.value}}})),disabled:!c.ImageBadges.enable_image_badges,className:"flex-1",placeholder:"Image Filename"}),(0,r.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>T(e),disabled:!c.ImageBadges.enable_image_badges,children:(0,r.jsx)(_.A,{className:"h-4 w-4"})})]},e)),(0,r.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t",children:[(0,r.jsx)(g.p,{value:k.codec,onChange:e=>C(a=>({...a,codec:e.target.value})),disabled:!c.ImageBadges.enable_image_badges,placeholder:"New codec name",className:"flex-1"}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"→"}),(0,r.jsx)(g.p,{value:k.image,onChange:e=>C(a=>({...a,image:e.target.value})),disabled:!c.ImageBadges.enable_image_badges,placeholder:"Image filename",className:"flex-1"}),(0,r.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>{k.codec&&k.image&&(u(e=>({...e,ImageBadges:{...e.ImageBadges,image_mapping:{...e.ImageBadges.image_mapping,[k.codec]:k.image}}})),C({codec:"",image:""}))},disabled:!c.ImageBadges.enable_image_badges||!k.codec||!k.image,children:(0,r.jsx)(w.A,{className:"h-4 w-4"})})]})]})]})]})]})})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)(o.$,{type:"submit",disabled:s,children:[s?(0,r.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,r.jsx)(p.A,{className:"h-4 w-4 mr-2"}),s?"Saving...":"Save Audio Settings"]})})]})]})}},{id:"resolution",name:"Resolution",component:function(){let{loading:e,saving:a,settings:s,availableFonts:n,loadSettings:l,loadFonts:c,saveSettings:g,updateSetting:m,addResolutionMapping:u,removeResolutionMapping:j,updateResolutionName:b}=function(){let[e,a]=(0,i.useState)(!1),[s,r]=(0,i.useState)(!1),[n,l]=(0,i.useState)(M),[t,d]=(0,i.useState)([]),c=async()=>{r(!0);try{console.log("Saving resolution settings:",n),await N("badge_settings_resolution.yml",n),console.log("Save successful"),x.oR.success("Resolution badge settings saved successfully!",{description:"Your settings have been updated and saved.",duration:3e3})}catch(e){console.error("Error saving resolution settings:",e),x.oR.error("Failed to save resolution badge settings",{description:e instanceof Error?e.message:"Unknown error occurred",duration:5e3})}finally{r(!1)}};return{loading:e,saving:s,settings:n,availableFonts:t,loadSettings:async()=>{a(!0);try{console.log("Loading resolution settings...");let e=await fetch("http://localhost:8000/api/v1/config/badge_settings_resolution.yml"),a=await e.json();if(console.log("Loaded resolution config:",a),a.config&&Object.keys(a.config).length>0){let e={...M,...a.config,General:{...M.General,...a.config.General},Text:{...M.Text,...a.config.Text},Background:{...M.Background,...a.config.Background},Border:{...M.Border,...a.config.Border},Shadow:{...M.Shadow,...a.config.Shadow},ImageBadges:{...M.ImageBadges,...a.config.ImageBadges}};l(e),console.log("Settings loaded successfully")}else console.log("No existing config found, using defaults"),l(M)}catch(e){console.error("Error loading resolution settings:",e),x.oR.error("Failed to load resolution badge settings",{description:e instanceof Error?e.message:"Unknown error occurred",duration:5e3}),l(M)}finally{a(!1)}},loadFonts:async()=>{try{console.log("Loading available fonts...");let e=await k();d(e)}catch(e){console.error("Error loading fonts:",e),d([])}},saveSettings:c,updateSetting:(e,a,s)=>{l(r=>({...r,[e]:{...r[e],[a]:s}}))},addResolutionMapping:(e,a)=>{e&&a&&(l(s=>({...s,ImageBadges:{...s.ImageBadges,image_mapping:{...s.ImageBadges.image_mapping,[e]:a}}})),x.oR.success(`Added resolution mapping: ${e} → ${a}`,{duration:2e3}))},removeResolutionMapping:e=>{l(a=>{let s={...a.ImageBadges.image_mapping};return delete s[e],{...a,ImageBadges:{...a.ImageBadges,image_mapping:s}}}),x.oR.info(`Removed resolution mapping: ${e}`,{duration:2e3})},updateResolutionName:(e,a)=>{e!==a&&a.trim()&&l(s=>{let r=s.ImageBadges.image_mapping[e],i={...s.ImageBadges.image_mapping};return delete i[e],i[a]=r,{...s,ImageBadges:{...s.ImageBadges,image_mapping:i}}})}}}();return e?(0,r.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,r.jsx)(d.A,{className:"h-8 w-8 animate-spin"}),(0,r.jsx)("span",{className:"ml-2",children:"Loading resolution badge settings..."})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(A,{className:"h-6 w-6"}),(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Resolution Badge Settings"}),(0,r.jsx)(h.E,{variant:"outline",children:"Badge Configuration"})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g()},className:"space-y-6",children:[(0,r.jsxs)(t.tU,{defaultValue:"general",className:"space-y-6",children:[(0,r.jsxs)(t.j7,{className:"grid w-full grid-cols-6",children:[(0,r.jsx)(t.Xi,{value:"general",children:"General"}),(0,r.jsx)(t.Xi,{value:"text",children:"Text"}),(0,r.jsx)(t.Xi,{value:"background",children:"Background"}),(0,r.jsx)(t.Xi,{value:"border",children:"Border"}),(0,r.jsx)(t.Xi,{value:"shadow",children:"Shadow"}),(0,r.jsx)(t.Xi,{value:"images",children:"Images"})]}),(0,r.jsx)(t.av,{value:"general",children:(0,r.jsx)(T,{settings:s,updateSetting:m})}),(0,r.jsx)(t.av,{value:"text",children:(0,r.jsx)(F,{settings:s,updateSetting:m,availableFonts:n})}),(0,r.jsx)(t.av,{value:"background",children:(0,r.jsx)(R,{settings:s,updateSetting:m})}),(0,r.jsx)(t.av,{value:"border",children:(0,r.jsx)(J,{settings:s,updateSetting:m})}),(0,r.jsx)(t.av,{value:"shadow",children:(0,r.jsx)(z,{settings:s,updateSetting:m})}),(0,r.jsx)(t.av,{value:"images",children:(0,r.jsx)(G,{settings:s,updateSetting:m,addResolutionMapping:u,removeResolutionMapping:j,updateResolutionName:b})})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)(o.$,{type:"submit",disabled:a,children:[a?(0,r.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,r.jsx)(p.A,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Resolution Settings"]})})]})]})}},{id:"review",name:"Review",component:function(){let{loading:e,saving:a,settings:s,reviewSources:n,reviewSourceSettings:l,availableFonts:c,loadSettings:g,loadReviewSources:m,loadFonts:u,saveSettings:j,updateSetting:b,updateReviewSource:v,updateReviewSourceSettings:y,reorderSources:f,addImageMapping:_,removeImageMapping:w,updateImageName:B}=function(){let[e,a]=(0,i.useState)(!1),[s,r]=(0,i.useState)(!1),[n,l]=(0,i.useState)(ea),[t,d]=(0,i.useState)(er),[c,o]=(0,i.useState)(es),[g,m]=(0,i.useState)([]),h=async()=>{try{console.log("Loading review sources..."),console.log("Current reviewSources state:",t.map(e=>({name:e.source_name,enabled:e.enabled}))),t.some(e=>e.enabled!==er.find(a=>a.id===e.id)?.enabled)?console.log("Synced data detected, keeping current reviewSources state"):(console.log("No synced data detected, using defaults"),d(er)),o(es)}catch(e){console.error("Error loading review sources:",e),t.some(e=>e.enabled!==er.find(a=>a.id===e.id)?.enabled)||d(er),o(es)}},u=async()=>{r(!0);try{let e={...n.Sources};t.forEach(a=>{let s="";e[s="MyAnimeList"===a.source_name?"enable_myanimelist":`enable_${a.source_name.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"")}`]=a.enabled,console.log(`Syncing for save: ${a.source_name} -> ${s} = ${a.enabled}`)});let a={...n,Sources:e};console.log("Saving review settings:",a),console.log("Sources being saved:",e),await N("badge_settings_review.yml",a),console.log("Save successful"),l(a),x.oR.success("Review badge settings saved successfully!",{description:"Your settings have been updated and saved.",duration:3e3})}catch(e){console.error("Error saving review settings:",e),x.oR.error("Failed to save review badge settings",{description:e instanceof Error?e.message:"Unknown error occurred",duration:5e3})}finally{r(!1)}},p=async(e=c)=>{try{console.log("Saving review source settings:",e);let a=await fetch("http://localhost:8000/api/v1/config/review_source_settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.text();throw console.error("Save review source settings failed:",e),Error(`Failed to save review source settings: ${a.status}`)}let s=await a.json();console.log("Review source settings saved successfully:",s)}catch(e){console.error("Error saving review source settings:",e),x.oR.error("Failed to save review source settings",{description:e instanceof Error?e.message:"Unknown error occurred",duration:3e3})}},j=async()=>{try{console.log("Loading review source settings...");let e=await fetch("http://localhost:8000/api/v1/config/review_source_settings");if(e.ok){let a=await e.json();if(console.log("Loaded review source settings:",a),a.config&&Object.keys(a.config).length>0){let e={...es,...a.config};o(e),console.log("Review source settings loaded successfully:",e)}else console.log("No existing review source settings found, using defaults"),o(es)}else console.log("Review source settings endpoint not found, using defaults"),o(es)}catch(e){console.error("Error loading review source settings:",e),o(es)}};return{loading:e,saving:s,settings:n,reviewSources:t,reviewSourceSettings:c,availableFonts:g,loadSettings:async()=>{a(!0);try{console.log("Loading review settings...");let e=await fetch("http://localhost:8000/api/v1/config/badge_settings_review.yml"),a=await e.json();if(console.log("Loaded review config:",a),a.config&&Object.keys(a.config).length>0){let e={...ea,...a.config,General:{...ea.General,...a.config.General},Sources:{...ea.Sources,...a.config.Sources},Text:{...ea.Text,...a.config.Text},Background:{...ea.Background,...a.config.Background},Border:{...ea.Border,...a.config.Border},Shadow:{...ea.Shadow,...a.config.Shadow},ImageBadges:{...ea.ImageBadges,...a.config.ImageBadges}};if(l(e),a.config.Sources){console.log("\uD83D\uDD04 Starting reviewSources sync with API data..."),console.log("\uD83D\uDCCA API Sources config:",a.config.Sources),console.log("\uD83D\uDCCB Default sources before sync:",er.map(e=>({name:e.source_name,enabled:e.enabled,priority:e.priority})));let e=a.config.Sources.source_priority||ea.Sources.source_priority;console.log("\uD83D\uDCCC Saved priority order:",e);let s=er.map(e=>{let s="";s="MyAnimeList"===e.source_name?"enable_myanimelist":`enable_${e.source_name.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"")}`;let r=a.config.Sources[s]||!1;return console.log(`🔗 Syncing ${e.source_name}: ${s} = ${r} (API: ${a.config.Sources[s]}) - Original priority: ${e.priority}`),{...e,enabled:r}});s=s.map(a=>{let s="MyAnimeList"===a.source_name?"myanimelist":"IMDb"===a.source_name?"imdb":"Rotten Tomatoes Critics"===a.source_name?"rotten_tomatoes":"Rotten Tomatoes Audience"===a.source_name?"rotten_tomatoes_audience":"Metacritic"===a.source_name?"metacritic":"TMDb"===a.source_name?"tmdb":"AniDB"===a.source_name?"anidb":"Letterboxd"===a.source_name?"letterboxd":"Trakt"===a.source_name?"trakt":"MDBList"===a.source_name?"mdblist":a.source_name.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),r=e.findIndex(e=>e===s),i=-1!==r?r+1:a.priority;return console.log(`📌 ${a.source_name}: ${s} found at index ${r} -> priority ${a.priority} -> ${i}`),{...a,priority:i,display_order:i}}),console.log("\uD83D\uDCCB Updated sources after sync:",s.map(e=>({name:e.source_name,enabled:e.enabled,priority:e.priority}))),console.log("\uD83C\uDFAF MyAnimeList specifically:",s.find(e=>"MyAnimeList"===e.source_name)),d(s),console.log("✅ Review sources synced with settings - Enabled sources:",s.filter(e=>e.enabled).map(e=>e.source_name))}else console.log("⚠️ No Sources config in API data, keeping defaults");console.log("✅ Review settings loaded successfully"),console.log("\uD83D\uDCCA Final settings state:",e.Sources),console.log("\uD83D\uDCCB Final reviewSources state will be set by sync above"),await j()}else console.log("No existing review config found, using defaults"),l(ea),d(er),o(es)}catch(e){console.error("Error loading review settings:",e),x.oR.error("Failed to load review badge settings",{description:e instanceof Error?e.message:"Unknown error occurred",duration:5e3}),l(ea),d(er),o(es)}finally{a(!1)}},loadReviewSources:h,loadFonts:async()=>{try{console.log("Loading available fonts..."),m(["AvenirNextLTProBold.otf","DejaVuSans.ttf","Arial","Helvetica","Times New Roman","Courier New"])}catch(e){console.error("Error loading fonts:",e),m([])}},saveSettings:u,updateSetting:(e,a,s)=>{l(r=>({...r,[e]:{...r[e],[a]:s}}))},updateReviewSource:e=>{d(a=>a.map(a=>a.id===e.id?e:a));let a="";a="MyAnimeList"===e.source_name?"enable_myanimelist":`enable_${e.source_name.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"")}`,console.log(`Updating ${e.source_name}: ${a} = ${e.enabled}`),l(s=>({...s,Sources:{...s.Sources,[a]:e.enabled}})),x.oR.info(`Updated ${e.source_name}`,{duration:2e3})},updateReviewSourceSettings:(e,a)=>{let s={...c,[e]:a};o(s),p(s)},reorderSources:e=>{console.log("\uD83D\uDD04 Reordering sources:",e.map(e=>({name:e.source_name,priority:e.priority}))),d(e);let a=e.map(e=>"MyAnimeList"===e.source_name?"myanimelist":"IMDb"===e.source_name?"imdb":"Rotten Tomatoes Critics"===e.source_name?"rotten_tomatoes":"Rotten Tomatoes Audience"===e.source_name?"rotten_tomatoes_audience":"Metacritic"===e.source_name?"metacritic":"TMDb"===e.source_name?"tmdb":"AniDB"===e.source_name?"anidb":"Letterboxd"===e.source_name?"letterboxd":"Trakt"===e.source_name?"trakt":"MDBList"===e.source_name?"mdblist":e.source_name.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""));console.log("\uD83D\uDCCC Updating source_priority array:",a),l(e=>({...e,Sources:{...e.Sources,source_priority:a}})),x.oR.success("Source priority updated",{duration:2e3})},addImageMapping:(e,a)=>{e&&a&&(l(s=>({...s,ImageBadges:{...s.ImageBadges,image_mapping:{...s.ImageBadges.image_mapping,[e]:a}}})),x.oR.success(`Added image mapping: ${e} → ${a}`,{duration:2e3}))},removeImageMapping:e=>{l(a=>{let s={...a.ImageBadges.image_mapping};return delete s[e],{...a,ImageBadges:{...a.ImageBadges,image_mapping:s}}}),x.oR.info(`Removed image mapping: ${e}`,{duration:2e3})},updateImageName:(e,a)=>{e!==a&&a.trim()&&l(s=>{let r=s.ImageBadges.image_mapping[e],i={...s.ImageBadges.image_mapping};return delete i[e],i[a]=r,{...s,ImageBadges:{...s.ImageBadges,image_mapping:i}}})}}}();return e?(0,r.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,r.jsx)(d.A,{className:"h-8 w-8 animate-spin"}),(0,r.jsx)("span",{className:"ml-2",children:"Loading review badge settings..."})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(P.A,{className:"h-6 w-6"}),(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Review Badge Settings"}),(0,r.jsx)(h.E,{variant:"outline",children:"Badge Configuration"})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),j()},className:"space-y-6",children:[(0,r.jsxs)(t.tU,{defaultValue:"sources",className:"space-y-6",children:[(0,r.jsxs)(t.j7,{className:"grid w-full grid-cols-7",children:[(0,r.jsx)(t.Xi,{value:"sources",children:"Sources"}),(0,r.jsx)(t.Xi,{value:"general",children:"General"}),(0,r.jsx)(t.Xi,{value:"text",children:"Text"}),(0,r.jsx)(t.Xi,{value:"background",children:"Background"}),(0,r.jsx)(t.Xi,{value:"border",children:"Border"}),(0,r.jsx)(t.Xi,{value:"shadow",children:"Shadow"}),(0,r.jsx)(t.Xi,{value:"images",children:"Images"})]}),(0,r.jsx)(t.av,{value:"sources",children:(0,r.jsx)(O,{settings:s,reviewSources:n,reviewSourceSettings:l,updateSetting:b,updateReviewSource:v,updateReviewSourceSettings:y,reorderSources:f})}),(0,r.jsx)(t.av,{value:"general",children:(0,r.jsx)(D,{settings:s,updateSetting:b})}),(0,r.jsx)(t.av,{value:"text",children:(0,r.jsx)(V,{settings:s,updateSetting:b,availableFonts:c})}),(0,r.jsx)(t.av,{value:"background",children:(0,r.jsx)(X,{settings:s,updateSetting:b})}),(0,r.jsx)(t.av,{value:"border",children:(0,r.jsx)(U,{settings:s,updateSetting:b})}),(0,r.jsx)(t.av,{value:"shadow",children:(0,r.jsx)(H,{settings:s,updateSetting:b})}),(0,r.jsx)(t.av,{value:"images",children:(0,r.jsx)(ee,{settings:s,updateSetting:b,addImageMapping:_,removeImageMapping:w,updateImageName:B})})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)(o.$,{type:"submit",disabled:a,children:[a?(0,r.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,r.jsx)(p.A,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Review Settings"]})})]})]})}},{id:"awards",name:"Awards",component:function(){let{loading:e,saving:a,settings:s,availableFonts:n,loadSettings:l,loadFonts:c,saveSettings:g,updateSetting:m,addImageMapping:u,removeImageMapping:j,updateImageName:b,updateAwardSources:v}=function(){let[e,a]=(0,i.useState)(!1),[s,r]=(0,i.useState)(!1),[n,l]=(0,i.useState)(et),[t,d]=(0,i.useState)([]),c=async()=>{r(!0);try{console.log("Saving awards settings:",n),await N("badge_settings_awards.yml",n),console.log("Save successful"),x.oR.success("Awards badge settings saved successfully!",{description:"Your settings have been updated and saved.",duration:3e3})}catch(e){console.error("Error saving awards settings:",e),x.oR.error("Failed to save awards badge settings",{description:e instanceof Error?e.message:"Unknown error occurred",duration:5e3})}finally{r(!1)}};return{loading:e,saving:s,settings:n,availableFonts:t,loadSettings:async()=>{a(!0);try{console.log("Loading awards settings...");let e=await fetch("http://localhost:8000/api/v1/config/badge_settings_awards.yml"),a=await e.json();if(console.log("Loaded awards config:",a),a.config&&Object.keys(a.config).length>0){let e={...et,...a.config,General:{...et.General,...a.config.General},Awards:{...et.Awards,...a.config.Awards},Text:{...et.Text,...a.config.Text},Background:{...et.Background,...a.config.Background},Border:{...et.Border,...a.config.Border},Shadow:{...et.Shadow,...a.config.Shadow},ImageBadges:{...et.ImageBadges,...a.config.ImageBadges}};l(e),console.log("Awards settings loaded successfully")}else console.log("No existing awards config found, using defaults"),l(et)}catch(e){console.error("Error loading awards settings:",e),x.oR.error("Failed to load awards badge settings",{description:e instanceof Error?e.message:"Unknown error occurred",duration:5e3}),l(et)}finally{a(!1)}},loadFonts:async()=>{try{console.log("Loading available fonts..."),d(["AvenirNextLTProBold.otf","DejaVuSans.ttf","Arial","Helvetica","Times New Roman","Courier New"])}catch(e){console.error("Error loading fonts:",e),d([])}},saveSettings:c,updateSetting:(e,a,s)=>{l(r=>({...r,[e]:{...r[e],[a]:s}}))},addImageMapping:(e,a)=>{e&&a&&(l(s=>({...s,ImageBadges:{...s.ImageBadges,image_mapping:{...s.ImageBadges.image_mapping,[e]:a}}})),x.oR.success(`Added image mapping: ${e} → ${a}`,{duration:2e3}))},removeImageMapping:e=>{l(a=>{let s={...a.ImageBadges.image_mapping};return delete s[e],{...a,ImageBadges:{...a.ImageBadges,image_mapping:s}}}),x.oR.info(`Removed image mapping: ${e}`,{duration:2e3})},updateImageName:(e,a)=>{e!==a&&a.trim()&&l(s=>{let r=s.ImageBadges.image_mapping[e],i={...s.ImageBadges.image_mapping};return delete i[e],i[a]=r,{...s,ImageBadges:{...s.ImageBadges,image_mapping:i}}})},updateAwardSources:e=>{l(a=>({...a,Awards:{...a.Awards,award_sources:e}}))}}}();return e?(0,r.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,r.jsx)(d.A,{className:"h-8 w-8 animate-spin"}),(0,r.jsx)("span",{className:"ml-2",children:"Loading awards badge settings..."})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(ei,{className:"h-6 w-6"}),(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Awards Badge Settings"}),(0,r.jsx)(h.E,{variant:"outline",children:"Badge Configuration"})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g()},className:"space-y-6",children:[(0,r.jsxs)(t.tU,{defaultValue:"general",className:"space-y-6",children:[(0,r.jsxs)(t.j7,{className:"grid w-full grid-cols-7",children:[(0,r.jsx)(t.Xi,{value:"general",children:"General"}),(0,r.jsx)(t.Xi,{value:"awards",children:"Awards"}),(0,r.jsx)(t.Xi,{value:"text",children:"Text"}),(0,r.jsx)(t.Xi,{value:"background",children:"Background"}),(0,r.jsx)(t.Xi,{value:"border",children:"Border"}),(0,r.jsx)(t.Xi,{value:"shadow",children:"Shadow"}),(0,r.jsx)(t.Xi,{value:"images",children:"Images"})]}),(0,r.jsx)(t.av,{value:"general",children:(0,r.jsx)(en,{settings:s,updateSetting:m})}),(0,r.jsx)(t.av,{value:"awards",children:(0,r.jsx)(eo,{settings:s,updateSetting:m,updateAwardSources:v})}),(0,r.jsx)(t.av,{value:"text",children:(0,r.jsx)(eg,{settings:s,updateSetting:m,availableFonts:n})}),(0,r.jsx)(t.av,{value:"background",children:(0,r.jsx)(em,{settings:s,updateSetting:m})}),(0,r.jsx)(t.av,{value:"border",children:(0,r.jsx)(eh,{settings:s,updateSetting:m})}),(0,r.jsx)(t.av,{value:"shadow",children:(0,r.jsx)(eu,{settings:s,updateSetting:m})}),(0,r.jsx)(t.av,{value:"images",children:(0,r.jsx)(ep,{settings:s,updateSetting:m,addImageMapping:u,removeImageMapping:j,updateImageName:b})})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)(o.$,{type:"submit",disabled:a,children:[a?(0,r.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,r.jsx)(p.A,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Awards Settings"]})})]})]})}}],eb=[{file:"settings.yaml",key:"api",name:"API Settings"},{file:"badge_settings_audio.yml",key:"audio",name:"Audio Settings"},{file:"badge_settings_resolution.yml",key:"resolution",name:"Resolution Settings"},{file:"badge_settings_review.yml",key:"review",name:"Review Settings"},{file:"badge_settings_awards.yml",key:"awards",name:"Awards Settings"}];function ev(){return(0,r.jsx)(i.Suspense,{fallback:(0,r.jsx)(ey,{}),children:(0,r.jsx)(ef,{})})}function ey(){return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Configure your Aphrodite system settings"})]}),(0,r.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,r.jsx)(d.A,{className:"h-8 w-8 animate-spin"})})]})}function ef(){let[e,a]=(0,i.useState)(!0),[s,o]=(0,i.useState)({api:!1,audio:!1,resolution:!1,review:!1,awards:!1}),g=(0,n.useSearchParams)();(0,n.useRouter)();let[m,h]=(0,i.useState)(g.get("tab")||"api");return e?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Configure your Aphrodite system settings"})]}),(0,r.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,r.jsxs)(l.Zp,{className:"w-full max-w-md",children:[(0,r.jsxs)(l.aR,{className:"text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)(d.A,{className:"h-8 w-8 animate-spin text-primary"})}),(0,r.jsx)(l.ZB,{children:"Loading settings..."}),(0,r.jsx)(l.BT,{children:"Checking configuration files"})]}),(0,r.jsx)(l.Wu,{className:"space-y-3",children:eb.map(({name:e,key:a})=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[s[a]?(0,r.jsx)(c.A,{className:"h-4 w-4 text-green-600"}):(0,r.jsx)(d.A,{className:"h-4 w-4 animate-spin"}),(0,r.jsx)("span",{className:"text-sm",children:e})]},a))})]})})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Configure your Aphrodite system settings"})]}),(0,r.jsxs)(t.tU,{value:m,onValueChange:h,className:"w-full",children:[(0,r.jsx)(t.j7,{className:"grid w-full grid-cols-5",children:ej.map(e=>(0,r.jsx)(t.Xi,{value:e.id,children:e.name},e.id))}),ej.map(e=>{let a=e.component;return(0,r.jsx)(t.av,{value:e.id,children:(0,r.jsx)(l.Zp,{children:(0,r.jsx)(l.Wu,{className:"p-6",children:(0,r.jsx)(a,{})})})},e.id)})]})]})}},8819:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(2688).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),r=a.X(0,[447,982,658,784,343,993],()=>s(8463));module.exports=r})();