(()=>{var e={};e.id=662,e.ids=[662],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5748:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(62688).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},6649:(e,a,s)=>{Promise.resolve().then(s.bind(s,85492))},8819:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(62688).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23385:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(62688).A)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},25541:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(62688).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},27479:(e,a,s)=>{"use strict";s.d(a,{d:()=>N});var t=s(60687),n=s(43210),r=s(70569),i=s(98599),l=s(11273),d=s(65551),c=s(83721),o=s(18853),m=s(14163),h="Switch",[g,x]=(0,l.A)(h),[u,p]=g(h),j=n.forwardRef((e,a)=>{let{__scopeSwitch:s,name:l,checked:c,defaultChecked:o,required:g,disabled:x,value:p="on",onCheckedChange:j,form:v,...f}=e,[_,N]=n.useState(null),w=(0,i.s)(a,e=>N(e)),k=n.useRef(!1),C=!_||v||!!_.closest("form"),[B,S]=(0,d.i)({prop:c,defaultProp:o??!1,onChange:j,caller:h});return(0,t.jsxs)(u,{scope:s,checked:B,disabled:x,children:[(0,t.jsx)(m.sG.button,{type:"button",role:"switch","aria-checked":B,"aria-required":g,"data-state":y(B),"data-disabled":x?"":void 0,disabled:x,value:p,...f,ref:w,onClick:(0,r.m)(e.onClick,e=>{S(e=>!e),C&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),C&&(0,t.jsx)(b,{control:_,bubbles:!k.current,name:l,value:p,checked:B,required:g,disabled:x,form:v,style:{transform:"translateX(-100%)"}})]})});j.displayName=h;var v="SwitchThumb",f=n.forwardRef((e,a)=>{let{__scopeSwitch:s,...n}=e,r=p(v,s);return(0,t.jsx)(m.sG.span,{"data-state":y(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:a})});f.displayName=v;var b=n.forwardRef(({__scopeSwitch:e,control:a,checked:s,bubbles:r=!0,...l},d)=>{let m=n.useRef(null),h=(0,i.s)(m,d),g=(0,c.Z)(s),x=(0,o.X)(a);return n.useEffect(()=>{let e=m.current;if(!e)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(g!==s&&a){let t=new Event("click",{bubbles:r});a.call(e,s),e.dispatchEvent(t)}},[g,s,r]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...l,tabIndex:-1,ref:h,style:{...l.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function y(e){return e?"checked":"unchecked"}b.displayName="SwitchBubbleInput";var _=s(4780);function N({className:e,...a}){return(0,t.jsx)(j,{"data-slot":"switch",className:(0,_.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,t.jsx)(f,{"data-slot":"switch-thumb",className:(0,_.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},40211:(e,a,s)=>{"use strict";s.d(a,{C1:()=>N,bL:()=>y});var t=s(43210),n=s(98599),r=s(11273),i=s(70569),l=s(65551),d=s(83721),c=s(18853),o=s(46059),m=s(14163),h=s(60687),g="Checkbox",[x,u]=(0,r.A)(g),[p,j]=x(g);function v(e){let{__scopeCheckbox:a,checked:s,children:n,defaultChecked:r,disabled:i,form:d,name:c,onCheckedChange:o,required:m,value:x="on",internal_do_not_use_render:u}=e,[j,v]=(0,l.i)({prop:s,defaultProp:r??!1,onChange:o,caller:g}),[f,b]=t.useState(null),[y,_]=t.useState(null),N=t.useRef(!1),w=!f||!!d||!!f.closest("form"),k={checked:j,disabled:i,setChecked:v,control:f,setControl:b,name:c,form:d,value:x,hasConsumerStoppedPropagationRef:N,required:m,defaultChecked:!C(r)&&r,isFormControl:w,bubbleInput:y,setBubbleInput:_};return(0,h.jsx)(p,{scope:a,...k,children:"function"==typeof u?u(k):n})}var f="CheckboxTrigger",b=t.forwardRef(({__scopeCheckbox:e,onKeyDown:a,onClick:s,...r},l)=>{let{control:d,value:c,disabled:o,checked:g,required:x,setControl:u,setChecked:p,hasConsumerStoppedPropagationRef:v,isFormControl:b,bubbleInput:y}=j(f,e),_=(0,n.s)(l,u),N=t.useRef(g);return t.useEffect(()=>{let e=d?.form;if(e){let a=()=>p(N.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[d,p]),(0,h.jsx)(m.sG.button,{type:"button",role:"checkbox","aria-checked":C(g)?"mixed":g,"aria-required":x,"data-state":B(g),"data-disabled":o?"":void 0,disabled:o,value:c,...r,ref:_,onKeyDown:(0,i.m)(a,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.m)(s,e=>{p(e=>!!C(e)||!e),y&&b&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})});b.displayName=f;var y=t.forwardRef((e,a)=>{let{__scopeCheckbox:s,name:t,checked:n,defaultChecked:r,required:i,disabled:l,value:d,onCheckedChange:c,form:o,...m}=e;return(0,h.jsx)(v,{__scopeCheckbox:s,checked:n,defaultChecked:r,disabled:l,required:i,onCheckedChange:c,name:t,form:o,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(b,{...m,ref:a,__scopeCheckbox:s}),e&&(0,h.jsx)(k,{__scopeCheckbox:s})]})})});y.displayName=g;var _="CheckboxIndicator",N=t.forwardRef((e,a)=>{let{__scopeCheckbox:s,forceMount:t,...n}=e,r=j(_,s);return(0,h.jsx)(o.C,{present:t||C(r.checked)||!0===r.checked,children:(0,h.jsx)(m.sG.span,{"data-state":B(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:a,style:{pointerEvents:"none",...e.style}})})});N.displayName=_;var w="CheckboxBubbleInput",k=t.forwardRef(({__scopeCheckbox:e,...a},s)=>{let{control:r,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:o,required:g,disabled:x,name:u,value:p,form:v,bubbleInput:f,setBubbleInput:b}=j(w,e),y=(0,n.s)(s,b),_=(0,d.Z)(l),N=(0,c.X)(r);t.useEffect(()=>{if(!f)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,a=!i.current;if(_!==l&&e){let s=new Event("click",{bubbles:a});f.indeterminate=C(l),e.call(f,!C(l)&&l),f.dispatchEvent(s)}},[f,_,l,i]);let k=t.useRef(!C(l)&&l);return(0,h.jsx)(m.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??k.current,required:g,disabled:x,name:u,value:p,form:v,...a,tabIndex:-1,ref:y,style:{...a.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function C(e){return"indeterminate"===e}function B(e){return C(e)?"indeterminate":e?"checked":"unchecked"}k.displayName=w},43649:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(62688).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},45583:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(62688).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},46657:(e,a,s)=>{"use strict";s.d(a,{k:()=>y});var t=s(60687),n=s(43210),r=s(11273),i=s(14163),l="Progress",[d,c]=(0,r.A)(l),[o,m]=d(l),h=n.forwardRef((e,a)=>{var s,n;let{__scopeProgress:r,value:l=null,max:d,getValueLabel:c=u,...m}=e;(d||0===d)&&!v(d)&&console.error((s=`${d}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let h=v(d)?d:100;null===l||f(l,h)||console.error((n=`${l}`,`Invalid prop \`value\` of value \`${n}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let g=f(l,h)?l:null,x=j(g)?c(g,h):void 0;return(0,t.jsx)(o,{scope:r,value:g,max:h,children:(0,t.jsx)(i.sG.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":j(g)?g:void 0,"aria-valuetext":x,role:"progressbar","data-state":p(g,h),"data-value":g??void 0,"data-max":h,...m,ref:a})})});h.displayName=l;var g="ProgressIndicator",x=n.forwardRef((e,a)=>{let{__scopeProgress:s,...n}=e,r=m(g,s);return(0,t.jsx)(i.sG.div,{"data-state":p(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...n,ref:a})});function u(e,a){return`${Math.round(e/a*100)}%`}function p(e,a){return null==e?"indeterminate":e===a?"complete":"loading"}function j(e){return"number"==typeof e}function v(e){return j(e)&&!isNaN(e)&&e>0}function f(e,a){return j(e)&&!isNaN(e)&&e<=a&&e>=0}x.displayName=g;var b=s(4780);function y({className:e,value:a,...s}){return(0,t.jsx)(h,{"data-slot":"progress",className:(0,b.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...s,children:(0,t.jsx)(x,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})})}},48463:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c});var t=s(65239),n=s(48088),r=s(88170),i=s.n(r),l=s(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(a,d);let c={children:["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,74198)),"E:\\programming\\aphrodite\\frontend\\src\\app\\settings\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"E:\\programming\\aphrodite\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["E:\\programming\\aphrodite\\frontend\\src\\app\\settings\\page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},51939:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(62688).A)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]])},54300:(e,a,s)=>{"use strict";s.d(a,{J:()=>d});var t=s(60687),n=s(43210),r=s(14163),i=n.forwardRef((e,a)=>(0,t.jsx)(r.sG.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var l=s(4780);function d({className:e,...a}){return(0,t.jsx)(i,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}},56896:(e,a,s)=>{"use strict";s.d(a,{S:()=>l});var t=s(60687);s(43210);var n=s(40211),r=s(13964),i=s(4780);function l({className:e,...a}){return(0,t.jsx)(n.bL,{"data-slot":"checkbox",className:(0,i.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,t.jsx)(n.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(r.A,{className:"size-3.5"})})})}},58559:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(62688).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},61611:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(62688).A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},62140:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(62688).A)("file-image",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64398:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(62688).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},70201:(e,a,s)=>{Promise.resolve().then(s.bind(s,74198))},74198:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>r,dynamic:()=>n});var t=s(12907);let n=(0,t.registerClientReference)(function(){throw Error("Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\programming\\aphrodite\\frontend\\src\\app\\settings\\page.tsx","dynamic"),r=(0,t.registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\programming\\\\aphrodite\\\\frontend\\\\src\\\\app\\\\settings\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\programming\\aphrodite\\frontend\\src\\app\\settings\\page.tsx","default")},79551:e=>{"use strict";e.exports=require("url")},85492:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>aS,dynamic:()=>ak});var t=s(60687),n=s(43210),r=s(16189),i=s(44493),l=s(29844),d=s(41862),c=s(5336),o=s(29523),m=s(89667),h=s(54300),g=s(96834),x=s(35071),u=s(8819),p=s(52581);let j=()=>"";var v=s(62688);let f=(0,v.A)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);var b=s(27479),y=s(15079);function _({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"General Badge Settings"}),(0,t.jsx)(i.BT,{children:"Configure basic badge positioning and sizing for audio badges"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"badge-size",children:"Badge Size"}),(0,t.jsx)(m.p,{id:"badge-size",type:"number",min:"10",value:e.General.general_badge_size,onChange:e=>a("General.general_badge_size",parseInt(e.target.value)||100)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"edge-padding",children:"Edge Padding"}),(0,t.jsx)(m.p,{id:"edge-padding",type:"number",min:"0",value:e.General.general_edge_padding,onChange:e=>a("General.general_edge_padding",parseInt(e.target.value)||30)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"badge-position",children:"Badge Position"}),(0,t.jsxs)(y.l6,{value:e.General.general_badge_position,onValueChange:e=>a("General.general_badge_position",e),children:[(0,t.jsx)(y.bq,{children:(0,t.jsx)(y.yv,{})}),(0,t.jsxs)(y.gC,{children:[(0,t.jsx)(y.eb,{value:"top-left",children:"Top Left"}),(0,t.jsx)(y.eb,{value:"top-right",children:"Top Right"}),(0,t.jsx)(y.eb,{value:"bottom-left",children:"Bottom Left"}),(0,t.jsx)(y.eb,{value:"bottom-right",children:"Bottom Right"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"text-padding",children:"Text Padding"}),(0,t.jsx)(m.p,{id:"text-padding",type:"number",min:"0",value:e.General.general_text_padding,onChange:e=>a("General.general_text_padding",parseInt(e.target.value)||12)})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.d,{id:"dynamic-sizing",checked:e.General.use_dynamic_sizing,onCheckedChange:e=>a("General.use_dynamic_sizing",e)}),(0,t.jsx)(h.J,{htmlFor:"dynamic-sizing",children:"Use Dynamic Sizing"})]})]})]})}let N=(0,v.A)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]),w=()=>["AvenirNextLTProBold.otf","DejaVuSans.ttf","Arial","Helvetica","Times New Roman","Courier New","Georgia","Verdana","Tahoma","Comic Sans MS","Impact","Trebuchet MS"],k=async()=>{try{return w()}catch(e){return console.error("Error loading fonts:",e),w()}},C=(e=[])=>[...w(),...e].filter((e,a,s)=>s.indexOf(e)===a);function B({value:e,onValueChange:a,availableFonts:s=[],placeholder:n="Select a font...",disabled:r=!1}){let i=C(s);return(0,t.jsxs)(y.l6,{value:e,onValueChange:a,disabled:r,children:[(0,t.jsx)(y.bq,{children:(0,t.jsx)(y.yv,{placeholder:n})}),(0,t.jsx)(y.gC,{children:i.map(e=>(0,t.jsx)(y.eb,{value:e,children:e},e))})]})}function S({settings:e,updateSetting:a,availableFonts:s}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(N,{className:"h-5 w-5"}),"Text Settings"]}),(0,t.jsx)(i.BT,{children:"Configure font, size, and text appearance for audio badges"})]}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"font",children:"Primary Font"}),(0,t.jsx)(B,{value:e.Text.font,onValueChange:e=>a("Text.font",e),availableFonts:s,placeholder:"Select a font..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"fallback-font",children:"Fallback Font"}),(0,t.jsx)(B,{value:e.Text.fallback_font,onValueChange:e=>a("Text.fallback_font",e),availableFonts:s,placeholder:"Select a font..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"text-color",children:"Text Color"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"color",value:e.Text["text-color"],onChange:e=>a("Text.text-color",e.target.value),className:"w-12 h-10 border rounded cursor-pointer"}),(0,t.jsx)(m.p,{type:"text",value:e.Text["text-color"],onChange:e=>a("Text.text-color",e.target.value),className:"flex-1",placeholder:"#FFFFFF"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"text-size",children:"Text Size"}),(0,t.jsx)(m.p,{id:"text-size",type:"number",min:"10",value:e.Text["text-size"],onChange:e=>a("Text.text-size",parseInt(e.target.value)||90),placeholder:"90"})]})]})})]})}function A({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Background Settings"}),(0,t.jsx)(i.BT,{children:"Configure badge background appearance for audio badges"})]}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"background-color",children:"Background Color"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"color",value:e.Background["background-color"],onChange:e=>a("Background.background-color",e.target.value),className:"w-12 h-10 rounded border border-input"}),(0,t.jsx)(m.p,{value:e.Background["background-color"],onChange:e=>a("Background.background-color",e.target.value),placeholder:"#000000",className:"flex-1"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"background-opacity",children:"Background Opacity (%)"}),(0,t.jsx)(m.p,{id:"background-opacity",type:"number",min:"0",max:"100",value:e.Background.background_opacity,onChange:e=>a("Background.background_opacity",parseInt(e.target.value)||40)})]})]})})]})}function I({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Border Settings"}),(0,t.jsx)(i.BT,{children:"Configure badge border appearance for audio badges"})]}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"border-color",children:"Border Color"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"color",value:e.Border["border-color"],onChange:e=>a("Border.border-color",e.target.value),className:"w-12 h-10 rounded border border-input"}),(0,t.jsx)(m.p,{value:e.Border["border-color"],onChange:e=>a("Border.border-color",e.target.value),placeholder:"#000000",className:"flex-1"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"border-radius",children:"Border Radius"}),(0,t.jsx)(m.p,{id:"border-radius",type:"number",min:"0",value:e.Border["border-radius"],onChange:e=>a("Border.border-radius",parseInt(e.target.value)||10)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"border-width",children:"Border Width"}),(0,t.jsx)(m.p,{id:"border-width",type:"number",min:"0",value:e.Border.border_width,onChange:e=>a("Border.border_width",parseInt(e.target.value)||1)})]})]})})]})}function T({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Shadow Settings"}),(0,t.jsx)(i.BT,{children:"Configure badge drop shadow effects for audio badges"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,t.jsx)(b.d,{id:"shadow-enable",checked:e.Shadow.shadow_enable,onCheckedChange:e=>a("Shadow.shadow_enable",e)}),(0,t.jsx)(h.J,{htmlFor:"shadow-enable",children:"Enable Shadow"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"shadow-blur",children:"Shadow Blur"}),(0,t.jsx)(m.p,{id:"shadow-blur",type:"number",min:"0",value:e.Shadow.shadow_blur,onChange:e=>a("Shadow.shadow_blur",parseInt(e.target.value)||8),disabled:!e.Shadow.shadow_enable})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"shadow-offset-x",children:"Shadow Offset X"}),(0,t.jsx)(m.p,{id:"shadow-offset-x",type:"number",value:e.Shadow.shadow_offset_x,onChange:e=>a("Shadow.shadow_offset_x",parseInt(e.target.value)||2),disabled:!e.Shadow.shadow_enable})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"shadow-offset-y",children:"Shadow Offset Y"}),(0,t.jsx)(m.p,{id:"shadow-offset-y",type:"number",value:e.Shadow.shadow_offset_y,onChange:e=>a("Shadow.shadow_offset_y",parseInt(e.target.value)||2),disabled:!e.Shadow.shadow_enable})]})]})]})]})}var E=s(88233),D=s(96474);function F({settings:e,updateSetting:a,addAudioMapping:s,removeAudioMapping:r,updateCodecName:l}){let[d,c]=(0,n.useState)({codec:"",image:""});return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Image Badge Settings"}),(0,t.jsx)(i.BT,{children:"Configure image-based badges and audio codec mappings"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.d,{id:"enable-image-badges",checked:e.ImageBadges.enable_image_badges,onCheckedChange:e=>a("ImageBadges.enable_image_badges",e)}),(0,t.jsx)(h.J,{htmlFor:"enable-image-badges",children:"Enable Image Badges"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"codec-directory",children:"Audio Image Directory"}),(0,t.jsx)(m.p,{id:"codec-directory",type:"text",value:e.ImageBadges.codec_image_directory,onChange:e=>a("ImageBadges.codec_image_directory",e.target.value),disabled:!e.ImageBadges.enable_image_badges,placeholder:"images/audio"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"image-padding",children:"Image Padding"}),(0,t.jsx)(m.p,{id:"image-padding",type:"number",min:"0",value:e.ImageBadges.image_padding,onChange:e=>a("ImageBadges.image_padding",parseInt(e.target.value)||0),disabled:!e.ImageBadges.enable_image_badges})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.d,{id:"fallback-to-text",checked:e.ImageBadges.fallback_to_text,onCheckedChange:e=>a("ImageBadges.fallback_to_text",e),disabled:!e.ImageBadges.enable_image_badges}),(0,t.jsx)(h.J,{htmlFor:"fallback-to-text",children:"Fallback to Text"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold",children:"Audio Codec Image Mappings"}),(0,t.jsxs)(g.E,{variant:"secondary",children:[Object.keys(e.ImageBadges.image_mapping).length," mappings"]})]}),(0,t.jsxs)("div",{className:"max-h-60 overflow-y-auto space-y-2 border rounded-md p-4",children:[Object.entries(e.ImageBadges.image_mapping).map(([s,n])=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.p,{value:s,onChange:e=>l(s,e.target.value),disabled:!e.ImageBadges.enable_image_badges,className:"flex-1",placeholder:"Audio Codec Name"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"→"}),(0,t.jsx)(m.p,{value:n,onChange:e=>a(`ImageBadges.image_mapping.${s}`,e.target.value),disabled:!e.ImageBadges.enable_image_badges,className:"flex-1",placeholder:"Image Filename"}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>r(s),disabled:!e.ImageBadges.enable_image_badges,children:(0,t.jsx)(E.A,{className:"h-4 w-4"})})]},s)),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t",children:[(0,t.jsx)(m.p,{value:d.codec,onChange:e=>c(a=>({...a,codec:e.target.value})),disabled:!e.ImageBadges.enable_image_badges,placeholder:"New audio codec name",className:"flex-1"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"→"}),(0,t.jsx)(m.p,{value:d.image,onChange:e=>c(a=>({...a,image:e.target.value})),disabled:!e.ImageBadges.enable_image_badges,placeholder:"Image filename",className:"flex-1"}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>{s(d.codec,d.image)&&c({codec:"",image:""})},disabled:!e.ImageBadges.enable_image_badges||!d.codec||!d.image,children:(0,t.jsx)(D.A,{className:"h-4 w-4"})})]})]})]})]})]})}var R=s(45583);let P=(0,v.A)("audio-waveform",[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]]);function z({settings:e,updateSetting:a}){let[s,r]=(0,n.useState)(""),[l,d]=(0,n.useState)(""),[c,x]=(0,n.useState)({from:"",to:""}),[u,p]=(0,n.useState)(""),j=s=>{a("EnhancedDetection.atmos_detection_patterns",e.EnhancedDetection.atmos_detection_patterns.filter((e,a)=>a!==s))},v=s=>{a("EnhancedDetection.dts_x_detection_patterns",e.EnhancedDetection.dts_x_detection_patterns.filter((e,a)=>a!==s))},f=s=>{let t={...e.EnhancedDetection.fallback_rules};delete t[s],a("EnhancedDetection.fallback_rules",t)},y=s=>{a("EnhancedDetection.priority_order",e.EnhancedDetection.priority_order.filter((e,a)=>a!==s))},_=(s,t)=>{let n=[...e.EnhancedDetection.priority_order],r="up"===t?s-1:s+1;r>=0&&r<n.length&&([n[s],n[r]]=[n[r],n[s]],a("EnhancedDetection.priority_order",n))};return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(R.A,{className:"h-5 w-5"}),"Enhanced Audio Detection"]}),(0,t.jsx)(i.BT,{children:"Configure advanced audio detection features including Dolby Atmos and DTS-X detection"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.d,{id:"enhanced-detection-enable",checked:e.EnhancedDetection.enabled,onCheckedChange:e=>a("EnhancedDetection.enabled",e)}),(0,t.jsx)(h.J,{htmlFor:"enhanced-detection-enable",children:"Enable Enhanced Detection"}),(0,t.jsx)(g.E,{variant:e.EnhancedDetection.enabled?"default":"secondary",children:e.EnhancedDetection.enabled?"Active":"Disabled"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(P,{className:"h-4 w-4"}),(0,t.jsx)("h4",{className:"text-lg font-semibold",children:"Dolby Atmos Detection Patterns"}),(0,t.jsxs)(g.E,{variant:"outline",children:[e.EnhancedDetection.atmos_detection_patterns.length," patterns"]})]}),(0,t.jsxs)("div",{className:"space-y-2 border rounded-md p-4 max-h-40 overflow-y-auto",children:[e.EnhancedDetection.atmos_detection_patterns.map((s,n)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.p,{value:s,onChange:s=>{let t=[...e.EnhancedDetection.atmos_detection_patterns];t[n]=s.target.value,a("EnhancedDetection.atmos_detection_patterns",t)},disabled:!e.EnhancedDetection.enabled,className:"flex-1"}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>j(n),disabled:!e.EnhancedDetection.enabled,children:(0,t.jsx)(E.A,{className:"h-4 w-4"})})]},n)),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t",children:[(0,t.jsx)(m.p,{value:s,onChange:e=>r(e.target.value),disabled:!e.EnhancedDetection.enabled,placeholder:"New Atmos pattern (e.g., 'truehd atmos')",className:"flex-1"}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>{s.trim()&&(a("EnhancedDetection.atmos_detection_patterns",[...e.EnhancedDetection.atmos_detection_patterns,s.trim()]),r(""))},disabled:!e.EnhancedDetection.enabled||!s.trim(),children:(0,t.jsx)(D.A,{className:"h-4 w-4"})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(P,{className:"h-4 w-4"}),(0,t.jsx)("h4",{className:"text-lg font-semibold",children:"DTS-X Detection Patterns"}),(0,t.jsxs)(g.E,{variant:"outline",children:[e.EnhancedDetection.dts_x_detection_patterns.length," patterns"]})]}),(0,t.jsxs)("div",{className:"space-y-2 border rounded-md p-4 max-h-40 overflow-y-auto",children:[e.EnhancedDetection.dts_x_detection_patterns.map((s,n)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.p,{value:s,onChange:s=>{let t=[...e.EnhancedDetection.dts_x_detection_patterns];t[n]=s.target.value,a("EnhancedDetection.dts_x_detection_patterns",t)},disabled:!e.EnhancedDetection.enabled,className:"flex-1"}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>v(n),disabled:!e.EnhancedDetection.enabled,children:(0,t.jsx)(E.A,{className:"h-4 w-4"})})]},n)),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t",children:[(0,t.jsx)(m.p,{value:l,onChange:e=>d(e.target.value),disabled:!e.EnhancedDetection.enabled,placeholder:"New DTS-X pattern (e.g., 'dts:x')",className:"flex-1"}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>{l.trim()&&(a("EnhancedDetection.dts_x_detection_patterns",[...e.EnhancedDetection.dts_x_detection_patterns,l.trim()]),d(""))},disabled:!e.EnhancedDetection.enabled||!l.trim(),children:(0,t.jsx)(D.A,{className:"h-4 w-4"})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold",children:"Fallback Rules"}),(0,t.jsxs)(g.E,{variant:"outline",children:[Object.keys(e.EnhancedDetection.fallback_rules).length," rules"]})]}),(0,t.jsxs)("div",{className:"space-y-2 border rounded-md p-4 max-h-40 overflow-y-auto",children:[Object.entries(e.EnhancedDetection.fallback_rules).map(([s,n])=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.p,{value:s,disabled:!0,className:"flex-1"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"→"}),(0,t.jsx)(m.p,{value:n,onChange:t=>{let n={...e.EnhancedDetection.fallback_rules};n[s]=t.target.value,a("EnhancedDetection.fallback_rules",n)},disabled:!e.EnhancedDetection.enabled,className:"flex-1"}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>f(s),disabled:!e.EnhancedDetection.enabled,children:(0,t.jsx)(E.A,{className:"h-4 w-4"})})]},s)),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t",children:[(0,t.jsx)(m.p,{value:c.from,onChange:e=>x(a=>({...a,from:e.target.value})),disabled:!e.EnhancedDetection.enabled,placeholder:"From codec",className:"flex-1"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"→"}),(0,t.jsx)(m.p,{value:c.to,onChange:e=>x(a=>({...a,to:e.target.value})),disabled:!e.EnhancedDetection.enabled,placeholder:"To codec",className:"flex-1"}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>{c.from.trim()&&c.to.trim()&&(a("EnhancedDetection.fallback_rules",{...e.EnhancedDetection.fallback_rules,[c.from.trim()]:c.to.trim()}),x({from:"",to:""}))},disabled:!e.EnhancedDetection.enabled||!c.from.trim()||!c.to.trim(),children:(0,t.jsx)(D.A,{className:"h-4 w-4"})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold",children:"Audio Priority Order"}),(0,t.jsxs)(g.E,{variant:"outline",children:[e.EnhancedDetection.priority_order.length," items"]})]}),(0,t.jsxs)("div",{className:"space-y-2 border rounded-md p-4 max-h-40 overflow-y-auto",children:[e.EnhancedDetection.priority_order.map((s,n)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-sm text-muted-foreground w-8",children:[n+1,"."]}),(0,t.jsx)(m.p,{value:s,onChange:s=>{let t=[...e.EnhancedDetection.priority_order];t[n]=s.target.value,a("EnhancedDetection.priority_order",t)},disabled:!e.EnhancedDetection.enabled,className:"flex-1"}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"sm",onClick:()=>_(n,"up"),disabled:!e.EnhancedDetection.enabled||0===n,children:"↑"}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"sm",onClick:()=>_(n,"down"),disabled:!e.EnhancedDetection.enabled||n===e.EnhancedDetection.priority_order.length-1,children:"↓"}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>y(n),disabled:!e.EnhancedDetection.enabled,children:(0,t.jsx)(E.A,{className:"h-4 w-4"})})]},n)),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t",children:[(0,t.jsxs)("span",{className:"text-sm text-muted-foreground w-8",children:[e.EnhancedDetection.priority_order.length+1,"."]}),(0,t.jsx)(m.p,{value:u,onChange:e=>p(e.target.value),disabled:!e.EnhancedDetection.enabled,placeholder:"New priority item",className:"flex-1"}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>{u.trim()&&(a("EnhancedDetection.priority_order",[...e.EnhancedDetection.priority_order,u.trim()]),p(""))},disabled:!e.EnhancedDetection.enabled||!u.trim(),children:(0,t.jsx)(D.A,{className:"h-4 w-4"})})]})]})]})]})]})}var M=s(51939),J=s(61611),Z=s(48730);function G({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(M.A,{className:"h-5 w-5"}),"Performance Settings"]}),(0,t.jsx)(i.BT,{children:"Configure audio detection performance optimizations"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(R.A,{className:"h-4 w-4"}),(0,t.jsx)("h4",{className:"text-lg font-semibold",children:"Parallel Processing"}),(0,t.jsx)(g.E,{variant:e.Performance.enable_parallel_processing?"default":"secondary",children:e.Performance.enable_parallel_processing?"Enabled":"Disabled"})]}),(0,t.jsxs)("div",{className:"space-y-4 pl-6 border-l-2 border-muted",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.d,{id:"parallel-processing",checked:e.Performance.enable_parallel_processing,onCheckedChange:e=>a("Performance.enable_parallel_processing",e)}),(0,t.jsx)(h.J,{htmlFor:"parallel-processing",children:"Enable Parallel Processing for TV Series"})]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Processes multiple episodes simultaneously for improved performance. Recommended for systems with multiple CPU cores."}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"max-episodes",children:"Max Episodes to Sample (TV Series)"}),(0,t.jsx)(m.p,{id:"max-episodes",type:"number",min:"1",max:"20",value:e.Performance.max_episodes_to_sample,onChange:e=>a("Performance.max_episodes_to_sample",parseInt(e.target.value)||5),disabled:!e.Performance.enable_parallel_processing}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Number of episodes to sample for audio detection in TV series. Higher values provide more accuracy but use more resources."})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(J.A,{className:"h-4 w-4"}),(0,t.jsx)("h4",{className:"text-lg font-semibold",children:"Audio Detection Caching"}),(0,t.jsx)(g.E,{variant:e.Performance.enable_caching?"default":"secondary",children:e.Performance.enable_caching?"Enabled":"Disabled"})]}),(0,t.jsxs)("div",{className:"space-y-4 pl-6 border-l-2 border-muted",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.d,{id:"caching",checked:e.Performance.enable_caching,onCheckedChange:e=>a("Performance.enable_caching",e)}),(0,t.jsx)(h.J,{htmlFor:"caching",children:"Enable Audio Detection Caching"})]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Caches audio detection results to avoid re-processing the same media files. Significantly improves performance for repeated operations."}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"cache-ttl",children:"Cache TTL (Hours)"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)(m.p,{id:"cache-ttl",type:"number",min:"1",max:"168",value:e.Performance.cache_ttl_hours,onChange:e=>a("Performance.cache_ttl_hours",parseInt(e.target.value)||24),disabled:!e.Performance.enable_caching})]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"How long to keep cached audio detection results. Default: 24 hours. Max: 168 hours (7 days)."})]})]})]}),(0,t.jsxs)("div",{className:"bg-muted/50 p-4 rounded-md space-y-2",children:[(0,t.jsx)("h5",{className:"font-semibold",children:"Performance Configuration Summary"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Parallel Processing:"}),(0,t.jsx)(g.E,{variant:e.Performance.enable_parallel_processing?"default":"outline",className:"text-xs",children:e.Performance.enable_parallel_processing?"ON":"OFF"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Episode Sampling:"}),(0,t.jsxs)("span",{className:"font-mono",children:[e.Performance.max_episodes_to_sample," episodes"]})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Caching:"}),(0,t.jsx)(g.E,{variant:e.Performance.enable_caching?"default":"outline",className:"text-xs",children:e.Performance.enable_caching?"ON":"OFF"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Cache Duration:"}),(0,t.jsxs)("span",{className:"font-mono",children:[e.Performance.cache_ttl_hours,"h"]})]})]})]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground mt-2",children:"\uD83D\uDCA1 For best performance: Enable both parallel processing and caching"})]})]})]})}var $=s(58559);let L=(0,v.A)("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);var O=s(97840),V=s(46657),W=s(62140),H=s(93613);function X({coverageData:e,onRunAnalysis:a,loading:s}){if(!e)return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(W.A,{className:"h-5 w-5"}),"Audio Image Coverage Analysis"]}),(0,t.jsx)(i.BT,{children:"Analyze your audio image collection for gaps and coverage"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)(o.$,{onClick:a,disabled:s,children:s?"Analyzing...":"Run Coverage Analysis"})})]});let n=Object.keys(e.coverage_by_audio_format).length,r=Object.values(e.coverage_by_audio_format).filter(e=>e.has_base).length,l=n>0?Math.round(r/n*100):0;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(W.A,{className:"h-5 w-5"}),"Audio Image Coverage Analysis"]}),(0,t.jsx)(i.BT,{children:"Analysis of your audio image collection and coverage gaps"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-muted/50 p-3 rounded-md text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.total_images}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Images"})]}),(0,t.jsxs)("div",{className:"bg-muted/50 p-3 rounded-md text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:n}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Audio Formats"})]}),(0,t.jsxs)("div",{className:"bg-muted/50 p-3 rounded-md text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.atmos_images.length}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Atmos Images"})]}),(0,t.jsxs)("div",{className:"bg-muted/50 p-3 rounded-md text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.dts_x_images.length}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"DTS-X Images"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Base Format Coverage"}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[r,"/",n]})]}),(0,t.jsx)(V.k,{value:l,className:"w-full"}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[l,"% of audio formats have base images"]})]}),(0,t.jsx)(o.$,{onClick:a,disabled:s,variant:"outline",size:"sm",children:s?"Analyzing...":"Refresh Analysis"})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Format Coverage Details"}),(0,t.jsx)(i.BT,{children:"Detailed breakdown of audio format image availability"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:Object.entries(e.coverage_by_audio_format).map(([e,a])=>(0,t.jsxs)("div",{className:"border rounded-md p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(P,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"font-medium",children:e.toUpperCase()}),a.has_base?(0,t.jsx)(c.A,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(x.A,{className:"h-4 w-4 text-red-500"})]}),(0,t.jsxs)(g.E,{variant:a.has_base?"default":"destructive",children:[a.available_variants.length," available"]})]}),a.available_variants.length>0&&(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Available:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:a.available_variants.map(e=>(0,t.jsx)(g.E,{variant:"outline",className:"text-xs",children:e},e))})]}),a.missing_variants.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Missing:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:a.missing_variants.map(e=>(0,t.jsx)(g.E,{variant:"secondary",className:"text-xs",children:e},e))})]})]},e))})})]}),e.standalone_images.length>0&&(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Standalone Images"}),(0,t.jsx)(i.BT,{children:"Images that don't belong to specific format categories"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.standalone_images.map(e=>(0,t.jsx)(g.E,{variant:"outline",children:e},e))})})]}),Object.keys(e.fallback_coverage).length>0&&(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Fallback Coverage"}),(0,t.jsx)(i.BT,{children:"Automatic fallback rules for missing images"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"space-y-2",children:Object.entries(e.fallback_coverage).map(([e,a])=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,t.jsx)("span",{className:"font-medium",children:e}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"→"}),(0,t.jsx)("span",{children:a.target}),a.target_available?(0,t.jsx)(c.A,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(H.A,{className:"h-4 w-4 text-yellow-500"})]})]},e))})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Premium Audio Features"}),(0,t.jsx)(i.BT,{children:"Dolby Atmos and DTS-X image availability"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(P,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"font-medium",children:"Dolby Atmos Images"}),(0,t.jsx)(g.E,{variant:"outline",children:e.atmos_images.length})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 max-h-20 overflow-y-auto",children:[e.atmos_images.map(e=>(0,t.jsx)(g.E,{variant:"secondary",className:"text-xs",children:e},e)),0===e.atmos_images.length&&(0,t.jsx)("span",{className:"text-sm text-muted-foreground italic",children:"No Atmos images found"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(P,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"font-medium",children:"DTS-X Images"}),(0,t.jsx)(g.E,{variant:"outline",children:e.dts_x_images.length})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 max-h-20 overflow-y-auto",children:[e.dts_x_images.map(e=>(0,t.jsx)(g.E,{variant:"secondary",className:"text-xs",children:e},e)),0===e.dts_x_images.length&&(0,t.jsx)("span",{className:"text-sm text-muted-foreground italic",children:"No DTS-X images found"})]})]})]})})]})]})}function U({settings:e,runAudioCoverageAnalysis:a,getCacheStats:s,clearAudioCache:r,testEnhancedDetection:l}){let[c,m]=(0,n.useState)(!1),[h,x]=(0,n.useState)(!1),[u,j]=(0,n.useState)(!1),[v,f]=(0,n.useState)(!1),[b,y]=(0,n.useState)(null),[_,N]=(0,n.useState)(null),[w,k]=(0,n.useState)(null),C=async()=>{m(!0);try{let e=await a();y(e),e&&p.oR.success("Audio coverage analysis completed")}finally{m(!1)}},B=async()=>{x(!0);try{let e=await s();N(e)}finally{x(!1)}},S=async()=>{f(!0);try{await r()&&await B()}finally{f(!1)}},A=async()=>{j(!0);try{let e=await l();k(e),e&&p.oR.success(`Detection test ${e.test_passed?"passed":"failed"}`)}finally{j(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)($.A,{className:"h-5 w-5"}),"Audio Detection Diagnostics"]}),(0,t.jsx)(i.BT,{children:"Monitor and test your audio detection system performance"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(o.$,{onClick:C,disabled:c,variant:"outline",className:"h-20 flex-col",children:[c?(0,t.jsx)(d.A,{className:"h-5 w-5 animate-spin mb-2"}):(0,t.jsx)(P,{className:"h-5 w-5 mb-2"}),c?"Analyzing...":"Audio Coverage"]}),(0,t.jsxs)(o.$,{onClick:B,disabled:h,variant:"outline",className:"h-20 flex-col",children:[h?(0,t.jsx)(d.A,{className:"h-5 w-5 animate-spin mb-2"}):(0,t.jsx)(J.A,{className:"h-5 w-5 mb-2"}),h?"Loading...":"Cache Stats"]}),(0,t.jsxs)(o.$,{onClick:A,disabled:u,variant:"outline",className:"h-20 flex-col",children:[u?(0,t.jsx)(d.A,{className:"h-5 w-5 animate-spin mb-2"}):(0,t.jsx)(L,{className:"h-5 w-5 mb-2"}),u?"Testing...":"Test Detection"]})]})})]}),_&&(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(J.A,{className:"h-5 w-5"}),"Cache Performance"]}),(0,t.jsx)(i.BT,{children:"Audio detection cache statistics and performance metrics"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-muted/50 p-3 rounded-md text-center",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[_.hit_rate_percent.toFixed(1),"%"]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Hit Rate"})]}),(0,t.jsxs)("div",{className:"bg-muted/50 p-3 rounded-md text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:_.cache_size}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Cached Items"})]}),(0,t.jsxs)("div",{className:"bg-muted/50 p-3 rounded-md text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:_.episode_samples_cached}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Episode Samples"})]}),(0,t.jsxs)("div",{className:"bg-muted/50 p-3 rounded-md text-center",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[_.ttl_hours,"h"]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"TTL"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Total Hits:"}),(0,t.jsx)(g.E,{variant:"outline",children:_.total_hits})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Total Misses:"}),(0,t.jsx)(g.E,{variant:"outline",children:_.total_misses})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Last Cleanup:"}),(0,t.jsx)("span",{className:"font-mono text-xs",children:new Date(_.last_cleanup).toLocaleString()})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Cache Status:"}),(0,t.jsx)(g.E,{variant:e.Performance.enable_caching?"default":"secondary",children:e.Performance.enable_caching?"Enabled":"Disabled"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(o.$,{onClick:B,disabled:h,variant:"outline",size:"sm",children:[h?(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):null,"Refresh Stats"]}),(0,t.jsxs)(o.$,{onClick:S,disabled:v||!e.Performance.enable_caching,variant:"destructive",size:"sm",children:[v?(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,t.jsx)(E.A,{className:"h-4 w-4 mr-2"}),"Clear Cache"]})]})]})]}),w&&(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(L,{className:"h-5 w-5"}),"Enhanced Detection Test Results"]}),(0,t.jsx)(i.BT,{children:"Results from the latest audio detection test"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"Test Status:"}),(0,t.jsx)(g.E,{variant:w.test_passed?"default":"destructive",children:w.test_passed?"PASSED":"FAILED"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"Detection Method:"}),(0,t.jsx)(g.E,{variant:"outline",children:w.detection_method})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"Processing Time:"}),(0,t.jsxs)("span",{className:"font-mono",children:[w.processing_time_ms,"ms"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"Detected Audio:"}),(0,t.jsx)(g.E,{variant:"secondary",children:w.detected_audio})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"Used Image:"}),(0,t.jsx)("span",{className:"font-mono text-sm",children:w.used_image})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Atmos:"}),(0,t.jsx)(g.E,{variant:w.atmos_detected?"default":"outline",className:"text-xs",children:w.atmos_detected?"YES":"NO"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"DTS-X:"}),(0,t.jsx)(g.E,{variant:w.dts_x_detected?"default":"outline",className:"text-xs",children:w.dts_x_detected?"YES":"NO"})]})]})]})]}),(0,t.jsxs)(o.$,{onClick:A,disabled:u,variant:"outline",size:"sm",children:[u?(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,t.jsx)(O.A,{className:"h-4 w-4 mr-2"}),"Run Test Again"]})]})]}),(0,t.jsx)(X,{coverageData:b,onRunAnalysis:C,loading:c}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Audio Detection System Status"}),(0,t.jsx)(i.BT,{children:"Current configuration and feature availability"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h5",{className:"font-semibold",children:"Enhanced Features"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Enhanced Detection:"}),(0,t.jsx)(g.E,{variant:e.EnhancedDetection.enabled?"default":"secondary",children:e.EnhancedDetection.enabled?"ON":"OFF"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Parallel Processing:"}),(0,t.jsx)(g.E,{variant:e.Performance.enable_parallel_processing?"default":"secondary",children:e.Performance.enable_parallel_processing?"ON":"OFF"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Caching:"}),(0,t.jsx)(g.E,{variant:e.Performance.enable_caching?"default":"secondary",children:e.Performance.enable_caching?"ON":"OFF"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h5",{className:"font-semibold",children:"Detection Patterns"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Atmos Patterns:"}),(0,t.jsx)(g.E,{variant:"outline",children:e.EnhancedDetection.atmos_detection_patterns.length})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"DTS-X Patterns:"}),(0,t.jsx)(g.E,{variant:"outline",children:e.EnhancedDetection.dts_x_detection_patterns.length})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm",children:"Priority Items:"}),(0,t.jsx)(g.E,{variant:"outline",children:e.EnhancedDetection.priority_order.length})]})]})]})]})})]})]})}let q=()=>"";async function Y(e,a,s=q()){if(!(await fetch(`${s}/api/v1/config/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw Error(`Failed to save ${e}`);try{await fetch(`${s}/api/v1/config/cache/clear/${e}`,{method:"POST"})}catch(a){console.warn(`Cache clear failed for ${e}, but settings were saved:`,a)}}let K={General:{general_badge_size:100,general_edge_padding:30,general_badge_position:"top-right",general_text_padding:12,use_dynamic_sizing:!0},Text:{font:"AvenirNextLTProBold.otf",fallback_font:"DejaVuSans.ttf","text-color":"#FFFFFF","text-size":90},Background:{"background-color":"#000000",background_opacity:40},Border:{"border-color":"#000000","border-radius":10,border_width:1},Shadow:{shadow_enable:!1,shadow_blur:8,shadow_offset_x:2,shadow_offset_y:2},ImageBadges:{enable_image_badges:!0,codec_image_directory:"images/codec",fallback_to_text:!0,image_padding:0,image_mapping:{ATMOS:"Atmos.png","DOLBY DIGITAL PLUS":"DigitalPlus.png","DTS-HD MA":"DTS-HD.png","DTS-X":"DTS-X.png",TRUEHD:"TrueHD.png","TRUEHD ATMOS":"TrueHD-Atmos.png"}},EnhancedDetection:{enabled:!0,fallback_rules:{"dts-hd":"dts","truehd-atmos":"truehd"},atmos_detection_patterns:["atmos","dolby atmos","truehd atmos","dd+ atmos"],dts_x_detection_patterns:["dts-x","dtsx","dts:x"],priority_order:["atmos","dts-x","truehd","dts-hd","dd+","dts"]},Performance:{enable_parallel_processing:!0,enable_caching:!0,cache_ttl_hours:24,max_episodes_to_sample:5}},Q=(0,v.A)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);function ee({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"General Badge Settings"}),(0,t.jsx)(i.BT,{children:"Configure basic badge positioning and sizing for resolution badges"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"badge-size",children:"Badge Size"}),(0,t.jsx)(m.p,{id:"badge-size",type:"number",min:"10",value:e.General.general_badge_size,onChange:e=>a("General","general_badge_size",parseInt(e.target.value)||100)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"edge-padding",children:"Edge Padding"}),(0,t.jsx)(m.p,{id:"edge-padding",type:"number",min:"0",value:e.General.general_edge_padding,onChange:e=>a("General","general_edge_padding",parseInt(e.target.value)||30)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"badge-position",children:"Badge Position"}),(0,t.jsxs)(y.l6,{value:e.General.general_badge_position,onValueChange:e=>a("General","general_badge_position",e),children:[(0,t.jsx)(y.bq,{children:(0,t.jsx)(y.yv,{})}),(0,t.jsxs)(y.gC,{children:[(0,t.jsx)(y.eb,{value:"top-left",children:"Top Left"}),(0,t.jsx)(y.eb,{value:"top-right",children:"Top Right"}),(0,t.jsx)(y.eb,{value:"bottom-left",children:"Bottom Left"}),(0,t.jsx)(y.eb,{value:"bottom-right",children:"Bottom Right"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"text-padding",children:"Text Padding"}),(0,t.jsx)(m.p,{id:"text-padding",type:"number",min:"0",value:e.General.general_text_padding,onChange:e=>a("General","general_text_padding",parseInt(e.target.value)||12)})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.d,{id:"dynamic-sizing",checked:e.General.use_dynamic_sizing,onCheckedChange:e=>a("General","use_dynamic_sizing",e)}),(0,t.jsx)(h.J,{htmlFor:"dynamic-sizing",children:"Use Dynamic Sizing"})]})]})]})}function ea({settings:e,updateSetting:a,availableFonts:s=[]}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(N,{className:"h-5 w-5"}),"Text Settings"]}),(0,t.jsx)(i.BT,{children:"Configure font, size, and text appearance for resolution badges"})]}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"font",children:"Primary Font"}),(0,t.jsx)(B,{value:e.Text.font,onValueChange:e=>a("Text","font",e),availableFonts:s,placeholder:"Select a font..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"fallback-font",children:"Fallback Font"}),(0,t.jsx)(B,{value:e.Text.fallback_font,onValueChange:e=>a("Text","fallback_font",e),availableFonts:s,placeholder:"Select a font..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"text-color",children:"Text Color"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"color",value:e.Text["text-color"],onChange:e=>a("Text","text-color",e.target.value),className:"w-12 h-10 border rounded cursor-pointer"}),(0,t.jsx)(m.p,{type:"text",value:e.Text["text-color"],onChange:e=>a("Text","text-color",e.target.value),className:"flex-1",placeholder:"#FFFFFF"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"text-size",children:"Text Size"}),(0,t.jsx)(m.p,{id:"text-size",type:"number",min:"10",value:e.Text["text-size"],onChange:e=>a("Text","text-size",parseInt(e.target.value)||90),placeholder:"90"})]})]})})]})}function es({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Background Settings"}),(0,t.jsx)(i.BT,{children:"Configure badge background appearance"})]}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"background-color",children:"Background Color"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"color",value:e.Background["background-color"],onChange:e=>a("Background","background-color",e.target.value),className:"w-12 h-10 rounded border border-input"}),(0,t.jsx)(m.p,{value:e.Background["background-color"],onChange:e=>a("Background","background-color",e.target.value),placeholder:"#000000",className:"flex-1"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"background-opacity",children:"Background Opacity (%)"}),(0,t.jsx)(m.p,{id:"background-opacity",type:"number",min:"0",max:"100",value:e.Background.background_opacity,onChange:e=>a("Background","background_opacity",""===e.target.value?40:parseInt(e.target.value))})]})]})})]})}function et({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Border Settings"}),(0,t.jsx)(i.BT,{children:"Configure badge border appearance"})]}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"border-color",children:"Border Color"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"color",value:e.Border["border-color"],onChange:e=>a("Border","border-color",e.target.value),className:"w-12 h-10 rounded border border-input"}),(0,t.jsx)(m.p,{value:e.Border["border-color"],onChange:e=>a("Border","border-color",e.target.value),placeholder:"#000000",className:"flex-1"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"border-radius",children:"Border Radius"}),(0,t.jsx)(m.p,{id:"border-radius",type:"number",min:"0",value:e.Border["border-radius"],onChange:e=>a("Border","border-radius",parseInt(e.target.value)||10)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"border-width",children:"Border Width"}),(0,t.jsx)(m.p,{id:"border-width",type:"number",min:"0",value:e.Border.border_width,onChange:e=>a("Border","border_width",parseInt(e.target.value)||1)})]})]})})]})}function en({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Shadow Settings"}),(0,t.jsx)(i.BT,{children:"Configure badge drop shadow effects"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,t.jsx)(b.d,{id:"shadow-enable",checked:e.Shadow.shadow_enable,onCheckedChange:e=>a("Shadow","shadow_enable",e)}),(0,t.jsx)(h.J,{htmlFor:"shadow-enable",children:"Enable Shadow"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"shadow-blur",children:"Shadow Blur"}),(0,t.jsx)(m.p,{id:"shadow-blur",type:"number",min:"0",value:e.Shadow.shadow_blur,onChange:e=>a("Shadow","shadow_blur",parseInt(e.target.value)||8),disabled:!e.Shadow.shadow_enable})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"shadow-offset-x",children:"Shadow Offset X"}),(0,t.jsx)(m.p,{id:"shadow-offset-x",type:"number",value:e.Shadow.shadow_offset_x,onChange:e=>a("Shadow","shadow_offset_x",parseInt(e.target.value)||2),disabled:!e.Shadow.shadow_enable})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"shadow-offset-y",children:"Shadow Offset Y"}),(0,t.jsx)(m.p,{id:"shadow-offset-y",type:"number",value:e.Shadow.shadow_offset_y,onChange:e=>a("Shadow","shadow_offset_y",parseInt(e.target.value)||2),disabled:!e.Shadow.shadow_enable})]})]})]})]})}function er({settings:e,updateSetting:a,addResolutionMapping:s,removeResolutionMapping:r,updateResolutionName:l}){let[d,c]=(0,n.useState)({resolution:"",image:""});return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Image Badge Settings"}),(0,t.jsx)(i.BT,{children:"Configure image-based badges and resolution mappings"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.d,{id:"enable-image-badges",checked:e.ImageBadges.enable_image_badges,onCheckedChange:e=>a("ImageBadges","enable_image_badges",e)}),(0,t.jsx)(h.J,{htmlFor:"enable-image-badges",children:"Enable Image Badges"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"resolution-directory",children:"Resolution Image Directory"}),(0,t.jsx)(m.p,{id:"resolution-directory",type:"text",value:e.ImageBadges.codec_image_directory,onChange:e=>a("ImageBadges","codec_image_directory",e.target.value),disabled:!e.ImageBadges.enable_image_badges,placeholder:"images/resolution"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"image-padding",children:"Image Padding"}),(0,t.jsx)(m.p,{id:"image-padding",type:"number",min:"0",value:e.ImageBadges.image_padding,onChange:e=>a("ImageBadges","image_padding",parseInt(e.target.value)||20),disabled:!e.ImageBadges.enable_image_badges})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.d,{id:"fallback-to-text",checked:e.ImageBadges.fallback_to_text,onCheckedChange:e=>a("ImageBadges","fallback_to_text",e),disabled:!e.ImageBadges.enable_image_badges}),(0,t.jsx)(h.J,{htmlFor:"fallback-to-text",children:"Fallback to Text"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold",children:"Resolution Image Mappings"}),(0,t.jsxs)(g.E,{variant:"secondary",children:[Object.keys(e.ImageBadges.image_mapping).length," mappings"]})]}),(0,t.jsxs)("div",{className:"max-h-60 overflow-y-auto space-y-2 border rounded-md p-4",children:[Object.entries(e.ImageBadges.image_mapping).map(([s,n])=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.p,{value:s,onChange:e=>l(s,e.target.value),disabled:!e.ImageBadges.enable_image_badges,className:"flex-1",placeholder:"Resolution Name (e.g., 4K, 1080p)"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"→"}),(0,t.jsx)(m.p,{value:n,onChange:t=>a("ImageBadges","image_mapping",{...e.ImageBadges.image_mapping,[s]:t.target.value}),disabled:!e.ImageBadges.enable_image_badges,className:"flex-1",placeholder:"Image Filename (e.g., 4K.png)"}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>r(s),disabled:!e.ImageBadges.enable_image_badges,children:(0,t.jsx)(E.A,{className:"h-4 w-4"})})]},s)),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t",children:[(0,t.jsx)(m.p,{value:d.resolution,onChange:e=>c(a=>({...a,resolution:e.target.value})),disabled:!e.ImageBadges.enable_image_badges,placeholder:"New resolution name",className:"flex-1"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"→"}),(0,t.jsx)(m.p,{value:d.image,onChange:e=>c(a=>({...a,image:e.target.value})),disabled:!e.ImageBadges.enable_image_badges,placeholder:"Image filename",className:"flex-1"}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>{d.resolution&&d.image&&(s(d.resolution,d.image),c({resolution:"",image:""}))},disabled:!e.ImageBadges.enable_image_badges||!d.resolution||!d.image,children:(0,t.jsx)(D.A,{className:"h-4 w-4"})})]})]})]})]})]})}var ei=s(91821),el=s(96882);let ed=(0,v.A)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);function ec({settings:e,updateSetting:a}){let[s,r]=(0,n.useState)({from:"",to:""}),[l,d]=(0,n.useState)(""),[c,x]=(0,n.useState)(""),u=s=>{let t={...e.enhanced_detection.fallback_rules};delete t[s],a("enhanced_detection","fallback_rules",t)},p=s=>{a("enhanced_detection","hdr_detection_patterns",e.enhanced_detection.hdr_detection_patterns.filter(e=>e!==s))},j=s=>{a("enhanced_detection","dv_detection_patterns",e.enhanced_detection.dv_detection_patterns.filter(e=>e!==s))},v=(s,t)=>{let n=[...e.enhanced_detection.priority_order],r="up"===t?s-1:s+1;r>=0&&r<n.length&&([n[s],n[r]]=[n[r],n[s]],a("enhanced_detection","priority_order",n))};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(R.A,{className:"h-5 w-5"}),"Enhanced Detection"]}),(0,t.jsx)(i.BT,{children:"Advanced metadata analysis for automatic HDR, Dolby Vision, and resolution variant detection"})]}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.d,{id:"enable-enhanced-detection",checked:e.enhanced_detection.enabled,onCheckedChange:e=>a("enhanced_detection","enabled",e)}),(0,t.jsx)(h.J,{htmlFor:"enable-enhanced-detection",className:"font-medium",children:"Enable Enhanced Detection"})]}),!e.enhanced_detection.enabled&&(0,t.jsxs)(ei.Fc,{className:"mt-4",children:[(0,t.jsx)(el.A,{className:"h-4 w-4"}),(0,t.jsx)(ei.TN,{children:"Enhanced detection is disabled. The system will use legacy resolution mapping based on your manual image mappings above."})]}),e.enhanced_detection.enabled&&(0,t.jsxs)(ei.Fc,{className:"mt-4",children:[(0,t.jsx)(R.A,{className:"h-4 w-4"}),(0,t.jsx)(ei.TN,{children:"Enhanced detection active! The system will automatically detect HDR, Dolby Vision, and handle resolution variants like 1440p."})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Resolution Fallback Rules"}),(0,t.jsx)(i.BT,{children:"Define fallback mappings for resolutions that don't have dedicated images"})]}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[Object.entries(e.enhanced_detection.fallback_rules).map(([s,n])=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.p,{value:s,readOnly:!0,disabled:!e.enhanced_detection.enabled,className:"flex-1",placeholder:"Source resolution"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"→"}),(0,t.jsx)(m.p,{value:n,onChange:t=>{let n={...e.enhanced_detection.fallback_rules};n[s]=t.target.value,a("enhanced_detection","fallback_rules",n)},disabled:!e.enhanced_detection.enabled,className:"flex-1",placeholder:"Target resolution"}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>u(s),disabled:!e.enhanced_detection.enabled,children:(0,t.jsx)(E.A,{className:"h-4 w-4"})})]},s)),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t",children:[(0,t.jsx)(m.p,{value:s.from,onChange:e=>r(a=>({...a,from:e.target.value})),disabled:!e.enhanced_detection.enabled,placeholder:"Source resolution (e.g., 1440p)",className:"flex-1"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"→"}),(0,t.jsx)(m.p,{value:s.to,onChange:e=>r(a=>({...a,to:e.target.value})),disabled:!e.enhanced_detection.enabled,placeholder:"Target resolution (e.g., 1080p)",className:"flex-1"}),(0,t.jsx)(o.$,{type:"button",variant:"outline",size:"icon",onClick:()=>{s.from&&s.to&&(a("enhanced_detection","fallback_rules",{...e.enhanced_detection.fallback_rules,[s.from]:s.to}),r({from:"",to:""}))},disabled:!e.enhanced_detection.enabled||!s.from||!s.to,children:(0,t.jsx)(D.A,{className:"h-4 w-4"})})]})]})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"HDR Detection Patterns"}),(0,t.jsx)(i.BT,{children:"Metadata patterns used to identify HDR content in video streams"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.enhanced_detection.hdr_detection_patterns.map(a=>(0,t.jsxs)(g.E,{variant:"secondary",className:"flex items-center gap-1",children:[a,(0,t.jsx)(o.$,{type:"button",variant:"ghost",size:"sm",className:"h-auto p-0 ml-1",onClick:()=>p(a),disabled:!e.enhanced_detection.enabled,children:(0,t.jsx)(E.A,{className:"h-3 w-3"})})]},a))}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(m.p,{value:l,onChange:e=>d(e.target.value),disabled:!e.enhanced_detection.enabled,placeholder:"Add HDR pattern (e.g., BT2020)",className:"flex-1"}),(0,t.jsx)(o.$,{type:"button",onClick:()=>{l&&!e.enhanced_detection.hdr_detection_patterns.includes(l)&&(a("enhanced_detection","hdr_detection_patterns",[...e.enhanced_detection.hdr_detection_patterns,l]),d(""))},disabled:!e.enhanced_detection.enabled||!l,children:(0,t.jsx)(D.A,{className:"h-4 w-4"})})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Dolby Vision Detection Patterns"}),(0,t.jsx)(i.BT,{children:"Metadata patterns used to identify Dolby Vision content in video streams"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.enhanced_detection.dv_detection_patterns.map(a=>(0,t.jsxs)(g.E,{variant:"secondary",className:"flex items-center gap-1",children:[a,(0,t.jsx)(o.$,{type:"button",variant:"ghost",size:"sm",className:"h-auto p-0 ml-1",onClick:()=>j(a),disabled:!e.enhanced_detection.enabled,children:(0,t.jsx)(E.A,{className:"h-3 w-3"})})]},a))}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(m.p,{value:c,onChange:e=>x(e.target.value),disabled:!e.enhanced_detection.enabled,placeholder:"Add DV pattern (e.g., DVHE)",className:"flex-1"}),(0,t.jsx)(o.$,{type:"button",onClick:()=>{c&&!e.enhanced_detection.dv_detection_patterns.includes(c)&&(a("enhanced_detection","dv_detection_patterns",[...e.enhanced_detection.dv_detection_patterns,c]),x(""))},disabled:!e.enhanced_detection.enabled||!c,children:(0,t.jsx)(D.A,{className:"h-4 w-4"})})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Image Priority Order"}),(0,t.jsx)(i.BT,{children:"Order of preference when multiple image variants are available (highest priority first)"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"space-y-2",children:e.enhanced_detection.priority_order.map((a,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 border rounded-md",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(o.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>v(s,"up"),disabled:!e.enhanced_detection.enabled||0===s,className:"h-4 p-0",children:"▲"}),(0,t.jsx)(o.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>v(s,"down"),disabled:!e.enhanced_detection.enabled||s===e.enhanced_detection.priority_order.length-1,className:"h-4 p-0",children:"▼"})]}),(0,t.jsx)(ed,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)(g.E,{variant:"outline",className:"flex-1",children:a}),(0,t.jsxs)(g.E,{variant:"secondary",className:"text-xs",children:["Priority ",s+1]})]},a))})})]})]})}var eo=s(67969),em=s(70569),eh=s(98599),eg=s(11273),ex=s(65551),eu=s(43),ep=s(83721),ej=s(18853),ev=s(14163),ef=s(9510),eb=["PageUp","PageDown"],ey=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],e_={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},eN="Slider",[ew,ek,eC]=(0,ef.N)(eN),[eB,eS]=(0,eg.A)(eN,[eC]),[eA,eI]=eB(eN),eT=n.forwardRef((e,a)=>{let{name:s,min:r=0,max:i=100,step:l=1,orientation:d="horizontal",disabled:c=!1,minStepsBetweenThumbs:o=0,defaultValue:m=[r],value:h,onValueChange:g=()=>{},onValueCommit:x=()=>{},inverted:u=!1,form:p,...j}=e,v=n.useRef(new Set),f=n.useRef(0),b="horizontal"===d,[y=[],_]=(0,ex.i)({prop:h,defaultProp:m,onChange:e=>{let a=[...v.current];a[f.current]?.focus(),g(e)}}),N=n.useRef(y);function w(e,a,{commit:s}={commit:!1}){let t=(String(l).split(".")[1]||"").length,n=function(e,a){let s=Math.pow(10,a);return Math.round(e*s)/s}(Math.round((e-r)/l)*l+r,t),d=(0,eo.q)(n,[r,i]);_((e=[])=>{let t=function(e=[],a,s){let t=[...e];return t[s]=a,t.sort((e,a)=>e-a)}(e,d,a);if(!function(e,a){if(a>0)return Math.min(...e.slice(0,-1).map((a,s)=>e[s+1]-a))>=a;return!0}(t,o*l))return e;{f.current=t.indexOf(d);let a=String(t)!==String(e);return a&&s&&x(t),a?t:e}})}return(0,t.jsx)(eA,{scope:e.__scopeSlider,name:s,disabled:c,min:r,max:i,valueIndexToChangeRef:f,thumbs:v.current,values:y,orientation:d,form:p,children:(0,t.jsx)(ew.Provider,{scope:e.__scopeSlider,children:(0,t.jsx)(ew.Slot,{scope:e.__scopeSlider,children:(0,t.jsx)(b?eF:eR,{"aria-disabled":c,"data-disabled":c?"":void 0,...j,ref:a,onPointerDown:(0,em.m)(j.onPointerDown,()=>{c||(N.current=y)}),min:r,max:i,inverted:u,onSlideStart:c?void 0:function(e){let a=function(e,a){if(1===e.length)return 0;let s=e.map(e=>Math.abs(e-a)),t=Math.min(...s);return s.indexOf(t)}(y,e);w(e,a)},onSlideMove:c?void 0:function(e){w(e,f.current)},onSlideEnd:c?void 0:function(){let e=N.current[f.current];y[f.current]!==e&&x(y)},onHomeKeyDown:()=>!c&&w(r,0,{commit:!0}),onEndKeyDown:()=>!c&&w(i,y.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:a})=>{if(!c){let s=eb.includes(e.key)||e.shiftKey&&ey.includes(e.key),t=f.current;w(y[t]+l*(s?10:1)*a,t,{commit:!0})}}})})})})});eT.displayName=eN;var[eE,eD]=eB(eN,{startEdge:"left",endEdge:"right",size:"width",direction:1}),eF=n.forwardRef((e,a)=>{let{min:s,max:r,dir:i,inverted:l,onSlideStart:d,onSlideMove:c,onSlideEnd:o,onStepKeyDown:m,...h}=e,[g,x]=n.useState(null),u=(0,eh.s)(a,e=>x(e)),p=n.useRef(void 0),j=(0,eu.jH)(i),v="ltr"===j,f=v&&!l||!v&&l;function b(e){let a=p.current||g.getBoundingClientRect(),t=eW([0,a.width],f?[s,r]:[r,s]);return p.current=a,t(e-a.left)}return(0,t.jsx)(eE,{scope:e.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:(0,t.jsx)(eP,{dir:j,"data-orientation":"horizontal",...h,ref:u,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let a=b(e.clientX);d?.(a)},onSlideMove:e=>{let a=b(e.clientX);c?.(a)},onSlideEnd:()=>{p.current=void 0,o?.()},onStepKeyDown:e=>{let a=e_[f?"from-left":"from-right"].includes(e.key);m?.({event:e,direction:a?-1:1})}})})}),eR=n.forwardRef((e,a)=>{let{min:s,max:r,inverted:i,onSlideStart:l,onSlideMove:d,onSlideEnd:c,onStepKeyDown:o,...m}=e,h=n.useRef(null),g=(0,eh.s)(a,h),x=n.useRef(void 0),u=!i;function p(e){let a=x.current||h.current.getBoundingClientRect(),t=eW([0,a.height],u?[r,s]:[s,r]);return x.current=a,t(e-a.top)}return(0,t.jsx)(eE,{scope:e.__scopeSlider,startEdge:u?"bottom":"top",endEdge:u?"top":"bottom",size:"height",direction:u?1:-1,children:(0,t.jsx)(eP,{"data-orientation":"vertical",...m,ref:g,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let a=p(e.clientY);l?.(a)},onSlideMove:e=>{let a=p(e.clientY);d?.(a)},onSlideEnd:()=>{x.current=void 0,c?.()},onStepKeyDown:e=>{let a=e_[u?"from-bottom":"from-top"].includes(e.key);o?.({event:e,direction:a?-1:1})}})})}),eP=n.forwardRef((e,a)=>{let{__scopeSlider:s,onSlideStart:n,onSlideMove:r,onSlideEnd:i,onHomeKeyDown:l,onEndKeyDown:d,onStepKeyDown:c,...o}=e,m=eI(eN,s);return(0,t.jsx)(ev.sG.span,{...o,ref:a,onKeyDown:(0,em.m)(e.onKeyDown,e=>{"Home"===e.key?(l(e),e.preventDefault()):"End"===e.key?(d(e),e.preventDefault()):eb.concat(ey).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:(0,em.m)(e.onPointerDown,e=>{let a=e.target;a.setPointerCapture(e.pointerId),e.preventDefault(),m.thumbs.has(a)?a.focus():n(e)}),onPointerMove:(0,em.m)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&r(e)}),onPointerUp:(0,em.m)(e.onPointerUp,e=>{let a=e.target;a.hasPointerCapture(e.pointerId)&&(a.releasePointerCapture(e.pointerId),i(e))})})}),ez="SliderTrack",eM=n.forwardRef((e,a)=>{let{__scopeSlider:s,...n}=e,r=eI(ez,s);return(0,t.jsx)(ev.sG.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...n,ref:a})});eM.displayName=ez;var eJ="SliderRange",eZ=n.forwardRef((e,a)=>{let{__scopeSlider:s,...r}=e,i=eI(eJ,s),l=eD(eJ,s),d=n.useRef(null),c=(0,eh.s)(a,d),o=i.values.length,m=i.values.map(e=>eV(e,i.min,i.max)),h=o>1?Math.min(...m):0,g=100-Math.max(...m);return(0,t.jsx)(ev.sG.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:c,style:{...e.style,[l.startEdge]:h+"%",[l.endEdge]:g+"%"}})});eZ.displayName=eJ;var eG="SliderThumb",e$=n.forwardRef((e,a)=>{let s=ek(e.__scopeSlider),[r,i]=n.useState(null),l=(0,eh.s)(a,e=>i(e)),d=n.useMemo(()=>r?s().findIndex(e=>e.ref.current===r):-1,[s,r]);return(0,t.jsx)(eL,{...e,ref:l,index:d})}),eL=n.forwardRef((e,a)=>{let{__scopeSlider:s,index:r,name:i,...l}=e,d=eI(eG,s),c=eD(eG,s),[o,m]=n.useState(null),h=(0,eh.s)(a,e=>m(e)),g=!o||d.form||!!o.closest("form"),x=(0,ej.X)(o),u=d.values[r],p=void 0===u?0:eV(u,d.min,d.max),j=function(e,a){return a>2?`Value ${e+1} of ${a}`:2===a?["Minimum","Maximum"][e]:void 0}(r,d.values.length),v=x?.[c.size],f=v?function(e,a,s){let t=e/2,n=eW([0,50],[0,t]);return(t-n(a)*s)*s}(v,p,c.direction):0;return n.useEffect(()=>{if(o)return d.thumbs.add(o),()=>{d.thumbs.delete(o)}},[o,d.thumbs]),(0,t.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${p}% + ${f}px)`},children:[(0,t.jsx)(ew.ItemSlot,{scope:e.__scopeSlider,children:(0,t.jsx)(ev.sG.span,{role:"slider","aria-label":e["aria-label"]||j,"aria-valuemin":d.min,"aria-valuenow":u,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...l,ref:h,style:void 0===u?{display:"none"}:e.style,onFocus:(0,em.m)(e.onFocus,()=>{d.valueIndexToChangeRef.current=r})})}),g&&(0,t.jsx)(eO,{name:i??(d.name?d.name+(d.values.length>1?"[]":""):void 0),form:d.form,value:u},r)]})});e$.displayName=eG;var eO=n.forwardRef(({__scopeSlider:e,value:a,...s},r)=>{let i=n.useRef(null),l=(0,eh.s)(i,r),d=(0,ep.Z)(a);return n.useEffect(()=>{let e=i.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(d!==a&&s){let t=new Event("input",{bubbles:!0});s.call(e,a),e.dispatchEvent(t)}},[d,a]),(0,t.jsx)(ev.sG.input,{style:{display:"none"},...s,ref:l,defaultValue:a})});function eV(e,a,s){return(0,eo.q)(100/(s-a)*(e-a),[0,100])}function eW(e,a){return s=>{if(e[0]===e[1]||a[0]===a[1])return a[0];let t=(a[1]-a[0])/(e[1]-e[0]);return a[0]+t*(s-e[0])}}eO.displayName="RadioBubbleInput";var eH=s(4780);function eX({className:e,defaultValue:a,value:s,min:r=0,max:i=100,...l}){let d=n.useMemo(()=>Array.isArray(s)?s:Array.isArray(a)?a:[r,i],[s,a,r,i]);return(0,t.jsxs)(eT,{"data-slot":"slider",defaultValue:a,value:s,min:r,max:i,className:(0,eH.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...l,children:[(0,t.jsx)(eM,{"data-slot":"slider-track",className:(0,eH.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,t.jsx)(eZ,{"data-slot":"slider-range",className:(0,eH.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:d.length},(e,a)=>(0,t.jsx)(e$,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},a))]})}function eU({settings:e,updateSetting:a}){let s,n=(s=255,e.performance.enable_parallel_processing&&(s*=.3),e.performance.enable_caching&&(s*=.02),Math.round(s));return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(M.A,{className:"h-5 w-5"}),"Performance Overview"]}),(0,t.jsx)(i.BT,{children:"Optimize processing speed for large media libraries"})]}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"font-medium",children:"Estimated TV Series Processing Time:"})]}),(0,t.jsxs)(g.E,{variant:n<20?"default":n<100?"secondary":n<200?"outline":"destructive",className:"text-lg px-3 py-1",children:[n,"ms"]})]}),(0,t.jsxs)(ei.Fc,{className:"mt-4",children:[(0,t.jsx)(R.A,{className:"h-4 w-4"}),(0,t.jsxs)(ei.TN,{children:[(0,t.jsx)("strong",{children:"Performance Impact:"})," Movie processing time remains ~55ms. TV series processing varies based on your settings above."]})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(R.A,{className:"h-5 w-5"}),"Parallel Episode Processing"]}),(0,t.jsx)(i.BT,{children:"Process TV series episodes concurrently for faster detection"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.d,{id:"enable-parallel-processing",checked:e.performance.enable_parallel_processing,onCheckedChange:e=>a("performance","enable_parallel_processing",e)}),(0,t.jsx)(h.J,{htmlFor:"enable-parallel-processing",className:"font-medium",children:"Enable Parallel Processing"})]}),e.performance.enable_parallel_processing?(0,t.jsxs)(ei.Fc,{children:[(0,t.jsx)(R.A,{className:"h-4 w-4"}),(0,t.jsxs)(ei.TN,{children:[(0,t.jsx)("strong",{children:"Enabled:"})," TV series episodes will be processed concurrently, reducing processing time by ~70%."]})]}):(0,t.jsx)(ei.Fc,{children:(0,t.jsxs)(ei.TN,{children:[(0,t.jsx)("strong",{children:"Disabled:"})," Episodes will be processed sequentially. This is more resource-friendly but slower."]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(h.J,{htmlFor:"episodes-sample",children:"Episodes to Sample"}),(0,t.jsxs)(g.E,{variant:"outline",children:[e.performance.max_episodes_to_sample," episodes"]})]}),(0,t.jsx)(eX,{id:"episodes-sample",min:1,max:20,step:1,value:[e.performance.max_episodes_to_sample],onValueChange:e=>a("performance","max_episodes_to_sample",e[0]),disabled:!e.performance.enable_parallel_processing,className:"w-full"}),(0,t.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,t.jsx)("span",{children:"1 episode (fastest)"}),(0,t.jsx)("span",{children:"20 episodes (most accurate)"})]})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(J.A,{className:"h-5 w-5"}),"Resolution Caching"]}),(0,t.jsx)(i.BT,{children:"Cache TV series resolution results to avoid re-processing"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.d,{id:"enable-caching",checked:e.performance.enable_caching,onCheckedChange:e=>a("performance","enable_caching",e)}),(0,t.jsx)(h.J,{htmlFor:"enable-caching",className:"font-medium",children:"Enable Resolution Caching"})]}),e.performance.enable_caching?(0,t.jsxs)(ei.Fc,{children:[(0,t.jsx)(J.A,{className:"h-4 w-4"}),(0,t.jsxs)(ei.TN,{children:[(0,t.jsx)("strong",{children:"Enabled:"})," Series resolution results will be cached, reducing repeated processing to ~5ms."]})]}):(0,t.jsx)(ei.Fc,{children:(0,t.jsxs)(ei.TN,{children:[(0,t.jsx)("strong",{children:"Disabled:"})," Series will be re-processed every time. Use if you frequently change video files."]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(h.J,{htmlFor:"cache-ttl",children:"Cache Duration"}),(0,t.jsxs)(g.E,{variant:"outline",children:[e.performance.cache_ttl_hours," hours"]})]}),(0,t.jsx)(eX,{id:"cache-ttl",min:1,max:168,step:1,value:[e.performance.cache_ttl_hours],onValueChange:e=>a("performance","cache_ttl_hours",e[0]),disabled:!e.performance.enable_caching,className:"w-full"}),(0,t.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,t.jsx)("span",{children:"1 hour (frequent updates)"}),(0,t.jsx)("span",{children:"1 week (stable library)"})]})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Performance Tips"}),(0,t.jsx)(i.BT,{children:"Recommendations for optimizing resolution detection speed"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(g.E,{variant:"outline",className:"mt-0.5",children:"Tip 1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Enable both parallel processing and caching"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"This combination provides the best performance improvement for large TV libraries."})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(g.E,{variant:"outline",className:"mt-0.5",children:"Tip 2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Sample 3-5 episodes for most series"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"This provides good accuracy while maintaining speed. Only increase for very inconsistent series."})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(g.E,{variant:"outline",className:"mt-0.5",children:"Tip 3"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Use longer cache duration for stable libraries"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"If you rarely change video files, set cache duration to 24+ hours for maximum speed."})]})]})]})})]})]})}var eq=s(53411),eY=s(99270),eK=s(9005),eQ=s(43649);function e0({data:e}){let a=e.missing_combinations.length,s=Object.keys(e.coverage_by_resolution).length,n=Math.round((e.total_images-a)/e.total_images*100);return(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(eK.A,{className:"h-4 w-4"}),"Image Coverage Analysis",(0,t.jsxs)(g.E,{variant:n>80?"default":"destructive",children:[n,"% coverage"]})]})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.total_images}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Images"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:s}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Resolutions"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.total_images-a}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Available"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:a}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Missing"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Coverage by Resolution"}),Object.entries(e.coverage_by_resolution).map(([e,a])=>(0,t.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"font-medium",children:e}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[a.has_base?(0,t.jsx)(c.A,{className:"h-4 w-4 text-green-600"}):(0,t.jsx)(x.A,{className:"h-4 w-4 text-red-600"}),(0,t.jsxs)(g.E,{variant:"outline",children:[a.available_variants.length," variants"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-green-700",children:"Available:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:a.available_variants.map(e=>(0,t.jsx)(g.E,{variant:"secondary",className:"text-xs",children:e},e))})]}),a.missing_variants.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-red-700",children:"Missing:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:a.missing_variants.map(e=>(0,t.jsx)(g.E,{variant:"destructive",className:"text-xs",children:e},e))})]})]})]},e))]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Fallback Rules Status"}),Object.entries(e.fallback_coverage).map(([e,a])=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,t.jsxs)("span",{className:"text-sm",children:[e," → ",a.target]}),a.target_available?(0,t.jsxs)(g.E,{variant:"default",className:"text-xs",children:[(0,t.jsx)(c.A,{className:"h-3 w-3 mr-1"}),"Available"]}):(0,t.jsxs)(g.E,{variant:"destructive",className:"text-xs",children:[(0,t.jsx)(x.A,{className:"h-3 w-3 mr-1"}),"Missing"]})]},e))]}),e.standalone_images.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Standalone Images"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.standalone_images.map(e=>(0,t.jsx)(g.E,{variant:"outline",className:"text-xs",children:e},e))})]}),a>0&&(0,t.jsxs)(ei.Fc,{children:[(0,t.jsx)(eQ.A,{className:"h-4 w-4"}),(0,t.jsxs)(ei.TN,{children:[(0,t.jsxs)("strong",{children:["Missing ",a," images."]})," Consider adding these images to improve coverage, or adjust your fallback rules to handle missing variants."]})]})]})]})}var e1=s(25541);function e2({data:e}){var a;return(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(J.A,{className:"h-4 w-4"}),"Cache Performance Statistics",(0,t.jsxs)(g.E,{variant:(a=e.hit_rate_percent)>=90?"default":a>=70?"secondary":a>=50?"outline":"destructive",children:[e.hit_rate_percent,"% hit rate"]})]})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Cache Hit Rate"}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.hit_rate_percent,"%"]})]}),(0,t.jsx)(V.k,{value:e.hit_rate_percent,className:"w-full"}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Higher hit rates indicate better performance"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-3 border rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.total_hits}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Cache Hits"})]}),(0,t.jsxs)("div",{className:"text-center p-3 border rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.total_misses}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Cache Misses"})]}),(0,t.jsxs)("div",{className:"text-center p-3 border rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.cache_size}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Cached Items"})]}),(0,t.jsxs)("div",{className:"text-center p-3 border rounded-lg",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[e.ttl_hours,"h"]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"TTL Duration"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h4",{className:"font-medium flex items-center gap-2",children:[(0,t.jsx)(e1.A,{className:"h-4 w-4"}),"Performance Insights"]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,t.jsx)("span",{className:"text-sm",children:"Total Requests"}),(0,t.jsx)(g.E,{variant:"outline",children:e.total_hits+e.total_misses})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,t.jsx)("span",{className:"text-sm",children:"Time Saved (estimated)"}),(0,t.jsxs)(g.E,{variant:"secondary",children:[Math.round(250*e.total_hits/1e3),"s"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,t.jsxs)("span",{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(Z.A,{className:"h-3 w-3"}),"Last Cleanup"]}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.last_cleanup).toLocaleString()})]})]})]}),e.hit_rate_percent<70&&(0,t.jsxs)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,t.jsx)("div",{className:"font-medium text-yellow-800",children:"Low Hit Rate Detected"}),(0,t.jsx)("div",{className:"text-sm text-yellow-700 mt-1",children:"Consider increasing cache TTL or checking if your media library changes frequently."})]}),e.hit_rate_percent>=90&&(0,t.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,t.jsx)("div",{className:"font-medium text-green-800",children:"Excellent Cache Performance"}),(0,t.jsx)("div",{className:"text-sm text-green-700 mt-1",children:"Your cache is working optimally and saving significant processing time."})]})]})]})}function e4({data:e}){var a;let s=(a=e.processing_time_ms)<30?{variant:"default",label:"Excellent"}:a<60?{variant:"secondary",label:"Good"}:a<100?{variant:"outline",label:"Fair"}:{variant:"destructive",label:"Slow"};return(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(L,{className:"h-4 w-4"}),"Enhanced Detection Test Results",e.test_passed?(0,t.jsxs)(g.E,{variant:"default",className:"flex items-center gap-1",children:[(0,t.jsx)(c.A,{className:"h-3 w-3"}),"Passed"]}):(0,t.jsxs)(g.E,{variant:"destructive",className:"flex items-center gap-1",children:[(0,t.jsx)(x.A,{className:"h-3 w-3"}),"Failed"]})]})}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Detected Resolution"}),(0,t.jsx)(g.E,{variant:"outline",children:e.detected_resolution})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("span",{className:"text-sm font-medium flex items-center gap-2",children:[(0,t.jsx)(eK.A,{className:"h-3 w-3"}),"Used Image"]}),(0,t.jsx)(g.E,{variant:"secondary",children:e.used_image})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("span",{className:"text-sm font-medium flex items-center gap-2",children:[(0,t.jsx)(R.A,{className:"h-3 w-3"}),"Detection Method"]}),(0,t.jsx)(g.E,{variant:"Enhanced"===e.detection_method?"default":"outline",children:e.detection_method})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("span",{className:"text-sm font-medium flex items-center gap-2",children:[(0,t.jsx)(Z.A,{className:"h-3 w-3"}),"Processing Time"]}),(0,t.jsxs)(g.E,{variant:s.variant,children:[e.processing_time_ms,"ms (",s.label,")"]})]})]})]}),e.test_passed?(0,t.jsxs)(ei.Fc,{children:[(0,t.jsx)(c.A,{className:"h-4 w-4"}),(0,t.jsxs)(ei.TN,{children:[(0,t.jsx)("strong",{children:"Test Successful!"})," The resolution detection system is working correctly.","Enhanced"===e.detection_method?" Enhanced detection is active and properly identifying resolution variants.":" Legacy detection is active - consider enabling enhanced detection for better HDR/DV support."]})]}):(0,t.jsxs)(ei.Fc,{variant:"destructive",children:[(0,t.jsx)(x.A,{className:"h-4 w-4"}),(0,t.jsxs)(ei.TN,{children:[(0,t.jsx)("strong",{children:"Test Failed!"})," There may be an issue with the resolution detection system. Check your image directory and mappings, or try clearing the cache."]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Performance Analysis"}),(0,t.jsxs)("div",{className:"p-3 bg-muted rounded-lg space-y-2",children:[e.processing_time_ms<60&&(0,t.jsxs)("div",{className:"text-sm text-green-700",children:["✓ Processing time is excellent (",e.processing_time_ms,"ms)"]}),"Enhanced"===e.detection_method&&(0,t.jsx)("div",{className:"text-sm text-blue-700",children:"✓ Enhanced detection active - HDR and Dolby Vision support enabled"}),e.used_image.includes("hdr")&&(0,t.jsx)("div",{className:"text-sm text-purple-700",children:"✓ HDR variant image selected correctly"}),e.used_image.includes("dv")&&(0,t.jsx)("div",{className:"text-sm text-purple-700",children:"✓ Dolby Vision variant image selected correctly"}),e.processing_time_ms>100&&(0,t.jsx)("div",{className:"text-sm text-yellow-700",children:"⚠ Processing time is slower than expected - consider enabling caching"})]})]}),"Legacy"===e.detection_method&&(0,t.jsx)(ei.Fc,{children:(0,t.jsxs)(ei.TN,{children:[(0,t.jsx)("strong",{children:"Recommendation:"})," Enable Enhanced Detection in the Enhanced Detection tab for better HDR, Dolby Vision, and 1440p resolution support."]})})]})]})}function e5({settings:e,runImageCoverageAnalysis:a,getCacheStats:s,clearResolutionCache:r,testEnhancedDetection:l}){let[d,c]=(0,n.useState)({}),[m,h]=(0,n.useState)(null),g=async()=>{h("coverage");try{let e=await a();c(a=>({...a,imageCoverage:e}))}catch(e){console.error("Coverage analysis failed:",e)}finally{h(null)}},x=async()=>{h("cache");try{await r(),c(e=>({...e,cacheStats:void 0}))}catch(e){console.error("Cache clear failed:",e)}finally{h(null)}},u=async()=>{h("cacheStats");try{let e=await s();c(a=>({...a,cacheStats:e}))}catch(e){console.error("Cache stats failed:",e)}finally{h(null)}},p=async()=>{h("test");try{let e=await l();c(a=>({...a,testResults:e}))}catch(e){console.error("Detection test failed:",e)}finally{h(null)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(eq.A,{className:"h-5 w-5"}),"Diagnostic Tools"]}),(0,t.jsx)(i.BT,{children:"Analyze and troubleshoot resolution detection performance"})]}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(o.$,{onClick:g,disabled:"coverage"===m,className:"flex items-center gap-2",children:[(0,t.jsx)(eY.A,{className:"h-4 w-4"}),"coverage"===m?"Analyzing...":"Analyze Image Coverage"]}),(0,t.jsxs)(o.$,{onClick:u,disabled:"cacheStats"===m||!e.performance.enable_caching,className:"flex items-center gap-2",variant:"outline",children:[(0,t.jsx)(J.A,{className:"h-4 w-4"}),"cacheStats"===m?"Loading...":"Get Cache Stats"]}),(0,t.jsxs)(o.$,{onClick:x,disabled:"cache"===m||!e.performance.enable_caching,className:"flex items-center gap-2",variant:"outline",children:[(0,t.jsx)(J.A,{className:"h-4 w-4"}),"cache"===m?"Clearing...":"Clear Resolution Cache"]}),(0,t.jsxs)(o.$,{onClick:p,disabled:"test"===m,className:"flex items-center gap-2",variant:"outline",children:[(0,t.jsx)(L,{className:"h-4 w-4"}),"test"===m?"Testing...":"Test Enhanced Detection"]})]}),!e.performance.enable_caching&&(0,t.jsx)(ei.Fc,{className:"mt-4",children:(0,t.jsx)(ei.TN,{children:"Cache-related diagnostics are disabled because caching is turned off in Performance settings."})})]})]}),d.imageCoverage&&(0,t.jsx)(e0,{data:d.imageCoverage}),d.cacheStats&&(0,t.jsx)(e2,{data:d.cacheStats}),d.testResults&&(0,t.jsx)(e4,{data:d.testResults})]})}let e6={General:{general_badge_size:100,general_edge_padding:30,general_badge_position:"top-right",general_text_padding:12,use_dynamic_sizing:!0},Text:{font:"AvenirNextLTProBold.otf",fallback_font:"DejaVuSans.ttf","text-color":"#FFFFFF","text-size":90},Background:{"background-color":"#000000",background_opacity:40},Border:{"border-color":"#000000","border-radius":10,border_width:1},Shadow:{shadow_enable:!1,shadow_blur:8,shadow_offset_x:2,shadow_offset_y:2},ImageBadges:{enable_image_badges:!0,codec_image_directory:"images/resolution",fallback_to_text:!0,image_padding:20,image_mapping:{"4K":"4K.png","1080p":"1080p.png","720p":"720p.png","480p":"480p.png",SD:"SD.png"}},enhanced_detection:{enabled:!1,fallback_rules:{"1440p":"1080p","8k":"4k","2160p":"4k"},hdr_detection_patterns:["HDR","HDR10","BT2020","PQ","ST2084","HLG"],dv_detection_patterns:["DV","DOLBY VISION","DVHE","DVH1"],priority_order:["dvhdrplus","dvhdr","dvplus","hdrplus","dv","hdr","plus","base"]},performance:{enable_parallel_processing:!0,enable_caching:!0,cache_ttl_hours:24,max_episodes_to_sample:5}};var e3=s(64398);function e8({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"General Settings"}),(0,t.jsx)(i.BT,{children:"Configure basic badge positioning and sizing for review badges"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"badge-size",children:"Badge Size"}),(0,t.jsx)(m.p,{id:"badge-size",type:"number",min:"10",value:e.General.general_badge_size,onChange:e=>a("General","general_badge_size",parseInt(e.target.value)||100),placeholder:"100"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"edge-padding",children:"Edge Padding"}),(0,t.jsx)(m.p,{id:"edge-padding",type:"number",min:"0",value:e.General.general_edge_padding,onChange:e=>a("General","general_edge_padding",parseInt(e.target.value)||30),placeholder:"30"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"badge-position",children:"Badge Position"}),(0,t.jsxs)(y.l6,{value:e.General.general_badge_position,onValueChange:e=>a("General","general_badge_position",e),children:[(0,t.jsx)(y.bq,{children:(0,t.jsx)(y.yv,{})}),(0,t.jsxs)(y.gC,{children:[(0,t.jsx)(y.eb,{value:"top-left",children:"Top Left"}),(0,t.jsx)(y.eb,{value:"top-right",children:"Top Right"}),(0,t.jsx)(y.eb,{value:"bottom-left",children:"Bottom Left"}),(0,t.jsx)(y.eb,{value:"bottom-right",children:"Bottom Right"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"text-padding",children:"Text Padding"}),(0,t.jsx)(m.p,{id:"text-padding",type:"number",min:"0",value:e.General.general_text_padding,onChange:e=>a("General","general_text_padding",parseInt(e.target.value)||20),placeholder:"20"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"badge-orientation",children:"Badge Orientation"}),(0,t.jsxs)(y.l6,{value:e.General.badge_orientation,onValueChange:e=>a("General","badge_orientation",e),children:[(0,t.jsx)(y.bq,{children:(0,t.jsx)(y.yv,{})}),(0,t.jsxs)(y.gC,{children:[(0,t.jsx)(y.eb,{value:"horizontal",children:"Horizontal"}),(0,t.jsx)(y.eb,{value:"vertical",children:"Vertical"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"badge-spacing",children:"Badge Spacing"}),(0,t.jsx)(m.p,{id:"badge-spacing",type:"number",min:"0",value:e.General.badge_spacing,onChange:e=>a("General","badge_spacing",parseInt(e.target.value)||15),placeholder:"15"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"max-badges",children:"Max Badges to Display"}),(0,t.jsx)(m.p,{id:"max-badges",type:"number",min:"1",value:e.General.max_badges_to_display,onChange:e=>a("General","max_badges_to_display",parseInt(e.target.value)||4),placeholder:"4"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.d,{id:"dynamic-sizing",checked:e.General.use_dynamic_sizing,onCheckedChange:e=>a("General","use_dynamic_sizing",e)}),(0,t.jsx)(h.J,{htmlFor:"dynamic-sizing",children:"Use Dynamic Sizing"})]})]})]})}let e9=(0,v.A)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),e7=(0,v.A)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);function ae({settings:e,reviewSources:a,reviewSourceSettings:s,updateSetting:r,updateReviewSource:l,updateReviewSourceSettings:d,reorderSources:x}){let[u,p]=(0,n.useState)(null),[j,v]=(0,n.useState)(null),f=e=>{if(!e)return"";try{return JSON.parse(e).content_type||"conditional"}catch(e){return"conditional"}},_=(e,a)=>{p(a),e.dataTransfer.effectAllowed="move",console.log("\uD83D\uDCCB Drag started for index:",a)},N=(e,a)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",null!==u&&u!==a&&v(a)},w=()=>{v(null)},k=(e,s)=>{if(e.preventDefault(),null===u||u===s){p(null),v(null);return}console.log("\uD83D\uDCCB Dropping item from index",u,"to index",s);let t=[...a].sort((e,a)=>e.priority-a.priority),n=t[u],r=[...t];r.splice(u,1),r.splice(s,0,n);let i=r.map((e,a)=>({...e,priority:a+1,display_order:a+1}));console.log("\uD83D\uDCCB New order after drop:",i.map(e=>({name:e.source_name,priority:e.priority}))),x(i),p(null),v(null)},C=()=>{p(null),v(null)},B=e=>{if(e>0){let s=[...a];[s[e],s[e-1]]=[s[e-1],s[e]],s.forEach((e,a)=>{e.priority=a+1,e.display_order=a+1}),x(s)}},S=e=>{if(e<a.length-1){let s=[...a];[s[e],s[e+1]]=[s[e+1],s[e]],s.forEach((e,a)=>{e.priority=a+1,e.display_order=a+1}),x(s)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(el.A,{className:"h-5 w-5 text-blue-500"}),"Review Source Availability"]})}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)("p",{className:"mb-2 text-sm",children:"Not all review sources are currently functional. Here are the sources that are currently working:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[(0,t.jsx)(g.E,{variant:"default",className:"bg-green-500",children:"IMDb"}),(0,t.jsx)(g.E,{variant:"default",className:"bg-green-500",children:"Metacritic"}),(0,t.jsx)(g.E,{variant:"default",className:"bg-green-500",children:"MyAnimeList"}),(0,t.jsx)(g.E,{variant:"default",className:"bg-green-500",children:"Rotten Tomatoes Critics"}),(0,t.jsx)(g.E,{variant:"default",className:"bg-green-500",children:"TMDb"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Other sources are included for future functionality and testing purposes. I will get to them, I promise!"})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(c.A,{className:"h-5 w-5"}),"Review Sources Control"]}),(0,t.jsx)(i.BT,{children:"Configure which review sources to display and their priority order"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"max-badges-display",children:"Max Badges to Display"}),(0,t.jsx)(m.p,{id:"max-badges-display",type:"number",min:"1",max:"10",value:s.max_badges_display,onChange:e=>d("max_badges_display",parseInt(e.target.value)||4)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"selection-mode",children:"Selection Mode"}),(0,t.jsxs)(y.l6,{value:s.source_selection_mode,onValueChange:e=>d("source_selection_mode",e),children:[(0,t.jsx)(y.bq,{children:(0,t.jsx)(y.yv,{})}),(0,t.jsxs)(y.gC,{children:[(0,t.jsx)(y.eb,{value:"priority",children:"Priority Order"}),(0,t.jsx)(y.eb,{value:"enabled_only",children:"Enabled Only"}),(0,t.jsx)(y.eb,{value:"custom",children:"Custom Logic"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 pt-6",children:[(0,t.jsx)(b.d,{id:"show-percentage-only",checked:s.show_percentage_only,onCheckedChange:e=>d("show_percentage_only",e)}),(0,t.jsx)(h.J,{htmlFor:"show-percentage-only",children:"Convert all to percentage format"})]})]}),(0,t.jsxs)("div",{className:"bg-muted/30 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-lg font-semibold mb-3 flex items-center",children:[(0,t.jsx)(ed,{className:"w-4 h-4 mr-2 text-muted-foreground"}),"Review Sources (Drag to reorder)"]}),(0,t.jsx)("div",{className:"space-y-2",children:a.sort((e,a)=>e.priority-a.priority).map((e,s)=>{let n=u===s,r=j===s;return(0,t.jsx)(i.Zp,{className:`shadow-sm hover:shadow-md transition-shadow cursor-move ${!e.enabled?"opacity-50":""} ${n?"opacity-30 transform rotate-2":""} ${r?"border-blue-500 border-2 bg-blue-50":""}`,draggable:!0,onDragStart:e=>_(e,s),onDragOver:e=>N(e,s),onDragLeave:w,onDrop:e=>k(e,s),onDragEnd:C,children:(0,t.jsx)(i.Wu,{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(ed,{className:"w-5 h-5 text-muted-foreground cursor-move"}),(0,t.jsx)(g.E,{variant:"default",className:"w-8 text-center",children:e.priority}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"font-medium",children:e.source_name}),e.conditions&&(0,t.jsx)(g.E,{variant:"secondary",className:"text-xs",children:f(e.conditions)})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Max variants: ",e.max_variants," •",(0,t.jsx)("span",{className:e.enabled?"text-green-600":"text-red-600",children:e.enabled?"Enabled":"Disabled"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(h.J,{className:"text-xs",children:"Max:"}),(0,t.jsxs)(y.l6,{value:e.max_variants.toString(),onValueChange:a=>{l({...e,max_variants:parseInt(a)})},children:[(0,t.jsx)(y.bq,{className:"w-16",children:(0,t.jsx)(y.yv,{})}),(0,t.jsxs)(y.gC,{children:[(0,t.jsx)(y.eb,{value:"1",children:"1"}),(0,t.jsx)(y.eb,{value:"2",children:"2"}),(0,t.jsx)(y.eb,{value:"3",children:"3"}),(0,t.jsx)(y.eb,{value:"4",children:"4"}),(0,t.jsx)(y.eb,{value:"5",children:"5"})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,t.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>B(s),disabled:0===s,className:"h-6 w-8 p-0",children:(0,t.jsx)(e9,{className:"h-3 w-3"})}),(0,t.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>S(s),disabled:s===a.length-1,className:"h-6 w-8 p-0",children:(0,t.jsx)(e7,{className:"h-3 w-3"})})]}),(0,t.jsx)(b.d,{checked:e.enabled,onCheckedChange:a=>{l({...e,enabled:a})}})]})]})})},e.id)})})]})]})]})]})}function aa({settings:e,updateSetting:a,availableFonts:s=[]}){let n=["AvenirNextLTProBold.otf","DejaVuSans.ttf","Arial","Helvetica","Times New Roman","Courier New",...s].filter((e,a,s)=>s.indexOf(e)===a);return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(N,{className:"h-5 w-5"}),"Text Settings"]}),(0,t.jsx)(i.BT,{children:"Configure font, size, and text appearance for review badges"})]}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"font",children:"Primary Font"}),(0,t.jsxs)(y.l6,{value:e.Text.font,onValueChange:e=>a("Text","font",e),children:[(0,t.jsx)(y.bq,{children:(0,t.jsx)(y.yv,{placeholder:"Select a font..."})}),(0,t.jsx)(y.gC,{children:n.map(e=>(0,t.jsx)(y.eb,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"fallback-font",children:"Fallback Font"}),(0,t.jsxs)(y.l6,{value:e.Text.fallback_font,onValueChange:e=>a("Text","fallback_font",e),children:[(0,t.jsx)(y.bq,{children:(0,t.jsx)(y.yv,{placeholder:"Select a font..."})}),(0,t.jsx)(y.gC,{children:n.map(e=>(0,t.jsx)(y.eb,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"text-color",children:"Text Color"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"color",value:e.Text["text-color"],onChange:e=>a("Text","text-color",e.target.value),className:"w-12 h-10 border rounded cursor-pointer"}),(0,t.jsx)(m.p,{type:"text",value:e.Text["text-color"],onChange:e=>a("Text","text-color",e.target.value),className:"flex-1",placeholder:"#FFFFFF"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"text-size",children:"Text Size"}),(0,t.jsx)(m.p,{id:"text-size",type:"number",min:"10",value:e.Text["text-size"],onChange:e=>a("Text","text-size",parseInt(e.target.value)||60),placeholder:"60"})]})]})})]})}var as=s(23385);function at({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(as.A,{className:"h-5 w-5"}),"Background Settings"]}),(0,t.jsx)(i.BT,{children:"Configure background color and opacity for review badges"})]}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"background-color",children:"Background Color"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"color",value:e.Background["background-color"],onChange:e=>a("Background","background-color",e.target.value),className:"w-12 h-10 border rounded cursor-pointer"}),(0,t.jsx)(m.p,{type:"text",value:e.Background["background-color"],onChange:e=>a("Background","background-color",e.target.value),className:"flex-1",placeholder:"#2C2C2C"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"background-opacity",children:"Background Opacity (%)"}),(0,t.jsx)(m.p,{id:"background-opacity",type:"number",min:"0",max:"100",value:e.Background.background_opacity,onChange:e=>a("Background","background_opacity",""===e.target.value?60:parseInt(e.target.value)),placeholder:"60"})]})]})})]})}function an({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(as.A,{className:"h-5 w-5"}),"Border Settings"]}),(0,t.jsx)(i.BT,{children:"Configure border appearance for review badges"})]}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"border-color",children:"Border Color"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"color",value:e.Border["border-color"],onChange:e=>a("Border","border-color",e.target.value),className:"w-12 h-10 border rounded cursor-pointer"}),(0,t.jsx)(m.p,{type:"text",value:e.Border["border-color"],onChange:e=>a("Border","border-color",e.target.value),className:"flex-1",placeholder:"#2C2C2C"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"border-width",children:"Border Width"}),(0,t.jsx)(m.p,{id:"border-width",type:"number",min:"0",value:e.Border.border_width,onChange:e=>a("Border","border_width",parseInt(e.target.value)||1),placeholder:"1"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"border-radius",children:"Border Radius"}),(0,t.jsx)(m.p,{id:"border-radius",type:"number",min:"0",value:e.Border.border_radius,onChange:e=>a("Border","border_radius",parseInt(e.target.value)||10),placeholder:"10"})]})]})})]})}let ar=(0,v.A)("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);function ai({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(ar,{className:"h-5 w-5"}),"Shadow Settings"]}),(0,t.jsx)(i.BT,{children:"Configure shadow effects for review badges"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,t.jsx)(b.d,{id:"shadow-enable",checked:e.Shadow.shadow_enable,onCheckedChange:e=>a("Shadow","shadow_enable",e)}),(0,t.jsx)(h.J,{htmlFor:"shadow-enable",children:"Enable Shadow"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"shadow-blur",children:"Shadow Blur"}),(0,t.jsx)(m.p,{id:"shadow-blur",type:"number",min:"0",value:e.Shadow.shadow_blur,onChange:e=>a("Shadow","shadow_blur",parseInt(e.target.value)||5),placeholder:"5",disabled:!e.Shadow.shadow_enable})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"shadow-x",children:"Shadow X Offset"}),(0,t.jsx)(m.p,{id:"shadow-x",type:"number",value:e.Shadow.shadow_offset_x,onChange:e=>a("Shadow","shadow_offset_x",parseInt(e.target.value)||2),placeholder:"2",disabled:!e.Shadow.shadow_enable})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"shadow-y",children:"Shadow Y Offset"}),(0,t.jsx)(m.p,{id:"shadow-y",type:"number",value:e.Shadow.shadow_offset_y,onChange:e=>a("Shadow","shadow_offset_y",parseInt(e.target.value)||2),placeholder:"2",disabled:!e.Shadow.shadow_enable})]})]})]})]})}let al=(0,v.A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var ad=s(5748);function ac({settings:e,updateSetting:a,addImageMapping:s,removeImageMapping:r,updateImageName:l}){let[d,c]=(0,n.useState)({rating:"",image:""}),[g,x]=(0,n.useState)({}),u=s=>{let t={...e.ImageBadges.image_mapping};delete t[s],a("ImageBadges","image_mapping",t),r&&r(s)},p=(s,t)=>{if(s===t||!t.trim())return;let n=e.ImageBadges.image_mapping[s],r={...e.ImageBadges.image_mapping};delete r[s],r[t]=n,a("ImageBadges","image_mapping",r),l&&l(s,t)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(eK.A,{className:"h-5 w-5"}),"Image Badge Settings"]}),(0,t.jsx)(i.BT,{children:"Configure image-based badges for review sources"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.d,{id:"enable-image-badges",checked:e.ImageBadges.enable_image_badges,onCheckedChange:e=>a("ImageBadges","enable_image_badges",e)}),(0,t.jsx)(h.J,{htmlFor:"enable-image-badges",children:"Use Image Badges"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.d,{id:"fallback-to-text",checked:e.ImageBadges.fallback_to_text,onCheckedChange:e=>a("ImageBadges","fallback_to_text",e),disabled:!e.ImageBadges.enable_image_badges}),(0,t.jsx)(h.J,{htmlFor:"fallback-to-text",children:"Fallback to Text"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"image-directory",children:"Image Directory"}),(0,t.jsx)(m.p,{id:"image-directory",type:"text",value:e.ImageBadges.codec_image_directory,onChange:e=>a("ImageBadges","codec_image_directory",e.target.value),placeholder:"images/rating",disabled:!e.ImageBadges.enable_image_badges})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"image-padding",children:"Image Padding"}),(0,t.jsx)(m.p,{id:"image-padding",type:"number",min:"0",value:e.ImageBadges.image_padding,onChange:e=>a("ImageBadges","image_padding",parseInt(e.target.value)||5),placeholder:"5",disabled:!e.ImageBadges.enable_image_badges})]})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Image Mappings"}),(0,t.jsx)(i.BT,{children:"Map rating names to image filenames"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[Object.entries(e.ImageBadges.image_mapping).map(([s,n])=>(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center",children:[(0,t.jsx)(m.p,{value:g[s]||s,onChange:e=>x(a=>({...a,[s]:e.target.value})),onBlur:e=>{let a=e.target.value.trim();a&&a!==s&&p(s,a),x(e=>{let a={...e};return delete a[s],a})},className:"col-span-5",placeholder:"Rating Name",disabled:!e.ImageBadges.enable_image_badges}),(0,t.jsx)(al,{className:"col-span-1 h-4 w-4 text-muted-foreground justify-self-center"}),(0,t.jsx)(m.p,{value:n,onChange:t=>{let n={...e.ImageBadges.image_mapping};n[s]=t.target.value,a("ImageBadges","image_mapping",n)},className:"col-span-5",placeholder:"Image Name",disabled:!e.ImageBadges.enable_image_badges}),(0,t.jsx)(o.$,{onClick:()=>u(s),variant:"ghost",size:"sm",className:"col-span-1 h-8 w-8 p-0 text-red-500 hover:bg-red-50 hover:text-red-600",disabled:!e.ImageBadges.enable_image_badges,children:(0,t.jsx)(ad.A,{className:"h-4 w-4"})})]},s)),(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center mt-4 pt-4 border-t",children:[(0,t.jsx)(m.p,{value:d.rating,onChange:e=>c(a=>({...a,rating:e.target.value})),className:"col-span-5",placeholder:"Rating Name",disabled:!e.ImageBadges.enable_image_badges}),(0,t.jsx)(al,{className:"col-span-1 h-4 w-4 text-muted-foreground justify-self-center"}),(0,t.jsx)(m.p,{value:d.image,onChange:e=>c(a=>({...a,image:e.target.value})),className:"col-span-5",placeholder:"Image Name",disabled:!e.ImageBadges.enable_image_badges}),(0,t.jsx)(o.$,{onClick:()=>{d.rating&&d.image&&(a("ImageBadges","image_mapping",{...e.ImageBadges.image_mapping,[d.rating]:d.image}),c({rating:"",image:""}),s&&s(d.rating,d.image))},variant:"ghost",size:"sm",className:"col-span-1 h-8 w-8 p-0 text-green-500 hover:bg-green-50 hover:text-green-600",disabled:!e.ImageBadges.enable_image_badges||!d.rating||!d.image,children:(0,t.jsx)(D.A,{className:"h-4 w-4"})})]})]}),0===Object.keys(e.ImageBadges.image_mapping).length&&(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(eK.A,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{children:"No image mappings configured"}),(0,t.jsx)("p",{className:"text-sm",children:"Add mappings above to use image badges"})]})]})]})]})}let ao={General:{general_badge_size:100,general_edge_padding:30,general_badge_position:"bottom-left",general_text_padding:20,use_dynamic_sizing:!0,badge_orientation:"vertical",badge_spacing:15,max_badges_to_display:4},Sources:{enable_imdb:!0,enable_rotten_tomatoes:!0,enable_metacritic:!0,enable_tmdb:!1,enable_myanimelist:!1,enable_anidb:!1,source_priority:["imdb","rotten_tomatoes","metacritic","tmdb","myanimelist","anidb"],minimum_votes_threshold:100,fallback_behavior:"hide"},Text:{font:"AvenirNextLTProBold.otf",fallback_font:"DejaVuSans.ttf","text-color":"#FFFFFF","text-size":40},Background:{"background-color":"#2C2C2C",background_opacity:60},Border:{"border-color":"#2C2C2C","border-radius":10,border_width:1},Shadow:{shadow_enable:!1,shadow_blur:5,shadow_offset_x:2,shadow_offset_y:2},ImageBadges:{enable_image_badges:!0,codec_image_directory:"images/rating",fallback_to_text:!0,image_padding:5,image_mapping:{IMDb:"imdb.png","Rotten Tomatoes":"rt.png",Metacritic:"metacritic.png",MyAnimeList:"mal.png"}}},am={max_badges_display:4,source_selection_mode:"priority",show_percentage_only:!0,group_related_sources:!0,anime_sources_for_anime_only:!0},ah=[{id:1,source_name:"IMDb",enabled:!0,display_order:1,priority:1,max_variants:3,conditions:null},{id:2,source_name:"Rotten Tomatoes Critics",enabled:!0,display_order:2,priority:2,max_variants:3,conditions:null},{id:3,source_name:"Metacritic",enabled:!0,display_order:3,priority:3,max_variants:2,conditions:null},{id:4,source_name:"TMDb",enabled:!0,display_order:4,priority:4,max_variants:1,conditions:null},{id:5,source_name:"AniDB",enabled:!0,display_order:5,priority:5,max_variants:1,conditions:'{"content_type": "anime"}'},{id:6,source_name:"Rotten Tomatoes Audience",enabled:!1,display_order:6,priority:6,max_variants:3,conditions:null},{id:7,source_name:"Letterboxd",enabled:!1,display_order:7,priority:7,max_variants:1,conditions:null},{id:8,source_name:"MyAnimeList",enabled:!1,display_order:8,priority:8,max_variants:1,conditions:'{"content_type": "anime"}'},{id:9,source_name:"Trakt",enabled:!1,display_order:9,priority:9,max_variants:1,conditions:null},{id:10,source_name:"MDBList",enabled:!1,display_order:10,priority:10,max_variants:1,conditions:null}],ag=(0,v.A)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);function ax({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ag,{className:"h-5 w-5"}),(0,t.jsx)(i.ZB,{children:"General Settings"})]}),(0,t.jsx)(i.BT,{children:"Basic configuration for awards badges"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(h.J,{htmlFor:"awards-enabled",children:"Enable Awards Badges"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Awards badges appear flush in the bottom-right corner when media has won specific awards"})]}),(0,t.jsx)(b.d,{id:"awards-enabled",checked:e.General.enabled,onCheckedChange:e=>a("General","enabled",e)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"badge-size",children:"Badge Size"}),(0,t.jsx)(m.p,{id:"badge-size",type:"number",min:50,max:351,value:e.General.general_badge_size,onChange:e=>a("General","general_badge_size",""===e.target.value?351:parseInt(e.target.value)),disabled:!e.General.enabled}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Recommended: 351px (full native resolution)"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{children:"Badge Position"}),(0,t.jsxs)("div",{className:"p-3 border rounded-lg bg-muted/50",children:[(0,t.jsx)("div",{className:"font-medium flex items-center gap-2",children:(0,t.jsx)(g.E,{variant:"outline",children:"Bottom-Right Flush"})}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"Awards badges are always positioned flush to the bottom-right corner with no padding for optimal ribbon appearance"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(h.J,{htmlFor:"dynamic-sizing",children:"Use Dynamic Sizing"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Automatically adjust badge size based on content"})]}),(0,t.jsx)(b.d,{id:"dynamic-sizing",checked:e.General.use_dynamic_sizing,onCheckedChange:e=>a("General","use_dynamic_sizing",e),disabled:!e.General.enabled})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"edge-padding",children:"Edge Padding"}),(0,t.jsx)(m.p,{id:"edge-padding",type:"number",value:e.General.general_edge_padding,disabled:!0,className:"opacity-50"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Awards use 0 padding for flush positioning"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"text-padding",children:"Text Padding"}),(0,t.jsx)(m.p,{id:"text-padding",type:"number",value:e.General.general_text_padding,disabled:!0,className:"opacity-50"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Awards use 0 padding for flush positioning"})]})]})]})]})}var au=s(56896);let ap={General:{enabled:!0,general_badge_size:120,general_badge_position:"bottom-right-flush",general_edge_padding:0,general_text_padding:0,use_dynamic_sizing:!1},Awards:{color_scheme:"yellow",award_sources:["oscars","emmys","golden","bafta","cannes","crunchyroll"]},Text:{font:"AvenirNextLTProBold.otf",fallback_font:"DejaVuSans.ttf","text-color":"#FFFFFF","text-size":90},Background:{"background-color":"#000000",background_opacity:40},Border:{"border-color":"#000000","border-radius":10,border_width:1},Shadow:{shadow_enable:!1,shadow_blur:8,shadow_offset_x:2,shadow_offset_y:2},ImageBadges:{enable_image_badges:!0,codec_image_directory:"images/awards",fallback_to_text:!1,image_padding:0,image_mapping:{oscars:"oscars.png",emmys:"emmys.png",golden:"golden.png",bafta:"bafta.png",cannes:"cannes.png",crunchyroll:"crunchyroll.png",berlinale:"berlinale.png",cesar:"cesar.png",choice:"choice.png",imdb:"imdb.png",letterboxd:"letterboxd.png",metacritic:"metacritic.png",netflix:"netflix.png",razzie:"razzie.png",rotten:"rotten.png",rottenverified:"rottenverified.png",spirit:"spirit.png",sundance:"sundance.png",venice:"venice.png"}}},aj=[{value:"black",label:"Black",bgClass:"bg-gray-100",previewClass:"bg-black border-gray-300",textClass:"text-gray-900"},{value:"gray",label:"Gray",bgClass:"bg-gray-100",previewClass:"bg-gray-500 border-gray-300",textClass:"text-gray-700"},{value:"red",label:"Red",bgClass:"bg-red-50",previewClass:"bg-red-600 border-red-300",textClass:"text-red-700"},{value:"yellow",label:"Yellow",bgClass:"bg-yellow-50",previewClass:"bg-yellow-500 border-yellow-300",textClass:"text-yellow-700"}],av=[{value:"oscars",label:"Academy Awards (Oscars)",priority:"Highest"},{value:"cannes",label:"Cannes Film Festival",priority:"Very High"},{value:"golden",label:"Golden Globe Awards",priority:"High"},{value:"bafta",label:"BAFTA Awards",priority:"High"},{value:"emmys",label:"Emmy Awards",priority:"High"},{value:"crunchyroll",label:"Crunchyroll Anime Awards",priority:"High"},{value:"berlinale",label:"Berlin International Film Festival",priority:"Medium"},{value:"venice",label:"Venice Film Festival",priority:"Medium"},{value:"sundance",label:"Sundance Film Festival",priority:"Medium"},{value:"spirit",label:"Independent Spirit Awards",priority:"Medium"},{value:"choice",label:"Critics Choice Awards",priority:"Medium"},{value:"cesar",label:"C\xe9sar Awards",priority:"Low"},{value:"imdb",label:"IMDb Top Lists",priority:"Low"},{value:"letterboxd",label:"Letterboxd",priority:"Low"},{value:"metacritic",label:"Metacritic",priority:"Low"},{value:"netflix",label:"Netflix",priority:"Low"},{value:"razzie",label:"Golden Raspberry Awards",priority:"Low"},{value:"rotten",label:"Rotten Tomatoes",priority:"Low"},{value:"rottenverified",label:"Rotten Tomatoes (Verified)",priority:"Low"}];function af({settings:e,updateSetting:a,updateAwardSources:s}){let n=e=>{a("Awards","color_scheme",e)},r=(a,t)=>{let n,r=e.Awards.award_sources;s(t?[...r,a]:r.filter(e=>e!==a))},l=aj.find(a=>a.value===e.Awards.color_scheme);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(e3.A,{className:"h-5 w-5"}),(0,t.jsx)(i.ZB,{children:"Color Scheme"})]}),(0,t.jsx)(i.BT,{children:"Choose the color scheme for award ribbons"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:aj.map(a=>(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{id:`color-${a.value}`,type:"radio",value:a.value,checked:e.Awards.color_scheme===a.value,onChange:()=>n(a.value),disabled:!e.General.enabled,className:"peer sr-only"}),(0,t.jsx)("label",{htmlFor:`color-${a.value}`,className:`flex items-center justify-center p-3 border rounded-lg cursor-pointer transition-all ${e.Awards.color_scheme===a.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"} ${!e.General.enabled?"opacity-50 cursor-not-allowed":""} ${a.bgClass}`,children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:`w-4 h-4 rounded border-2 ${a.previewClass}`}),(0,t.jsx)("span",{className:`text-sm font-medium ${a.textClass}`,children:a.label})]})})]},a.value))}),e.General.enabled&&l&&(0,t.jsxs)("div",{className:"p-3 border rounded-lg bg-muted/50",children:[(0,t.jsx)("div",{className:"text-sm font-medium mb-2",children:"Preview:"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:`w-8 h-8 rounded border-2 ${l.previewClass}`}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[l.label," scheme selected"]})]})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ag,{className:"h-5 w-5"}),(0,t.jsx)(i.ZB,{children:"Award Sources"})]}),(0,t.jsx)(i.BT,{children:"Select which award types to detect and display"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"max-h-64 overflow-y-auto border rounded-lg p-3",children:(0,t.jsx)("div",{className:"space-y-3",children:av.map(a=>{let s=e.Awards.award_sources.includes(a.value);return(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(au.S,{id:`award-${a.value}`,checked:s,onCheckedChange:e=>r(a.value,e),disabled:!e.General.enabled}),(0,t.jsx)("label",{htmlFor:`award-${a.value}`,className:`flex-1 text-sm cursor-pointer ${!e.General.enabled?"opacity-50":""}`,children:a.label}),a.priority&&(0,t.jsx)(g.E,{variant:"outline",className:"text-xs",children:a.priority})]},a.value)})})}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Selected awards will be detected automatically. Priority order: Oscars → Cannes → Golden Globe → BAFTA → Emmy → Others"}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(g.E,{variant:"secondary",children:[e.Awards.award_sources.length," sources selected"]})})]})]}),e.General.enabled&&(0,t.jsxs)(i.Zp,{className:"border-blue-200 bg-blue-50/50",children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{className:"text-blue-900",children:"Award Detection Info"})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-blue-800 mb-2",children:"Detection Sources:"}),(0,t.jsxs)("ul",{className:"space-y-1 text-blue-700",children:[(0,t.jsx)("li",{children:"• Static mapping database (140+ titles)"}),(0,t.jsx)("li",{children:"• TMDb API (real-time data)"}),(0,t.jsx)("li",{children:"• OMDB API (fallback data)"}),(0,t.jsx)("li",{children:"• 7-day API caching system"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-blue-800 mb-2",children:"Coverage:"}),(0,t.jsxs)("ul",{className:"space-y-1 text-blue-700",children:[(0,t.jsx)("li",{children:"• 80+ award-winning movies"}),(0,t.jsx)("li",{children:"• 60+ award-winning TV shows"}),(0,t.jsxs)("li",{children:["• ",e.Awards.award_sources.length," selected award types"]}),(0,t.jsx)("li",{children:"• Priority-based detection system"})]})]})]})})]})]})}function ab({settings:e,updateSetting:a,availableFonts:s=[]}){let n=["AvenirNextLTProBold.otf","DejaVuSans.ttf","Arial","Helvetica","Times New Roman","Courier New",...s].filter((e,a,s)=>s.indexOf(e)===a);return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(N,{className:"h-5 w-5"}),"Text Settings"]}),(0,t.jsx)(i.BT,{children:"Configure font, size, and text appearance for awards badges"})]}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"font",children:"Primary Font"}),(0,t.jsxs)(y.l6,{value:e.Text.font,onValueChange:e=>a("Text","font",e),disabled:!e.General.enabled,children:[(0,t.jsx)(y.bq,{children:(0,t.jsx)(y.yv,{placeholder:"Select a font..."})}),(0,t.jsx)(y.gC,{children:n.map(e=>(0,t.jsx)(y.eb,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"fallback-font",children:"Fallback Font"}),(0,t.jsxs)(y.l6,{value:e.Text.fallback_font,onValueChange:e=>a("Text","fallback_font",e),disabled:!e.General.enabled,children:[(0,t.jsx)(y.bq,{children:(0,t.jsx)(y.yv,{placeholder:"Select a font..."})}),(0,t.jsx)(y.gC,{children:n.map(e=>(0,t.jsx)(y.eb,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"text-color",children:"Text Color"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"color",value:e.Text["text-color"],onChange:e=>a("Text","text-color",e.target.value),disabled:!e.General.enabled,className:"w-12 h-10 border rounded cursor-pointer disabled:opacity-50"}),(0,t.jsx)(m.p,{type:"text",value:e.Text["text-color"],onChange:e=>a("Text","text-color",e.target.value),disabled:!e.General.enabled,className:"flex-1",placeholder:"#FFFFFF"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"text-size",children:"Text Size"}),(0,t.jsx)(m.p,{id:"text-size",type:"number",min:"10",value:e.Text["text-size"],onChange:e=>a("Text","text-size",parseInt(e.target.value)||90),disabled:!e.General.enabled,placeholder:"90"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Recommended: 90px for awards text visibility"})]})]})})]})}function ay({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(as.A,{className:"h-5 w-5"}),"Background Settings"]}),(0,t.jsx)(i.BT,{children:"Configure background color and opacity for awards badges"})]}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"background-color",children:"Background Color"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"color",value:e.Background["background-color"],onChange:e=>a("Background","background-color",e.target.value),disabled:!e.General.enabled,className:"w-12 h-10 border rounded cursor-pointer disabled:opacity-50"}),(0,t.jsx)(m.p,{type:"text",value:e.Background["background-color"],onChange:e=>a("Background","background-color",e.target.value),disabled:!e.General.enabled,className:"flex-1",placeholder:"#000000"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"background-opacity",children:"Background Opacity (%)"}),(0,t.jsx)(m.p,{id:"background-opacity",type:"number",min:"0",max:"100",value:e.Background.background_opacity,onChange:e=>a("Background","background_opacity",""===e.target.value?40:parseInt(e.target.value)),disabled:!e.General.enabled,placeholder:"40"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Awards typically use lower opacity for ribbon visibility"})]})]})})]})}function a_({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(as.A,{className:"h-5 w-5"}),"Border Settings"]}),(0,t.jsx)(i.BT,{children:"Configure border appearance for awards badges"})]}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"border-color",children:"Border Color"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"color",value:e.Border["border-color"],onChange:e=>a("Border","border-color",e.target.value),disabled:!e.General.enabled,className:"w-12 h-10 border rounded cursor-pointer disabled:opacity-50"}),(0,t.jsx)(m.p,{type:"text",value:e.Border["border-color"],onChange:e=>a("Border","border-color",e.target.value),disabled:!e.General.enabled,className:"flex-1",placeholder:"#000000"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"border-width",children:"Border Width"}),(0,t.jsx)(m.p,{id:"border-width",type:"number",min:"0",value:e.Border.border_width,onChange:e=>a("Border","border_width",parseInt(e.target.value)||0),disabled:!e.General.enabled,placeholder:"1"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"border-radius",children:"Border Radius"}),(0,t.jsx)(m.p,{id:"border-radius",type:"number",min:"0",value:e.Border.border_radius,onChange:e=>a("Border","border_radius",parseInt(e.target.value)||10),disabled:!e.General.enabled,placeholder:"10"})]})]})})]})}function aN({settings:e,updateSetting:a}){return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(ar,{className:"h-5 w-5"}),"Shadow Settings"]}),(0,t.jsx)(i.BT,{children:"Configure shadow effects for awards badges"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,t.jsx)(b.d,{id:"shadow-enable",checked:e.Shadow.shadow_enable,onCheckedChange:e=>a("Shadow","shadow_enable",e),disabled:!e.General.enabled}),(0,t.jsx)(h.J,{htmlFor:"shadow-enable",children:"Enable Shadow"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"shadow-blur",children:"Shadow Blur"}),(0,t.jsx)(m.p,{id:"shadow-blur",type:"number",min:"0",value:e.Shadow.shadow_blur,onChange:e=>a("Shadow","shadow_blur",parseInt(e.target.value)||8),placeholder:"8",disabled:!e.Shadow.shadow_enable||!e.General.enabled})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"shadow-x",children:"Shadow X Offset"}),(0,t.jsx)(m.p,{id:"shadow-x",type:"number",value:e.Shadow.shadow_offset_x,onChange:e=>a("Shadow","shadow_offset_x",parseInt(e.target.value)||2),placeholder:"2",disabled:!e.Shadow.shadow_enable||!e.General.enabled})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"shadow-y",children:"Shadow Y Offset"}),(0,t.jsx)(m.p,{id:"shadow-y",type:"number",value:e.Shadow.shadow_offset_y,onChange:e=>a("Shadow","shadow_offset_y",parseInt(e.target.value)||2),placeholder:"2",disabled:!e.Shadow.shadow_enable||!e.General.enabled})]})]})]})]})}function aw({settings:e,updateSetting:a,addImageMapping:s,removeImageMapping:r,updateImageName:l}){let[d,c]=(0,n.useState)({award:"",image:""}),[g,x]=(0,n.useState)({}),u=s=>{let t={...e.ImageBadges.image_mapping};delete t[s],a("ImageBadges","image_mapping",t),r&&r(s)},p=(s,t)=>{if(s===t||!t.trim())return;let n=e.ImageBadges.image_mapping[s],r={...e.ImageBadges.image_mapping};delete r[s],r[t]=n,a("ImageBadges","image_mapping",r),l&&l(s,t)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(eK.A,{className:"h-5 w-5"}),"Image Badge Settings"]}),(0,t.jsx)(i.BT,{children:"Configure image-based badges for award ribbons"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.d,{id:"enable-image-badges",checked:e.ImageBadges.enable_image_badges,onCheckedChange:e=>a("ImageBadges","enable_image_badges",e),disabled:!e.General.enabled}),(0,t.jsx)(h.J,{htmlFor:"enable-image-badges",children:"Use Image Badges"})]}),(0,t.jsxs)("div",{className:"p-3 border rounded-lg bg-muted/50",children:[(0,t.jsx)("div",{className:"text-sm font-medium mb-1",children:"Awards Image Configuration"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Awards are image-only (no text fallback). Images are organized in color-coded subdirectories."})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"image-directory",children:"Awards Image Directory"}),(0,t.jsx)(m.p,{id:"image-directory",type:"text",value:e.ImageBadges.codec_image_directory,onChange:e=>a("ImageBadges","codec_image_directory",e.target.value),placeholder:"images/awards",disabled:!0,className:"opacity-50"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"This directory contains color-coded subdirectories (black, gray, red, yellow)"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"image-padding",children:"Image Padding"}),(0,t.jsx)(m.p,{id:"image-padding",type:"number",min:"0",value:e.ImageBadges.image_padding,onChange:e=>a("ImageBadges","image_padding",parseInt(e.target.value)||0),placeholder:"0",disabled:!0,className:"opacity-50"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Awards use 0 padding for flush positioning"})]})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Award Image Mappings"}),(0,t.jsx)(i.BT,{children:"Map award names to image filenames (located in color-coded subdirectories)"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[Object.entries(e.ImageBadges.image_mapping).map(([s,n])=>(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center",children:[(0,t.jsx)(m.p,{value:g[s]||s,onChange:e=>x(a=>({...a,[s]:e.target.value})),onBlur:e=>{let a=e.target.value.trim();a&&a!==s&&p(s,a),x(e=>{let a={...e};return delete a[s],a})},className:"col-span-5",placeholder:"Award Name",disabled:!e.ImageBadges.enable_image_badges||!e.General.enabled}),(0,t.jsx)(al,{className:"col-span-1 h-4 w-4 text-muted-foreground justify-self-center"}),(0,t.jsx)(m.p,{value:n,onChange:t=>{let n={...e.ImageBadges.image_mapping};n[s]=t.target.value,a("ImageBadges","image_mapping",n)},className:"col-span-5",placeholder:"Image Name",disabled:!e.ImageBadges.enable_image_badges||!e.General.enabled}),(0,t.jsx)(o.$,{onClick:()=>u(s),variant:"ghost",size:"sm",className:"col-span-1 h-8 w-8 p-0 text-red-500 hover:bg-red-50 hover:text-red-600",disabled:!e.ImageBadges.enable_image_badges||!e.General.enabled,children:(0,t.jsx)(ad.A,{className:"h-4 w-4"})})]},s)),(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center mt-4 pt-4 border-t",children:[(0,t.jsx)(m.p,{value:d.award,onChange:e=>c(a=>({...a,award:e.target.value})),className:"col-span-5",placeholder:"Award Name",disabled:!e.ImageBadges.enable_image_badges||!e.General.enabled}),(0,t.jsx)(al,{className:"col-span-1 h-4 w-4 text-muted-foreground justify-self-center"}),(0,t.jsx)(m.p,{value:d.image,onChange:e=>c(a=>({...a,image:e.target.value})),className:"col-span-5",placeholder:"Image Name",disabled:!e.ImageBadges.enable_image_badges||!e.General.enabled}),(0,t.jsx)(o.$,{onClick:()=>{d.award&&d.image&&(a("ImageBadges","image_mapping",{...e.ImageBadges.image_mapping,[d.award]:d.image}),c({award:"",image:""}),s&&s(d.award,d.image))},variant:"ghost",size:"sm",className:"col-span-1 h-8 w-8 p-0 text-green-500 hover:bg-green-50 hover:text-green-600",disabled:!e.ImageBadges.enable_image_badges||!e.General.enabled||!d.award||!d.image,children:(0,t.jsx)(D.A,{className:"h-4 w-4"})})]})]}),0===Object.keys(e.ImageBadges.image_mapping).length&&(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(eK.A,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{children:"No award image mappings configured"}),(0,t.jsx)("p",{className:"text-sm",children:"Add mappings above to use award badges"})]})]})]})]})}let ak="force-dynamic",aC=[{id:"api",name:"API",component:function(){let[e,a]=(0,n.useState)(!1),[s,r]=(0,n.useState)(!1),[l,v]=(0,n.useState)(!1),[f,b]=(0,n.useState)(null),[y,_]=(0,n.useState)(!1),[N,w]=(0,n.useState)(null),[k,C]=(0,n.useState)(!1),[B,S]=(0,n.useState)(null),[A,I]=(0,n.useState)(!1),[T,E]=(0,n.useState)(null),[D,F]=(0,n.useState)(!1),[R,P]=(0,n.useState)(null),[z,M]=(0,n.useState)({url:"https://jellyfin.example.com",api_key:"",user_id:""}),[J,Z]=(0,n.useState)({api_key:"",cache_expiration:60}),[G,$]=(0,n.useState)({api_key:"",cache_expiration:60,language:"en",region:""}),[L,O]=(0,n.useState)({username:"",password:"",version:1,client_name:"",language:"en",cache_expiration:60}),[V,W]=(0,n.useState)({api_key:"",cache_expiration:60}),H=async()=>{if(!z.url||!z.api_key||!z.user_id)return void p.oR.error("Please fill in all required Jellyfin fields (Server URL, API Key, and User ID)");r(!0);try{let e={api_keys:{Jellyfin:[{url:z.url,api_key:z.api_key,user_id:z.user_id}],OMDB:[{api_key:J.api_key,cache_expiration:J.cache_expiration}],TMDB:[{api_key:G.api_key,cache_expiration:G.cache_expiration,language:G.language,region:G.region||null}],aniDB:[{username:L.username},{password:L.password,version:L.version,client_name:L.client_name,language:L.language,cache_expiration:L.cache_expiration}],MDBList:[{api_key:V.api_key,cache_expiration:V.cache_expiration}]}};if(!(await fetch(`${j()}/api/v1/config/settings.yaml`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to save API settings");p.oR.success("API settings saved successfully!")}catch(e){console.error("Error saving settings:",e),p.oR.error("Failed to save API settings")}finally{r(!1)}},X=async()=>{if(!z.url||!z.api_key||!z.user_id)return void b({success:!1,message:"Please fill in all Jellyfin fields"});v(!0),b(null);try{let e=await fetch(`${j()}/api/v1/config/test-jellyfin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:z.url,api_key:z.api_key,user_id:z.user_id})}),a=await e.json();if(e.ok){b({success:!0,message:a.message||"Connection successful!"});try{await H(),b({success:!0,message:(a.message||"Connection successful!")+" - Settings saved automatically!"})}catch(e){b({success:!0,message:(a.message||"Connection successful!")+" - Warning: Auto-save failed, please save manually."})}}else b({success:!1,message:a.error||"Connection failed"})}catch(e){b({success:!1,message:"Connection failed"})}finally{v(!1)}},U=async()=>{if(!V.api_key)return void E({success:!1,message:"Please enter an MDBList API key"});I(!0),E(null);try{let e=await fetch(`${j()}/api/v1/config/test-mdblist`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:V.api_key})}),a=await e.json();e.ok?E({success:!0,message:a.message||"Connection successful!"}):E({success:!1,message:a.error||"Connection failed"})}catch(e){E({success:!1,message:"Connection failed"})}finally{I(!1)}},q=async()=>{if(!L.username||!L.password)return void P({success:!1,message:"Please enter AniDB username and password"});F(!0),P(null);try{let e=await fetch(`${j()}/api/v1/config/test-anidb`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:L.username,password:L.password,version:L.version,client_name:L.client_name,language:L.language})}),a=await e.json();e.ok?P({success:!0,message:a.message||"Connection successful!"}):P({success:!1,message:a.error||"Connection failed"})}catch(e){P({success:!1,message:"Connection failed"})}finally{F(!1)}},Y=async()=>{if(!J.api_key)return void w({success:!1,message:"Please enter an OMDB API key"});_(!0),w(null);try{let e=await fetch(`${j()}/api/v1/config/test-omdb`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:J.api_key})}),a=await e.json();e.ok?w({success:!0,message:a.message||"Connection successful!"}):w({success:!1,message:a.error||"Connection failed"})}catch(e){w({success:!1,message:"Connection failed"})}finally{_(!1)}},K=async()=>{if(!G.api_key)return void S({success:!1,message:"Please enter a TMDB API key"});C(!0),S(null);try{let e=await fetch(`${j()}/api/v1/config/test-tmdb`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:G.api_key})}),a=await e.json();e.ok?S({success:!0,message:a.message||"Connection successful!"}):S({success:!1,message:a.error||"Connection failed"})}catch(e){S({success:!1,message:"Connection failed"})}finally{C(!1)}};return e?(0,t.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,t.jsx)(d.A,{className:"h-8 w-8 animate-spin"}),(0,t.jsx)("span",{className:"ml-2",children:"Loading API settings..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"API Settings"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Configure connections to external services"})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),H()},className:"space-y-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:["Jellyfin Connection",f&&(0,t.jsx)(g.E,{variant:f.success?"default":"destructive",children:f.success?"Connected":"Error"})]}),(0,t.jsxs)(i.BT,{children:["Configure your Jellyfin media server connection",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-sm text-red-600",children:"* Required fields"})]})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"jellyfin-url",children:"Server URL *"}),(0,t.jsx)(m.p,{id:"jellyfin-url",type:"text",placeholder:"https://jellyfin.example.com",value:z.url,onChange:e=>M(a=>({...a,url:e.target.value})),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"jellyfin-api-key",children:"API Key *"}),(0,t.jsx)(m.p,{id:"jellyfin-api-key",type:"text",placeholder:"Your Jellyfin API key",value:z.api_key,onChange:e=>M(a=>({...a,api_key:e.target.value})),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"jellyfin-user-id",children:"User ID *"}),(0,t.jsx)(m.p,{id:"jellyfin-user-id",type:"text",placeholder:"Your Jellyfin user ID",value:z.user_id,onChange:e=>M(a=>({...a,user_id:e.target.value})),required:!0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,t.jsx)("a",{href:"https://github.com/jackkerouac/aphrodite/blob/main/docs/SETUP.md",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"How to find your Jellyfin User ID"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(o.$,{type:"button",variant:"outline",onClick:X,disabled:l,children:[l?(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):f?.success?(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}):f?.success===!1?(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}):null,l?"Testing...":"Test Connection"]}),f&&(0,t.jsx)("span",{className:`text-sm ${f.success?"text-green-600":"text-red-600"}`,children:f.message})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:["OMDB API",N&&(0,t.jsx)(g.E,{variant:N.success?"default":"destructive",children:N.success?"Connected":"Error"})]}),(0,t.jsx)(i.BT,{children:"Open Movie Database for additional metadata"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"omdb-api-key",children:"API Key"}),(0,t.jsx)(m.p,{id:"omdb-api-key",type:"text",placeholder:"Your OMDB API key",value:J.api_key,onChange:e=>Z(a=>({...a,api_key:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"omdb-cache",children:"Cache Expiration (minutes)"}),(0,t.jsx)(m.p,{id:"omdb-cache",type:"number",value:J.cache_expiration,onChange:e=>Z(a=>({...a,cache_expiration:parseInt(e.target.value)||60}))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(o.$,{type:"button",variant:"outline",onClick:Y,disabled:y,children:[y?(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):N?.success?(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}):N?.success===!1?(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}):null,y?"Testing...":"Test Connection"]}),N&&(0,t.jsx)("span",{className:`text-sm ${N.success?"text-green-600":"text-red-600"}`,children:N.message})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:["TMDB API",B&&(0,t.jsx)(g.E,{variant:B.success?"default":"destructive",children:B.success?"Connected":"Error"})]}),(0,t.jsx)(i.BT,{children:"The Movie Database for comprehensive movie and TV data"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"tmdb-api-key",children:"API Read Access Token"}),(0,t.jsx)(m.p,{id:"tmdb-api-key",type:"text",placeholder:"Your TMDB API Read Access Token",value:G.api_key,onChange:e=>$(a=>({...a,api_key:e.target.value}))}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Use your TMDB API Read Access Token (Bearer token), not the API Key"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"tmdb-language",children:"Language"}),(0,t.jsx)(m.p,{id:"tmdb-language",type:"text",placeholder:"en",value:G.language,onChange:e=>$(a=>({...a,language:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"tmdb-region",children:"Region"}),(0,t.jsx)(m.p,{id:"tmdb-region",type:"text",placeholder:"US",value:G.region,onChange:e=>$(a=>({...a,region:e.target.value}))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"tmdb-cache",children:"Cache Expiration (minutes)"}),(0,t.jsx)(m.p,{id:"tmdb-cache",type:"number",value:G.cache_expiration,onChange:e=>$(a=>({...a,cache_expiration:parseInt(e.target.value)||60}))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(o.$,{type:"button",variant:"outline",onClick:K,disabled:k,children:[k?(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):B?.success?(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}):B?.success===!1?(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}):null,k?"Testing...":"Test Connection"]}),B&&(0,t.jsx)("span",{className:`text-sm ${B.success?"text-green-600":"text-red-600"}`,children:B.message})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:["MDBList API",T&&(0,t.jsx)(g.E,{variant:T.success?"default":"destructive",children:T.success?"Connected":"Error"})]}),(0,t.jsx)(i.BT,{children:"MDBList for movie and TV show ratings and data"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"mdblist-api-key",children:"API Key"}),(0,t.jsx)(m.p,{id:"mdblist-api-key",type:"text",placeholder:"Your MDBList API key",value:V.api_key,onChange:e=>W(a=>({...a,api_key:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"mdblist-cache",children:"Cache Expiration (minutes)"}),(0,t.jsx)(m.p,{id:"mdblist-cache",type:"number",value:V.cache_expiration,onChange:e=>W(a=>({...a,cache_expiration:parseInt(e.target.value)||60}))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(o.$,{type:"button",variant:"outline",onClick:U,disabled:A,children:[A?(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):T?.success?(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}):T?.success===!1?(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}):null,A?"Testing...":"Test Connection"]}),T&&(0,t.jsx)("span",{className:`text-sm ${T.success?"text-green-600":"text-red-600"}`,children:T.message})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:["AniDB API",R&&(0,t.jsx)(g.E,{variant:R.success?"default":"destructive",children:R.success?"Connected":"Error"})]}),(0,t.jsx)(i.BT,{children:"AniDB for anime database information"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"anidb-username",children:"Username"}),(0,t.jsx)(m.p,{id:"anidb-username",type:"text",placeholder:"Your AniDB username",value:L.username,onChange:e=>O(a=>({...a,username:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"anidb-password",children:"Password"}),(0,t.jsx)(m.p,{id:"anidb-password",type:"password",placeholder:"Your AniDB password",value:L.password,onChange:e=>O(a=>({...a,password:e.target.value}))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"anidb-client",children:"Client Name"}),(0,t.jsx)(m.p,{id:"anidb-client",type:"text",placeholder:"aphrodite",value:L.client_name,onChange:e=>O(a=>({...a,client_name:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"anidb-language",children:"Language"}),(0,t.jsx)(m.p,{id:"anidb-language",type:"text",placeholder:"en",value:L.language,onChange:e=>O(a=>({...a,language:e.target.value}))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"anidb-version",children:"Version"}),(0,t.jsx)(m.p,{id:"anidb-version",type:"number",value:L.version,onChange:e=>O(a=>({...a,version:parseInt(e.target.value)||1}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.J,{htmlFor:"anidb-cache",children:"Cache Expiration (minutes)"}),(0,t.jsx)(m.p,{id:"anidb-cache",type:"number",value:L.cache_expiration,onChange:e=>O(a=>({...a,cache_expiration:parseInt(e.target.value)||60}))})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(o.$,{type:"button",variant:"outline",onClick:q,disabled:D,children:[D?(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):R?.success?(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}):R?.success===!1?(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}):null,D?"Testing...":"Test Connection"]}),R&&(0,t.jsx)("span",{className:`text-sm ${R.success?"text-green-600":"text-red-600"}`,children:R.message})]})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(o.$,{type:"submit",disabled:s,children:[s?(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),s?"Saving...":"Save Changes"]})})]})]})}},{id:"audio",name:"Audio",component:function(){let{loading:e,saving:a,settings:s,availableFonts:r,loadSettings:i,loadFonts:c,saveSettings:m,updateSetting:h,addAudioMapping:x,removeAudioMapping:j,updateCodecName:v,runAudioCoverageAnalysis:b,getCacheStats:y,clearAudioCache:N,testEnhancedDetection:w}=function(){let[e,a]=(0,n.useState)(!1),[s,t]=(0,n.useState)(!1),[r,i]=(0,n.useState)(K),[l,d]=(0,n.useState)([]),c=(0,n.useCallback)(async()=>{try{let e=await k();d(e)}catch(e){console.error("Error loading fonts:",e),d([])}},[]),o=(0,n.useCallback)(async()=>{a(!0);try{let e=await fetch("/api/v1/config/badge_settings_audio.yml"),a=await e.json();if(a.config&&Object.keys(a.config).length>0){let e={...K,...a.config,General:{...K.General,...a.config.General},Text:{...K.Text,...a.config.Text},Background:{...K.Background,...a.config.Background},Border:{...K.Border,...a.config.Border},Shadow:{...K.Shadow,...a.config.Shadow},ImageBadges:{...K.ImageBadges,...a.config.ImageBadges},EnhancedDetection:{...K.EnhancedDetection,...a.config.EnhancedDetection},Performance:{...K.Performance,...a.config.Performance}};i(e)}else i(K)}catch(e){console.error("Error loading audio settings:",e),p.oR.error("Failed to load audio badge settings"),i(K)}finally{a(!1)}},[]),m=(0,n.useCallback)(async()=>{t(!0);try{await Y("badge_settings_audio.yml",r),p.oR.success("Audio badge settings saved successfully!")}catch(e){console.error("Error saving audio settings:",e),p.oR.error("Failed to save audio badge settings")}finally{t(!1)}},[r]),h=(0,n.useCallback)((e,a)=>{i(s=>{let t=e.split("."),n={...s},r=n;for(let e=0;e<t.length-1;e++)r[t[e]]={...r[t[e]]},r=r[t[e]];return r[t[t.length-1]]=a,n})},[]),g=(0,n.useCallback)((e,a)=>!!e&&!!a&&(i(s=>({...s,ImageBadges:{...s.ImageBadges,image_mapping:{...s.ImageBadges.image_mapping,[e]:a}}})),!0),[]),x=(0,n.useCallback)(e=>{i(a=>{let s={...a.ImageBadges.image_mapping};return delete s[e],{...a,ImageBadges:{...a.ImageBadges,image_mapping:s}}})},[]),u=(0,n.useCallback)((e,a)=>{e!==a&&a.trim()&&i(s=>{let t=s.ImageBadges.image_mapping[e],n={...s.ImageBadges.image_mapping};return delete n[e],n[a]=t,{...s,ImageBadges:{...s.ImageBadges,image_mapping:n}}})},[]),j=(0,n.useCallback)(async()=>{try{let e=await fetch("/api/v1/settings/audio/coverage");if(!e.ok)throw Error(`Analysis failed: ${e.statusText}`);return await e.json()}catch(e){return console.error("Audio coverage analysis failed:",e),p.oR.error("Failed to analyze audio coverage"),null}},[]),v=(0,n.useCallback)(async()=>{try{let e=await fetch("/api/v1/settings/audio/cache/stats");if(!e.ok)throw Error(`Cache stats failed: ${e.statusText}`);return await e.json()}catch(e){return console.error("Audio cache stats failed:",e),p.oR.error("Failed to get cache statistics"),null}},[]);return{loading:e,saving:s,settings:r,availableFonts:l,loadSettings:o,loadFonts:c,saveSettings:m,updateSetting:h,addAudioMapping:g,removeAudioMapping:x,updateCodecName:u,runAudioCoverageAnalysis:j,getCacheStats:v,clearAudioCache:(0,n.useCallback)(async()=>{try{let e=await fetch("/api/v1/settings/audio/cache",{method:"DELETE"});if(!e.ok)throw Error(`Cache clear failed: ${e.statusText}`);return p.oR.success("Audio cache cleared successfully"),!0}catch(e){return console.error("Audio cache clear failed:",e),p.oR.error("Failed to clear audio cache"),!1}},[]),testEnhancedDetection:(0,n.useCallback)(async e=>{try{let a=await fetch("/api/v1/settings/audio/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e||{})});if(!a.ok)throw Error(`Detection test failed: ${a.statusText}`);return await a.json()}catch(e){return console.error("Audio detection test failed:",e),p.oR.error("Failed to test enhanced detection"),null}},[])}}();return e?(0,t.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,t.jsx)(d.A,{className:"h-8 w-8 animate-spin"}),(0,t.jsx)("span",{className:"ml-2",children:"Loading audio badge settings..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f,{className:"h-6 w-6"}),(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Enhanced Audio Badge Settings"}),(0,t.jsx)(g.E,{variant:"outline",children:"Advanced Configuration"})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m()},className:"space-y-6",children:[(0,t.jsxs)(l.tU,{defaultValue:"general",className:"space-y-6",children:[(0,t.jsxs)(l.j7,{className:"grid w-full grid-cols-9",children:[(0,t.jsx)(l.Xi,{value:"general",children:"General"}),(0,t.jsx)(l.Xi,{value:"text",children:"Text"}),(0,t.jsx)(l.Xi,{value:"background",children:"Background"}),(0,t.jsx)(l.Xi,{value:"border",children:"Border"}),(0,t.jsx)(l.Xi,{value:"shadow",children:"Shadow"}),(0,t.jsx)(l.Xi,{value:"images",children:"Images"}),(0,t.jsx)(l.Xi,{value:"enhanced",children:"Enhanced"}),(0,t.jsx)(l.Xi,{value:"performance",children:"Performance"}),(0,t.jsx)(l.Xi,{value:"diagnostics",children:"Diagnostics"})]}),(0,t.jsx)(l.av,{value:"general",children:(0,t.jsx)(_,{settings:s,updateSetting:h})}),(0,t.jsx)(l.av,{value:"text",children:(0,t.jsx)(S,{settings:s,updateSetting:h,availableFonts:r})}),(0,t.jsx)(l.av,{value:"background",children:(0,t.jsx)(A,{settings:s,updateSetting:h})}),(0,t.jsx)(l.av,{value:"border",children:(0,t.jsx)(I,{settings:s,updateSetting:h})}),(0,t.jsx)(l.av,{value:"shadow",children:(0,t.jsx)(T,{settings:s,updateSetting:h})}),(0,t.jsx)(l.av,{value:"images",children:(0,t.jsx)(F,{settings:s,updateSetting:h,addAudioMapping:x,removeAudioMapping:j,updateCodecName:v})}),(0,t.jsx)(l.av,{value:"enhanced",children:(0,t.jsx)(z,{settings:s,updateSetting:h})}),(0,t.jsx)(l.av,{value:"performance",children:(0,t.jsx)(G,{settings:s,updateSetting:h})}),(0,t.jsx)(l.av,{value:"diagnostics",children:(0,t.jsx)(U,{settings:s,runAudioCoverageAnalysis:b,getCacheStats:y,clearAudioCache:N,testEnhancedDetection:w})})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(o.$,{type:"submit",disabled:a,children:[a?(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Audio Settings"]})})]})]})}},{id:"resolution",name:"Resolution",component:function(){let{loading:e,saving:a,settings:s,availableFonts:r,loadSettings:i,loadFonts:c,saveSettings:m,updateSetting:h,addResolutionMapping:x,removeResolutionMapping:j,updateResolutionName:v,runImageCoverageAnalysis:f,getCacheStats:b,clearResolutionCache:y,testEnhancedDetection:_}=function(){let[e,a]=(0,n.useState)(!1),[s,t]=(0,n.useState)(!1),[r,i]=(0,n.useState)(e6),[l,d]=(0,n.useState)([]),c=async()=>{t(!0);try{console.log("Saving resolution settings:",r),await Y("badge_settings_resolution.yml",r),console.log("Save successful"),p.oR.success("Resolution badge settings saved successfully!",{description:"Your settings have been updated and saved.",duration:3e3})}catch(e){console.error("Error saving resolution settings:",e),p.oR.error("Failed to save resolution badge settings",{description:e instanceof Error?e.message:"Unknown error occurred",duration:5e3})}finally{t(!1)}};return{loading:e,saving:s,settings:r,availableFonts:l,loadSettings:async()=>{a(!0);try{console.log("Loading resolution settings...");let e=await fetch("/api/v1/config/badge_settings_resolution.yml"),a=await e.json();if(console.log("Loaded resolution config:",a),a.config&&Object.keys(a.config).length>0){let e={...e6,...a.config,General:{...e6.General,...a.config.General},Text:{...e6.Text,...a.config.Text},Background:{...e6.Background,...a.config.Background},Border:{...e6.Border,...a.config.Border},Shadow:{...e6.Shadow,...a.config.Shadow},ImageBadges:{...e6.ImageBadges,...a.config.ImageBadges},enhanced_detection:{...e6.enhanced_detection,...a.config.enhanced_detection},performance:{...e6.performance,...a.config.performance}};i(e),console.log("Settings loaded successfully")}else console.log("No existing config found, using defaults"),i(e6)}catch(e){console.error("Error loading resolution settings:",e),p.oR.error("Failed to load resolution badge settings",{description:e instanceof Error?e.message:"Unknown error occurred",duration:5e3}),i(e6)}finally{a(!1)}},loadFonts:async()=>{try{console.log("Loading available fonts...");let e=await k();d(e)}catch(e){console.error("Error loading fonts:",e),d([])}},saveSettings:c,updateSetting:(e,a,s)=>{i(t=>({...t,[e]:{...t[e],[a]:s}}))},addResolutionMapping:(e,a)=>{e&&a&&(i(s=>({...s,ImageBadges:{...s.ImageBadges,image_mapping:{...s.ImageBadges.image_mapping,[e]:a}}})),p.oR.success(`Added resolution mapping: ${e} → ${a}`,{duration:2e3}))},removeResolutionMapping:e=>{i(a=>{let s={...a.ImageBadges.image_mapping};return delete s[e],{...a,ImageBadges:{...a.ImageBadges,image_mapping:s}}}),p.oR.info(`Removed resolution mapping: ${e}`,{duration:2e3})},updateResolutionName:(e,a)=>{e!==a&&a.trim()&&i(s=>{let t=s.ImageBadges.image_mapping[e],n={...s.ImageBadges.image_mapping};return delete n[e],n[a]=t,{...s,ImageBadges:{...s.ImageBadges,image_mapping:n}}})},runImageCoverageAnalysis:async()=>{try{let e=await fetch("/api/v1/settings/resolution/coverage");return await e.json()}catch(e){throw console.error("Image coverage analysis failed:",e),e}},getCacheStats:async()=>{try{let e=await fetch("/api/v1/settings/resolution/cache/stats");return await e.json()}catch(e){throw console.error("Cache stats retrieval failed:",e),e}},clearResolutionCache:async()=>{try{let e=await fetch("/api/v1/settings/resolution/cache",{method:"DELETE"});return await e.json()}catch(e){throw console.error("Cache clear failed:",e),e}},testEnhancedDetection:async()=>{try{let e=await fetch("/api/v1/settings/resolution/test",{method:"POST"});return await e.json()}catch(e){throw console.error("Detection test failed:",e),e}}}}();return e?(0,t.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,t.jsx)(d.A,{className:"h-8 w-8 animate-spin"}),(0,t.jsx)("span",{className:"ml-2",children:"Loading resolution badge settings..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Q,{className:"h-6 w-6"}),(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Resolution Badge Settings"}),(0,t.jsx)(g.E,{variant:"outline",children:"Badge Configuration"})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m()},className:"space-y-6",children:[(0,t.jsxs)(l.tU,{defaultValue:"general",className:"space-y-6",children:[(0,t.jsxs)(l.j7,{className:"grid w-full grid-cols-9",children:[(0,t.jsx)(l.Xi,{value:"general",children:"General"}),(0,t.jsx)(l.Xi,{value:"text",children:"Text"}),(0,t.jsx)(l.Xi,{value:"background",children:"Background"}),(0,t.jsx)(l.Xi,{value:"border",children:"Border"}),(0,t.jsx)(l.Xi,{value:"shadow",children:"Shadow"}),(0,t.jsx)(l.Xi,{value:"images",children:"Images"}),(0,t.jsx)(l.Xi,{value:"enhanced",children:"Enhanced"}),(0,t.jsx)(l.Xi,{value:"performance",children:"Performance"}),(0,t.jsx)(l.Xi,{value:"diagnostics",children:"Diagnostics"})]}),(0,t.jsx)(l.av,{value:"general",children:(0,t.jsx)(ee,{settings:s,updateSetting:h})}),(0,t.jsx)(l.av,{value:"text",children:(0,t.jsx)(ea,{settings:s,updateSetting:h,availableFonts:r})}),(0,t.jsx)(l.av,{value:"background",children:(0,t.jsx)(es,{settings:s,updateSetting:h})}),(0,t.jsx)(l.av,{value:"border",children:(0,t.jsx)(et,{settings:s,updateSetting:h})}),(0,t.jsx)(l.av,{value:"shadow",children:(0,t.jsx)(en,{settings:s,updateSetting:h})}),(0,t.jsx)(l.av,{value:"images",children:(0,t.jsx)(er,{settings:s,updateSetting:h,addResolutionMapping:x,removeResolutionMapping:j,updateResolutionName:v})}),(0,t.jsx)(l.av,{value:"enhanced",children:(0,t.jsx)(ec,{settings:s,updateSetting:h})}),(0,t.jsx)(l.av,{value:"performance",children:(0,t.jsx)(eU,{settings:s,updateSetting:h})}),(0,t.jsx)(l.av,{value:"diagnostics",children:(0,t.jsx)(e5,{settings:s,runImageCoverageAnalysis:f,getCacheStats:b,clearResolutionCache:y,testEnhancedDetection:_})})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(o.$,{type:"submit",disabled:a,children:[a?(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Resolution Settings"]})})]})]})}},{id:"review",name:"Review",component:function(){let{loading:e,saving:a,settings:s,reviewSources:r,reviewSourceSettings:i,availableFonts:c,loadSettings:m,loadReviewSources:h,loadFonts:x,saveSettings:j,updateSetting:v,updateReviewSource:f,updateReviewSourceSettings:b,reorderSources:y,addImageMapping:_,removeImageMapping:N,updateImageName:w}=function(){let[e,a]=(0,n.useState)(!1),[s,t]=(0,n.useState)(!1),[r,i]=(0,n.useState)(ao),[l,d]=(0,n.useState)(ah),[c,o]=(0,n.useState)(am),[m,h]=(0,n.useState)([]),g=async()=>{try{console.log("Loading review sources..."),console.log("Current reviewSources state:",l.map(e=>({name:e.source_name,enabled:e.enabled}))),l.some(e=>e.enabled!==ah.find(a=>a.id===e.id)?.enabled)?console.log("Synced data detected, keeping current reviewSources state"):(console.log("No synced data detected, using defaults"),d(ah)),o(am)}catch(e){console.error("Error loading review sources:",e),l.some(e=>e.enabled!==ah.find(a=>a.id===e.id)?.enabled)||d(ah),o(am)}},x=async()=>{t(!0);try{let e={...r.Sources};l.forEach(a=>{let s="";e[s="MyAnimeList"===a.source_name?"enable_myanimelist":`enable_${a.source_name.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"")}`]=a.enabled,console.log(`Syncing for save: ${a.source_name} -> ${s} = ${a.enabled}`)});let a={...r,Sources:e};console.log("Saving review settings:",a),console.log("Sources being saved:",e),await Y("badge_settings_review.yml",a),console.log("Save successful"),i(a),p.oR.success("Review badge settings saved successfully!",{description:"Your settings have been updated and saved.",duration:3e3})}catch(e){console.error("Error saving review settings:",e),p.oR.error("Failed to save review badge settings",{description:e instanceof Error?e.message:"Unknown error occurred",duration:5e3})}finally{t(!1)}},u=async(e=c)=>{try{console.log("Saving review source settings:",e);let a=await fetch("/api/v1/config/review_source_settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.text();throw console.error("Save review source settings failed:",e),Error(`Failed to save review source settings: ${a.status}`)}let s=await a.json();console.log("Review source settings saved successfully:",s)}catch(e){console.error("Error saving review source settings:",e),p.oR.error("Failed to save review source settings",{description:e instanceof Error?e.message:"Unknown error occurred",duration:3e3})}},j=async()=>{try{console.log("Loading review source settings...");let e=await fetch("/api/v1/config/review_source_settings");if(e.ok){let a=await e.json();if(console.log("Loaded review source settings:",a),a.config&&Object.keys(a.config).length>0){let e={...am,...a.config};o(e),console.log("Review source settings loaded successfully:",e)}else console.log("No existing review source settings found, using defaults"),o(am)}else console.log("Review source settings endpoint not found, using defaults"),o(am)}catch(e){console.error("Error loading review source settings:",e),o(am)}};return{loading:e,saving:s,settings:r,reviewSources:l,reviewSourceSettings:c,availableFonts:m,loadSettings:async()=>{a(!0);try{console.log("Loading review settings...");let e=await fetch("/api/v1/config/badge_settings_review.yml"),a=await e.json();if(console.log("Loaded review config:",a),a.config&&Object.keys(a.config).length>0){let e={...ao,...a.config,General:{...ao.General,...a.config.General},Sources:{...ao.Sources,...a.config.Sources},Text:{...ao.Text,...a.config.Text},Background:{...ao.Background,...a.config.Background},Border:{...ao.Border,...a.config.Border},Shadow:{...ao.Shadow,...a.config.Shadow},ImageBadges:{...ao.ImageBadges,...a.config.ImageBadges}};if(i(e),a.config.Sources){console.log("\uD83D\uDD04 Starting reviewSources sync with API data..."),console.log("\uD83D\uDCCA API Sources config:",a.config.Sources),console.log("\uD83D\uDCCB Default sources before sync:",ah.map(e=>({name:e.source_name,enabled:e.enabled,priority:e.priority})));let e=a.config.Sources.source_priority||ao.Sources.source_priority;console.log("\uD83D\uDCCC Saved priority order:",e);let s=ah.map(e=>{let s="";s="MyAnimeList"===e.source_name?"enable_myanimelist":`enable_${e.source_name.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"")}`;let t=a.config.Sources[s]||!1;return console.log(`🔗 Syncing ${e.source_name}: ${s} = ${t} (API: ${a.config.Sources[s]}) - Original priority: ${e.priority}`),{...e,enabled:t}});s=s.map(a=>{let s="MyAnimeList"===a.source_name?"myanimelist":"IMDb"===a.source_name?"imdb":"Rotten Tomatoes Critics"===a.source_name?"rotten_tomatoes":"Rotten Tomatoes Audience"===a.source_name?"rotten_tomatoes_audience":"Metacritic"===a.source_name?"metacritic":"TMDb"===a.source_name?"tmdb":"AniDB"===a.source_name?"anidb":"Letterboxd"===a.source_name?"letterboxd":"Trakt"===a.source_name?"trakt":"MDBList"===a.source_name?"mdblist":a.source_name.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),t=e.findIndex(e=>e===s),n=-1!==t?t+1:a.priority;return console.log(`📌 ${a.source_name}: ${s} found at index ${t} -> priority ${a.priority} -> ${n}`),{...a,priority:n,display_order:n}}),console.log("\uD83D\uDCCB Updated sources after sync:",s.map(e=>({name:e.source_name,enabled:e.enabled,priority:e.priority}))),console.log("\uD83C\uDFAF MyAnimeList specifically:",s.find(e=>"MyAnimeList"===e.source_name)),d(s),console.log("✅ Review sources synced with settings - Enabled sources:",s.filter(e=>e.enabled).map(e=>e.source_name))}else console.log("⚠️ No Sources config in API data, keeping defaults");console.log("✅ Review settings loaded successfully"),console.log("\uD83D\uDCCA Final settings state:",e.Sources),console.log("\uD83D\uDCCB Final reviewSources state will be set by sync above"),await j()}else console.log("No existing review config found, using defaults"),i(ao),d(ah),o(am)}catch(e){console.error("Error loading review settings:",e),p.oR.error("Failed to load review badge settings",{description:e instanceof Error?e.message:"Unknown error occurred",duration:5e3}),i(ao),d(ah),o(am)}finally{a(!1)}},loadReviewSources:g,loadFonts:async()=>{try{console.log("Loading available fonts..."),h(["AvenirNextLTProBold.otf","DejaVuSans.ttf","Arial","Helvetica","Times New Roman","Courier New"])}catch(e){console.error("Error loading fonts:",e),h([])}},saveSettings:x,updateSetting:(e,a,s)=>{i(t=>({...t,[e]:{...t[e],[a]:s}}))},updateReviewSource:e=>{d(a=>a.map(a=>a.id===e.id?e:a));let a="";a="MyAnimeList"===e.source_name?"enable_myanimelist":`enable_${e.source_name.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"")}`,console.log(`Updating ${e.source_name}: ${a} = ${e.enabled}`),i(s=>({...s,Sources:{...s.Sources,[a]:e.enabled}})),p.oR.info(`Updated ${e.source_name}`,{duration:2e3})},updateReviewSourceSettings:(e,a)=>{let s={...c,[e]:a};o(s),u(s)},reorderSources:e=>{console.log("\uD83D\uDD04 Reordering sources:",e.map(e=>({name:e.source_name,priority:e.priority}))),d(e);let a=e.map(e=>"MyAnimeList"===e.source_name?"myanimelist":"IMDb"===e.source_name?"imdb":"Rotten Tomatoes Critics"===e.source_name?"rotten_tomatoes":"Rotten Tomatoes Audience"===e.source_name?"rotten_tomatoes_audience":"Metacritic"===e.source_name?"metacritic":"TMDb"===e.source_name?"tmdb":"AniDB"===e.source_name?"anidb":"Letterboxd"===e.source_name?"letterboxd":"Trakt"===e.source_name?"trakt":"MDBList"===e.source_name?"mdblist":e.source_name.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""));console.log("\uD83D\uDCCC Updating source_priority array:",a),i(e=>({...e,Sources:{...e.Sources,source_priority:a}})),p.oR.success("Source priority updated",{duration:2e3})},addImageMapping:(e,a)=>{e&&a&&(i(s=>({...s,ImageBadges:{...s.ImageBadges,image_mapping:{...s.ImageBadges.image_mapping,[e]:a}}})),p.oR.success(`Added image mapping: ${e} → ${a}`,{duration:2e3}))},removeImageMapping:e=>{i(a=>{let s={...a.ImageBadges.image_mapping};return delete s[e],{...a,ImageBadges:{...a.ImageBadges,image_mapping:s}}}),p.oR.info(`Removed image mapping: ${e}`,{duration:2e3})},updateImageName:(e,a)=>{e!==a&&a.trim()&&i(s=>{let t=s.ImageBadges.image_mapping[e],n={...s.ImageBadges.image_mapping};return delete n[e],n[a]=t,{...s,ImageBadges:{...s.ImageBadges,image_mapping:n}}})}}}();return e?(0,t.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,t.jsx)(d.A,{className:"h-8 w-8 animate-spin"}),(0,t.jsx)("span",{className:"ml-2",children:"Loading review badge settings..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(e3.A,{className:"h-6 w-6"}),(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Review Badge Settings"}),(0,t.jsx)(g.E,{variant:"outline",children:"Badge Configuration"})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),j()},className:"space-y-6",children:[(0,t.jsxs)(l.tU,{defaultValue:"sources",className:"space-y-6",children:[(0,t.jsxs)(l.j7,{className:"grid w-full grid-cols-7",children:[(0,t.jsx)(l.Xi,{value:"sources",children:"Sources"}),(0,t.jsx)(l.Xi,{value:"general",children:"General"}),(0,t.jsx)(l.Xi,{value:"text",children:"Text"}),(0,t.jsx)(l.Xi,{value:"background",children:"Background"}),(0,t.jsx)(l.Xi,{value:"border",children:"Border"}),(0,t.jsx)(l.Xi,{value:"shadow",children:"Shadow"}),(0,t.jsx)(l.Xi,{value:"images",children:"Images"})]}),(0,t.jsx)(l.av,{value:"sources",children:(0,t.jsx)(ae,{settings:s,reviewSources:r,reviewSourceSettings:i,updateSetting:v,updateReviewSource:f,updateReviewSourceSettings:b,reorderSources:y})}),(0,t.jsx)(l.av,{value:"general",children:(0,t.jsx)(e8,{settings:s,updateSetting:v})}),(0,t.jsx)(l.av,{value:"text",children:(0,t.jsx)(aa,{settings:s,updateSetting:v,availableFonts:c})}),(0,t.jsx)(l.av,{value:"background",children:(0,t.jsx)(at,{settings:s,updateSetting:v})}),(0,t.jsx)(l.av,{value:"border",children:(0,t.jsx)(an,{settings:s,updateSetting:v})}),(0,t.jsx)(l.av,{value:"shadow",children:(0,t.jsx)(ai,{settings:s,updateSetting:v})}),(0,t.jsx)(l.av,{value:"images",children:(0,t.jsx)(ac,{settings:s,updateSetting:v,addImageMapping:_,removeImageMapping:N,updateImageName:w})})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(o.$,{type:"submit",disabled:a,children:[a?(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Review Settings"]})})]})]})}},{id:"awards",name:"Awards",component:function(){let{loading:e,saving:a,settings:s,availableFonts:r,loadSettings:i,loadFonts:c,saveSettings:m,updateSetting:h,addImageMapping:x,removeImageMapping:j,updateImageName:v,updateAwardSources:f}=function(){let[e,a]=(0,n.useState)(!1),[s,t]=(0,n.useState)(!1),[r,i]=(0,n.useState)(ap),[l,d]=(0,n.useState)([]),c=async()=>{t(!0);try{console.log("Saving awards settings:",r),await Y("badge_settings_awards.yml",r),console.log("Save successful"),p.oR.success("Awards badge settings saved successfully!",{description:"Your settings have been updated and saved.",duration:3e3})}catch(e){console.error("Error saving awards settings:",e),p.oR.error("Failed to save awards badge settings",{description:e instanceof Error?e.message:"Unknown error occurred",duration:5e3})}finally{t(!1)}};return{loading:e,saving:s,settings:r,availableFonts:l,loadSettings:async()=>{a(!0);try{console.log("Loading awards settings...");let e=await fetch("/api/v1/config/badge_settings_awards.yml"),a=await e.json();if(console.log("Loaded awards config:",a),a.config&&Object.keys(a.config).length>0){let e={...ap,...a.config,General:{...ap.General,...a.config.General},Awards:{...ap.Awards,...a.config.Awards},Text:{...ap.Text,...a.config.Text},Background:{...ap.Background,...a.config.Background},Border:{...ap.Border,...a.config.Border},Shadow:{...ap.Shadow,...a.config.Shadow},ImageBadges:{...ap.ImageBadges,...a.config.ImageBadges}};i(e),console.log("Awards settings loaded successfully")}else console.log("No existing awards config found, using defaults"),i(ap)}catch(e){console.error("Error loading awards settings:",e),p.oR.error("Failed to load awards badge settings",{description:e instanceof Error?e.message:"Unknown error occurred",duration:5e3}),i(ap)}finally{a(!1)}},loadFonts:async()=>{try{console.log("Loading available fonts..."),d(["AvenirNextLTProBold.otf","DejaVuSans.ttf","Arial","Helvetica","Times New Roman","Courier New"])}catch(e){console.error("Error loading fonts:",e),d([])}},saveSettings:c,updateSetting:(e,a,s)=>{i(t=>({...t,[e]:{...t[e],[a]:s}}))},addImageMapping:(e,a)=>{e&&a&&(i(s=>({...s,ImageBadges:{...s.ImageBadges,image_mapping:{...s.ImageBadges.image_mapping,[e]:a}}})),p.oR.success(`Added image mapping: ${e} → ${a}`,{duration:2e3}))},removeImageMapping:e=>{i(a=>{let s={...a.ImageBadges.image_mapping};return delete s[e],{...a,ImageBadges:{...a.ImageBadges,image_mapping:s}}}),p.oR.info(`Removed image mapping: ${e}`,{duration:2e3})},updateImageName:(e,a)=>{e!==a&&a.trim()&&i(s=>{let t=s.ImageBadges.image_mapping[e],n={...s.ImageBadges.image_mapping};return delete n[e],n[a]=t,{...s,ImageBadges:{...s.ImageBadges,image_mapping:n}}})},updateAwardSources:e=>{i(a=>({...a,Awards:{...a.Awards,award_sources:e}}))}}}();return e?(0,t.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,t.jsx)(d.A,{className:"h-8 w-8 animate-spin"}),(0,t.jsx)("span",{className:"ml-2",children:"Loading awards badge settings..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ag,{className:"h-6 w-6"}),(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Awards Badge Settings"}),(0,t.jsx)(g.E,{variant:"outline",children:"Badge Configuration"})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m()},className:"space-y-6",children:[(0,t.jsxs)(l.tU,{defaultValue:"general",className:"space-y-6",children:[(0,t.jsxs)(l.j7,{className:"grid w-full grid-cols-7",children:[(0,t.jsx)(l.Xi,{value:"general",children:"General"}),(0,t.jsx)(l.Xi,{value:"awards",children:"Awards"}),(0,t.jsx)(l.Xi,{value:"text",children:"Text"}),(0,t.jsx)(l.Xi,{value:"background",children:"Background"}),(0,t.jsx)(l.Xi,{value:"border",children:"Border"}),(0,t.jsx)(l.Xi,{value:"shadow",children:"Shadow"}),(0,t.jsx)(l.Xi,{value:"images",children:"Images"})]}),(0,t.jsx)(l.av,{value:"general",children:(0,t.jsx)(ax,{settings:s,updateSetting:h})}),(0,t.jsx)(l.av,{value:"awards",children:(0,t.jsx)(af,{settings:s,updateSetting:h,updateAwardSources:f})}),(0,t.jsx)(l.av,{value:"text",children:(0,t.jsx)(ab,{settings:s,updateSetting:h,availableFonts:r})}),(0,t.jsx)(l.av,{value:"background",children:(0,t.jsx)(ay,{settings:s,updateSetting:h})}),(0,t.jsx)(l.av,{value:"border",children:(0,t.jsx)(a_,{settings:s,updateSetting:h})}),(0,t.jsx)(l.av,{value:"shadow",children:(0,t.jsx)(aN,{settings:s,updateSetting:h})}),(0,t.jsx)(l.av,{value:"images",children:(0,t.jsx)(aw,{settings:s,updateSetting:h,addImageMapping:x,removeImageMapping:j,updateImageName:v})})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(o.$,{type:"submit",disabled:a,children:[a?(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),a?"Saving...":"Save Awards Settings"]})})]})]})}}],aB=[{file:"settings.yaml",key:"api",name:"API Settings"},{file:"badge_settings_audio.yml",key:"audio",name:"Audio Settings"},{file:"badge_settings_resolution.yml",key:"resolution",name:"Resolution Settings"},{file:"badge_settings_review.yml",key:"review",name:"Review Settings"},{file:"badge_settings_awards.yml",key:"awards",name:"Awards Settings"}];function aS(){return(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)(aA,{}),children:(0,t.jsx)(aI,{})})}function aA(){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Configure your Aphrodite system settings"})]}),(0,t.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,t.jsx)(d.A,{className:"h-8 w-8 animate-spin"})})]})}function aI(){let[e,a]=(0,n.useState)(!0),[s,o]=(0,n.useState)({api:!1,audio:!1,resolution:!1,review:!1,awards:!1}),m=(0,r.useSearchParams)();(0,r.useRouter)();let[h,g]=(0,n.useState)(m.get("tab")||"api");return e?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Configure your Aphrodite system settings"})]}),(0,t.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,t.jsxs)(i.Zp,{className:"w-full max-w-md",children:[(0,t.jsxs)(i.aR,{className:"text-center",children:[(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsx)(d.A,{className:"h-8 w-8 animate-spin text-primary"})}),(0,t.jsx)(i.ZB,{children:"Loading settings..."}),(0,t.jsx)(i.BT,{children:"Checking configuration files"})]}),(0,t.jsx)(i.Wu,{className:"space-y-3",children:aB.map(({name:e,key:a})=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[s[a]?(0,t.jsx)(c.A,{className:"h-4 w-4 text-green-600"}):(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{className:"text-sm",children:e})]},a))})]})})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Configure your Aphrodite system settings"})]}),(0,t.jsxs)(l.tU,{value:h,onValueChange:g,className:"w-full",children:[(0,t.jsx)(l.j7,{className:"grid w-full grid-cols-5",children:aC.map(e=>(0,t.jsx)(l.Xi,{value:e.id,children:e.name},e.id))}),aC.map(e=>{let a=e.component;return(0,t.jsx)(l.av,{value:e.id,children:(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-6",children:(0,t.jsx)(a,{})})})},e.id)})]})]})}},88233:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(62688).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},91821:(e,a,s)=>{"use strict";s.d(a,{Fc:()=>l,TN:()=>c,XL:()=>d});var t=s(60687);s(43210);var n=s(24224),r=s(4780);let i=(0,n.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function l({className:e,variant:a,...s}){return(0,t.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,r.cn)(i({variant:a}),e),...s})}function d({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"alert-title",className:(0,r.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...a})}function c({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"alert-description",className:(0,r.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...a})}},96474:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(62688).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},97840:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(62688).A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[447,264,658,77,343,891],()=>s(48463));module.exports=t})();