(()=>{var e={};e.id=547,e.ids=[298,547],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1860:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2688).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2369:(e,t,s)=>{"use strict";s.d(t,{b:()=>d});var a=s(3210),r=s(4163),n=s(687),i="horizontal",l=["horizontal","vertical"],c=a.forwardRef((e,t)=>{var s;let{decorative:a,orientation:c=i,...d}=e,o=(s=c,l.includes(s))?c:i;return(0,n.jsx)(r.sG.div,{"data-orientation":o,...a?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...d,ref:t})});c.displayName="Separator";var d=c},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3503:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>u,Es:()=>p,L3:()=>m,c7:()=>h,lG:()=>l,rr:()=>x,zM:()=>c});var a=s(687);s(3210);var r=s(6134),n=s(1860),i=s(4780);function l({...e}){return(0,a.jsx)(r.bL,{"data-slot":"dialog",...e})}function c({...e}){return(0,a.jsx)(r.l9,{"data-slot":"dialog-trigger",...e})}function d({...e}){return(0,a.jsx)(r.ZL,{"data-slot":"dialog-portal",...e})}function o({className:e,...t}){return(0,a.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function u({className:e,children:t,showCloseButton:s=!0,...l}){return(0,a.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,a.jsx)(o,{}),(0,a.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...l,children:[t,s&&(0,a.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function h({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function p({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function m({className:e,...t}){return(0,a.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",e),...t})}function x({className:e,...t}){return(0,a.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",e),...t})}},3613:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2688).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3873:e=>{"use strict";e.exports=require("path")},4298:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,apiService:()=>l});let a=()=>"",r=e=>{let t=a();return`${t}${e}`};class n extends Error{constructor(e,t,s){super(e),this.status=t,this.response=s,this.name="ApiError"}}async function i(e){if(console.log(`ðŸŒ API Response: ${e.status} ${e.url}`),!e.ok){let t=`HTTP ${e.status}: ${e.statusText}`;try{let s=await e.json();t=s.error||s.message||t}catch{}throw console.error(`âŒ API Error: ${t} (${e.url})`),new n(t,e.status)}try{let t=await e.json();return console.log(`âœ… API Success: ${e.url}`),t}catch{return console.log(`âš ï¸ API No JSON: ${e.url}`),{}}}let l={getConfig:async e=>i(await fetch(r(`/api/v1/config/${e}`))),updateConfig:async(e,t)=>i(await fetch(r(`/api/v1/config/${e}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})),getConfigFiles:async()=>i(await fetch(r("/api/v1/config/files"))),testJellyfinConnection:async e=>i(await fetch(r("/api/v1/config/test-jellyfin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),testConnection:async(e,t)=>i(await fetch(r(`/api/v1/config/test-${e}`),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})),getSystemStatus:async()=>i(await fetch(r("/health/detailed"))),getSystemInfo:async()=>i(await fetch(r("/api/v1/system/info"))),getSystemConfig:async()=>i(await fetch(r("/api/v1/config/system"))),getPreviewBadgeTypes:async()=>i(await fetch(r("/api/v1/preview/badge-types"))),generatePreview:async e=>i(await fetch(r("/api/v1/preview/generate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),getPreviewLibraries:async()=>i(await fetch(r("/api/v1/preview/libraries"))),async getPreviewMedia(e){let t=new URLSearchParams;e?.library_id&&t.set("library_id",e.library_id),e?.search&&t.set("search",e.search),e?.page&&t.set("page",e.page.toString()),e?.limit&&t.set("limit",e.limit.toString());let s=r(`/api/v1/preview/media${t.toString()?"?"+t.toString():""}`);return i(await fetch(s))},async getMedia(e){let t=new URLSearchParams;e?.page&&t.set("page",e.page.toString()),e?.per_page&&t.set("per_page",e.per_page.toString()),e?.search&&t.set("search",e.search),e?.media_type&&t.set("media_type",e.media_type);let s=r(`/api/v1/media${t.toString()?"?"+t.toString():""}`);return i(await fetch(s))},getMediaItem:async e=>i(await fetch(r(`/api/v1/media/${e}`))),scanLibrary:async()=>i(await fetch(r("/api/v1/media/scan"),{method:"POST"})),async getJobs(e){let t=new URLSearchParams;e?.user_id&&t.set("user_id",e.user_id);let s=r(`/api/v1/workflow/jobs/${t.toString()?"?"+t.toString():""}`);return i(await fetch(s))},createJob:async e=>i(await fetch(r("/api/v1/jobs"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),getJob:async e=>i(await fetch(r(`/api/v1/workflow/jobs/${e}`))),async getSchedules(e){let t=new URLSearchParams;e?.skip&&t.set("skip",e.skip.toString()),e?.limit&&t.set("limit",e.limit.toString());let s=r(`/api/v1/schedules${t.toString()?"?"+t.toString():""}`);return i(await fetch(s))},createSchedule:async e=>i(await fetch(r("/api/v1/schedules"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),updateSchedule:async(e,t)=>i(await fetch(r(`/api/v1/schedules/${e}`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})),deleteSchedule:async e=>i(await fetch(r(`/api/v1/schedules/${e}`),{method:"DELETE"})),async getScheduleHistory(e){let t=new URLSearchParams;e?.skip&&t.set("skip",e.skip.toString()),e?.limit&&t.set("limit",e.limit.toString()),e?.schedule_id&&t.set("schedule_id",e.schedule_id),e?.status&&t.set("status",e.status);let s=r(`/api/v1/schedules/executions/history${t.toString()?"?"+t.toString():""}`);return i(await fetch(s))},executeSchedule:async e=>i(await fetch(r(`/api/v1/schedules/${e}/execute`),{method:"POST"})),getScheduleBadgeTypes:async()=>i(await fetch(r("/api/v1/schedules/config/badge-types"))),getScheduleCronPresets:async()=>i(await fetch(r("/api/v1/schedules/config/cron-presets"))),getScheduleLibraries:async()=>i(await fetch(r("/api/v1/schedules/config/libraries"))),getAnalyticsOverview:async()=>i(await fetch(r("/api/v1/analytics/overview"))),getJobStatusDistribution:async()=>i(await fetch(r("/api/v1/analytics/jobs/status-distribution"))),getProcessingTrends:async(e=30)=>i(await fetch(r(`/api/v1/analytics/jobs/trends?days=${e}`))),getJobTypeDistribution:async()=>i(await fetch(r("/api/v1/analytics/jobs/types"))),getScheduleAnalytics:async()=>i(await fetch(r("/api/v1/analytics/schedules"))),getSystemPerformance:async()=>i(await fetch(r("/api/v1/analytics/performance")))},c=l},4661:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\programming\\\\aphrodite\\\\frontend\\\\src\\\\app\\\\schedules\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\programming\\aphrodite\\frontend\\src\\app\\schedules\\page.tsx","default")},5071:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2688).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},5155:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>o,routeModule:()=>h,tree:()=>d});var a=s(5239),r=s(8088),n=s(8170),i=s.n(n),l=s(893),c={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let d={children:["",{children:["schedules",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4661)),"E:\\programming\\aphrodite\\frontend\\src\\app\\schedules\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,4431)),"E:\\programming\\aphrodite\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["E:\\programming\\aphrodite\\frontend\\src\\app\\schedules\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/schedules/page",pathname:"/schedules",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5950:(e,t,s)=>{"use strict";s.d(t,{w:()=>i});var a=s(687);s(3210);var r=s(2369),n=s(4780);function i({className:e,orientation:t="horizontal",decorative:s=!0,...i}){return(0,a.jsx)(r.b,{"data-slot":"separator",decorative:s,orientation:t,className:(0,n.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...i})}},6134:(e,t,s)=>{"use strict";s.d(t,{UC:()=>es,VY:()=>er,ZL:()=>ee,bL:()=>K,bm:()=>en,hE:()=>ea,hJ:()=>et,l9:()=>Q});var a=s(3210),r=s(569),n=s(8599),i=s(1273),l=s(6963),c=s(5551),d=s(1355),o=s(2547),u=s(5028),h=s(6059),p=s(4163),m=s(1359),x=s(2247),g=s(3376),f=s(8730),y=s(687),j="Dialog",[v,b]=(0,i.A)(j),[w,N]=v(j),S=e=>{let{__scopeDialog:t,children:s,open:r,defaultOpen:n,onOpenChange:i,modal:d=!0}=e,o=a.useRef(null),u=a.useRef(null),[h,p]=(0,c.i)({prop:r,defaultProp:n??!1,onChange:i,caller:j});return(0,y.jsx)(w,{scope:t,triggerRef:o,contentRef:u,contentId:(0,l.B)(),titleId:(0,l.B)(),descriptionId:(0,l.B)(),open:h,onOpenChange:p,onOpenToggle:a.useCallback(()=>p(e=>!e),[p]),modal:d,children:s})};S.displayName=j;var k="DialogTrigger",C=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,i=N(k,s),l=(0,n.s)(t,i.triggerRef);return(0,y.jsx)(p.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":G(i.open),...a,ref:l,onClick:(0,r.m)(e.onClick,i.onOpenToggle)})});C.displayName=k;var A="DialogPortal",[_,P]=v(A,{forceMount:void 0}),R=e=>{let{__scopeDialog:t,forceMount:s,children:r,container:n}=e,i=N(A,t);return(0,y.jsx)(_,{scope:t,forceMount:s,children:a.Children.map(r,e=>(0,y.jsx)(h.C,{present:s||i.open,children:(0,y.jsx)(u.Z,{asChild:!0,container:n,children:e})}))})};R.displayName=A;var E="DialogOverlay",M=a.forwardRef((e,t)=>{let s=P(E,e.__scopeDialog),{forceMount:a=s.forceMount,...r}=e,n=N(E,e.__scopeDialog);return n.modal?(0,y.jsx)(h.C,{present:a||n.open,children:(0,y.jsx)($,{...r,ref:t})}):null});M.displayName=E;var T=(0,f.TL)("DialogOverlay.RemoveScroll"),$=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=N(E,s);return(0,y.jsx)(x.A,{as:T,allowPinchZoom:!0,shards:[r.contentRef],children:(0,y.jsx)(p.sG.div,{"data-state":G(r.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),D="DialogContent",F=a.forwardRef((e,t)=>{let s=P(D,e.__scopeDialog),{forceMount:a=s.forceMount,...r}=e,n=N(D,e.__scopeDialog);return(0,y.jsx)(h.C,{present:a||n.open,children:n.modal?(0,y.jsx)(O,{...r,ref:t}):(0,y.jsx)(I,{...r,ref:t})})});F.displayName=D;var O=a.forwardRef((e,t)=>{let s=N(D,e.__scopeDialog),i=a.useRef(null),l=(0,n.s)(t,s.contentRef,i);return a.useEffect(()=>{let e=i.current;if(e)return(0,g.Eq)(e)},[]),(0,y.jsx)(z,{...e,ref:l,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.m)(e.onCloseAutoFocus,e=>{e.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:(0,r.m)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey;(2===t.button||s)&&e.preventDefault()}),onFocusOutside:(0,r.m)(e.onFocusOutside,e=>e.preventDefault())})}),I=a.forwardRef((e,t)=>{let s=N(D,e.__scopeDialog),r=a.useRef(!1),n=a.useRef(!1);return(0,y.jsx)(z,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||s.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(n.current=!0));let a=t.target;s.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),z=a.forwardRef((e,t)=>{let{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,...c}=e,u=N(D,s),h=a.useRef(null),p=(0,n.s)(t,h);return(0,m.Oh)(),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(o.n,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:l,children:(0,y.jsx)(d.qW,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":G(u.open),...c,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(X,{titleId:u.titleId}),(0,y.jsx)(Y,{contentRef:h,descriptionId:u.descriptionId})]})]})}),L="DialogTitle",J=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=N(L,s);return(0,y.jsx)(p.sG.h2,{id:r.titleId,...a,ref:t})});J.displayName=L;var q="DialogDescription",B=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=N(q,s);return(0,y.jsx)(p.sG.p,{id:r.descriptionId,...a,ref:t})});B.displayName=q;var W="DialogClose",Z=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,n=N(W,s);return(0,y.jsx)(p.sG.button,{type:"button",...a,ref:t,onClick:(0,r.m)(e.onClick,()=>n.onOpenChange(!1))})});function G(e){return e?"open":"closed"}Z.displayName=W;var H="DialogTitleWarning",[U,V]=(0,i.q)(H,{contentName:D,titleName:L,docsSlug:"dialog"}),X=({titleId:e})=>{let t=V(H),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},Y=({contentRef:e,descriptionId:t})=>{let s=V("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return a.useEffect(()=>{let s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},K=S,Q=C,ee=R,et=M,es=F,ea=J,er=B,en=Z},6474:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2688).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7479:(e,t,s)=>{"use strict";s.d(t,{d:()=>N});var a=s(687),r=s(3210),n=s(569),i=s(8599),l=s(1273),c=s(5551),d=s(3721),o=s(8853),u=s(4163),h="Switch",[p,m]=(0,l.A)(h),[x,g]=p(h),f=r.forwardRef((e,t)=>{let{__scopeSwitch:s,name:l,checked:d,defaultChecked:o,required:p,disabled:m,value:g="on",onCheckedChange:f,form:y,...j}=e,[w,N]=r.useState(null),S=(0,i.s)(t,e=>N(e)),k=r.useRef(!1),C=!w||y||!!w.closest("form"),[A,_]=(0,c.i)({prop:d,defaultProp:o??!1,onChange:f,caller:h});return(0,a.jsxs)(x,{scope:s,checked:A,disabled:m,children:[(0,a.jsx)(u.sG.button,{type:"button",role:"switch","aria-checked":A,"aria-required":p,"data-state":b(A),"data-disabled":m?"":void 0,disabled:m,value:g,...j,ref:S,onClick:(0,n.m)(e.onClick,e=>{_(e=>!e),C&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),C&&(0,a.jsx)(v,{control:w,bubbles:!k.current,name:l,value:g,checked:A,required:p,disabled:m,form:y,style:{transform:"translateX(-100%)"}})]})});f.displayName=h;var y="SwitchThumb",j=r.forwardRef((e,t)=>{let{__scopeSwitch:s,...r}=e,n=g(y,s);return(0,a.jsx)(u.sG.span,{"data-state":b(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:t})});j.displayName=y;var v=r.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:n=!0,...l},c)=>{let u=r.useRef(null),h=(0,i.s)(u,c),p=(0,d.Z)(s),m=(0,o.X)(t);return r.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==s&&t){let a=new Event("click",{bubbles:n});t.call(e,s),e.dispatchEvent(a)}},[p,s,n]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...l,tabIndex:-1,ref:h,style:{...l.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function b(e){return e?"checked":"unchecked"}v.displayName="SwitchBubbleInput";var w=s(4780);function N({className:e,...t}){return(0,a.jsx)(f,{"data-slot":"switch",className:(0,w.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,a.jsx)(j,{"data-slot":"switch-thumb",className:(0,w.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}},7840:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2688).A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},8122:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2688).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8233:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2688).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8346:(e,t,s)=>{Promise.resolve().then(s.bind(s,9180))},8434:(e,t,s)=>{Promise.resolve().then(s.bind(s,4661))},8819:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2688).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9180:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>F});var a=s(687),r=s(3210),n=s(7463),i=s(9523),l=s(4493),c=s(6834),d=s(7479),o=s(3503),u=s(6474),h=s(6349),p=s(7840),m=s(2688);let x=(0,m.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var g=s(8233),f=s(4298),y=s(2581);function j({onCreateSchedule:e,onEditSchedule:t}){let[s,n]=(0,r.useState)([]),[m,j]=(0,r.useState)(!0),[v,b]=(0,r.useState)(!1),[w,N]=(0,r.useState)(null),[S,k]=(0,r.useState)(!1),C=async()=>{try{j(!0);let e=await f.apiService.getSchedules();n(e)}catch(e){console.error("Failed to fetch schedules:",e),y.oR.error("Failed to load schedules")}finally{j(!1)}},A=async e=>{try{await f.apiService.updateSchedule(e.id,{enabled:!e.enabled}),await C(),y.oR.success(`Schedule ${!e.enabled?"enabled":"disabled"}`)}catch(e){console.error("Failed to toggle schedule:",e),y.oR.error("Failed to update schedule")}},_=async e=>{N(e),b(!0)},P=async()=>{if(w)try{k(!0),await f.apiService.deleteSchedule(w.id),await C(),y.oR.success("Schedule deleted successfully")}catch(e){console.error("Failed to delete schedule:",e),y.oR.error("Failed to delete schedule")}finally{k(!1),b(!1),N(null)}},R=async e=>{try{await f.apiService.executeSchedule(e.id),y.oR.success("Schedule execution started")}catch(e){console.error("Failed to execute schedule:",e),y.oR.error("Failed to execute schedule")}},E=e=>({"0 * * * *":"Every hour","0 2 * * *":"Daily at 2:00 AM","0 2 * * 0":"Weekly (Sunday 2:00 AM)","0 2 1 * *":"Monthly (1st day 2:00 AM)","0 */6 * * *":"Every 6 hours","0 2 * * 1-5":"Weekdays at 2:00 AM","0 2 * * 6,0":"Weekends at 2:00 AM","0 2,14 * * *":"Twice daily (2:00 AM & 2:00 PM)"})[e]||e;return m?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Active Schedules"}),(0,a.jsxs)(i.$,{onClick:e,disabled:!0,children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Create Schedule"]})]}),(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(h.A,{className:"h-8 w-8 mx-auto mb-2 animate-spin"}),(0,a.jsx)("p",{children:"Loading schedules..."})]})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Active Schedules"}),(0,a.jsxs)(i.$,{onClick:e,children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Create Schedule"]})]}),0===s.length?(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"text-center py-8",children:[(0,a.jsx)(h.A,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No schedules found"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"Create your first schedule to automate poster processing"}),(0,a.jsxs)(i.$,{onClick:e,children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Create Schedule"]})]})}):(0,a.jsx)("div",{className:"grid gap-4",children:s.map(e=>(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[e.name,(0,a.jsx)(c.E,{variant:e.enabled?"default":"secondary",children:e.enabled?"Enabled":"Disabled"})]}),(0,a.jsxs)(l.BT,{children:[E(e.cron_expression)," â€¢ ",e.timezone]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.d,{checked:e.enabled,onCheckedChange:()=>A(e)}),(0,a.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>R(e),disabled:!e.enabled,children:(0,a.jsx)(p.A,{className:"h-4 w-4"})}),(0,a.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>t(e),children:(0,a.jsx)(x,{className:"h-4 w-4"})}),(0,a.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>_(e),children:(0,a.jsx)(g.A,{className:"h-4 w-4"})})]})]})}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Badge Types: "}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:e.badge_types.length>0?e.badge_types.join(", "):"None"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Target Libraries: "}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:e.target_libraries.length>0?`${e.target_libraries.length} selected`:"All libraries"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Reprocess All: "}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:e.reprocess_all?"Yes":"No"})]})]})})]},e.id))}),(0,a.jsx)(o.lG,{open:v,onOpenChange:b,children:(0,a.jsxs)(o.Cf,{children:[(0,a.jsxs)(o.c7,{children:[(0,a.jsx)(o.L3,{children:"Delete Schedule"}),(0,a.jsxs)(o.rr,{children:['Are you sure you want to delete "',w?.name,'"? This action cannot be undone.']})]}),(0,a.jsxs)(o.Es,{children:[(0,a.jsx)(i.$,{variant:"outline",onClick:()=>{b(!1),N(null)},children:"Cancel"}),(0,a.jsx)(i.$,{variant:"destructive",onClick:P,disabled:S,children:S?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete Schedule"})]})]})})]})}var v=s(5079),b=s(5336),w=s(5071),N=s(8122),S=s(3613);function k(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[d,o]=(0,r.useState)("all"),u=async()=>{try{n(!0);let e={limit:50};"all"!==d&&(e.status=d);let s=await f.apiService.getScheduleHistory(e);t(s)}catch(e){console.error("Failed to fetch schedule history:",e),y.oR.error("Failed to load schedule history")}finally{n(!1)}},p=e=>{switch(e){case"completed":return(0,a.jsx)(b.A,{className:"h-4 w-4 text-green-500"});case"failed":return(0,a.jsx)(w.A,{className:"h-4 w-4 text-red-500"});case"running":return(0,a.jsx)(N.A,{className:"h-4 w-4 text-blue-500 animate-spin"});case"pending":return(0,a.jsx)(h.A,{className:"h-4 w-4 text-yellow-500"});default:return(0,a.jsx)(S.A,{className:"h-4 w-4 text-gray-500"})}},m=e=>{switch(e){case"completed":return"default";case"failed":return"destructive";case"running":default:return"secondary";case"pending":return"outline"}},x=e=>new Date(e).toLocaleString(),g=(e,t)=>{let s=new Date(e),a=Math.round(((t?new Date(t):new Date).getTime()-s.getTime())/1e3);if(a<60)return`${a}s`;{if(a<3600)return`${Math.floor(a/60)}m ${a%60}s`;let e=Math.floor(a/3600),t=Math.floor(a%3600/60);return`${e}h ${t}m`}};return s?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Schedule History"})}),(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(h.A,{className:"h-8 w-8 mx-auto mb-2 animate-spin"}),(0,a.jsx)("p",{children:"Loading history..."})]})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Schedule History"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(v.l6,{value:d,onValueChange:o,children:[(0,a.jsx)(v.bq,{className:"w-32",children:(0,a.jsx)(v.yv,{})}),(0,a.jsxs)(v.gC,{children:[(0,a.jsx)(v.eb,{value:"all",children:"All Status"}),(0,a.jsx)(v.eb,{value:"completed",children:"Completed"}),(0,a.jsx)(v.eb,{value:"failed",children:"Failed"}),(0,a.jsx)(v.eb,{value:"running",children:"Running"}),(0,a.jsx)(v.eb,{value:"pending",children:"Pending"})]})]}),(0,a.jsxs)(i.$,{variant:"outline",onClick:u,children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),0===e.length?(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"text-center py-8",children:[(0,a.jsx)(h.A,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No execution history"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Schedule executions will appear here once they start running"})]})}):(0,a.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2 text-base",children:[p(e.status),"Execution ",e.id.slice(0,8),(0,a.jsx)(c.E,{variant:m(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,a.jsxs)(l.BT,{children:["Created: ",x(e.created_at)]})]}),(0,a.jsx)("div",{className:"text-right text-sm text-muted-foreground",children:e.started_at&&(0,a.jsxs)("div",{children:["Duration: ",g(e.started_at,e.completed_at)]})})]})}),(0,a.jsx)(l.Wu,{className:"pt-0",children:(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[e.started_at&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Started: "}),(0,a.jsx)("span",{className:"text-muted-foreground",children:x(e.started_at)})]}),e.completed_at&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Completed: "}),(0,a.jsx)("span",{className:"text-muted-foreground",children:x(e.completed_at)})]}),e.items_processed&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Items Processed: "}),(0,a.jsx)("span",{className:"text-muted-foreground",children:e.items_processed})]}),e.error_message&&(0,a.jsxs)("div",{className:"p-2 bg-destructive/10 rounded border",children:[(0,a.jsx)("span",{className:"font-medium text-destructive",children:"Error: "}),(0,a.jsx)("span",{className:"text-destructive text-xs",children:e.error_message})]})]})})]},e.id))})]})}var C=s(9667),A=s(4300),_=s(6896),P=s(5950),R=s(1860);let E=(0,m.A)("circle-help",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var M=s(8819);let T=["UTC","America/New_York","America/Chicago","America/Denver","America/Los_Angeles","America/Toronto","Europe/London","Europe/Berlin","Asia/Tokyo","Australia/Sydney"],$={hourly:{label:"Every Hour",cron:"0 * * * *"},daily_2am:{label:"Daily at 2:00 AM",cron:"0 2 * * *"},weekly:{label:"Weekly (Sunday 2:00 AM)",cron:"0 2 * * 0"},monthly:{label:"Monthly (1st day 2:00 AM)",cron:"0 2 1 * *"},every_6_hours:{label:"Every 6 Hours",cron:"0 */6 * * *"},weekdays_2am:{label:"Weekdays at 2:00 AM",cron:"0 2 * * 1-5"},weekends_2am:{label:"Weekends at 2:00 AM",cron:"0 2 * * 6,0"},twice_daily:{label:"Twice Daily (2:00 AM & 2:00 PM)",cron:"0 2,14 * * *"}};function D({editingSchedule:e,onSave:t,onCancel:s}){let[n,o]=(0,r.useState)({name:"",timezone:"UTC",cron_expression:"0 2 * * *",badge_types:[],reprocess_all:!1,enabled:!0,target_libraries:[]}),[u,p]=(0,r.useState)([]),[m,x]=(0,r.useState)([]),[g,j]=(0,r.useState)("custom"),[b,w]=(0,r.useState)(!1),[N,S]=(0,r.useState)(!1),k=e=>{o(t=>({...t,badge_types:t.badge_types.includes(e)?t.badge_types.filter(t=>t!==e):[...t.badge_types,e]}))},D=e=>{o(t=>({...t,target_libraries:t.target_libraries.includes(e)?t.target_libraries.filter(t=>t!==e):[...t.target_libraries,e]}))},F=async s=>{if(s.preventDefault(),!n.name.trim())return void y.oR.error("Schedule name is required");if(!n.cron_expression.trim())return void y.oR.error("Cron expression is required");try{w(!0),e?(await f.apiService.updateSchedule(e.id,n),y.oR.success("Schedule updated successfully")):(await f.apiService.createSchedule(n),y.oR.success("Schedule created successfully")),t()}catch(e){console.error("Failed to save schedule:",e),y.oR.error("Failed to save schedule")}finally{w(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:e?"Edit Schedule":"Create New Schedule"}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(i.$,{variant:"outline",onClick:s,children:[(0,a.jsx)(R.A,{className:"h-4 w-4 mr-2"}),"Cancel"]})})]}),(0,a.jsxs)("form",{onSubmit:F,className:"space-y-6",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"Basic Information"}),(0,a.jsx)(l.BT,{children:"Configure the schedule name and timing"})]}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(A.J,{htmlFor:"name",children:"Schedule Name"}),(0,a.jsx)(C.p,{id:"name",placeholder:"Enter schedule name",value:n.name,onChange:e=>o(t=>({...t,name:e.target.value})),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(A.J,{htmlFor:"timezone",children:"Timezone"}),(0,a.jsxs)(v.l6,{value:n.timezone,onValueChange:e=>o(t=>({...t,timezone:e})),children:[(0,a.jsx)(v.bq,{children:(0,a.jsx)(v.yv,{})}),(0,a.jsx)(v.gC,{children:T.map(e=>(0,a.jsx)(v.eb,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(A.J,{children:"Quick Presets"}),(0,a.jsxs)(v.l6,{value:g,onValueChange:e=>{j(e),"custom"!==e&&$[e]&&o(t=>({...t,cron_expression:$[e].cron}))},children:[(0,a.jsx)(v.bq,{children:(0,a.jsx)(v.yv,{})}),(0,a.jsxs)(v.gC,{children:[(0,a.jsx)(v.eb,{value:"custom",children:"Custom Expression"}),Object.entries($).map(([e,t])=>(0,a.jsx)(v.eb,{value:e,children:t.label},e))]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(A.J,{htmlFor:"cron",children:"Cron Expression"}),(0,a.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(!N),children:(0,a.jsx)(E,{className:"h-4 w-4"})})]}),(0,a.jsx)(C.p,{id:"cron",placeholder:"0 2 * * *",value:n.cron_expression,onChange:e=>{o(t=>({...t,cron_expression:e.target.value})),j("custom")},required:!0}),N&&(0,a.jsxs)("div",{className:"p-3 bg-muted rounded text-sm",children:[(0,a.jsx)("p",{className:"font-medium mb-2",children:"Cron Expression Format:"}),(0,a.jsx)("p",{className:"font-mono",children:"minute hour day month weekday"}),(0,a.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,a.jsxs)("p",{children:["â€¢ ",(0,a.jsx)("code",{children:"0 2 * * *"})," - Daily at 2:00 AM"]}),(0,a.jsxs)("p",{children:["â€¢ ",(0,a.jsx)("code",{children:"0 */6 * * *"})," - Every 6 hours"]}),(0,a.jsxs)("p",{children:["â€¢ ",(0,a.jsx)("code",{children:"0 2 * * 1-5"})," - Weekdays at 2:00 AM"]}),(0,a.jsxs)("p",{children:["â€¢ ",(0,a.jsx)("code",{children:"0 2 1 * *"})," - Monthly on 1st day at 2:00 AM"]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.d,{id:"enabled",checked:n.enabled,onCheckedChange:e=>o(t=>({...t,enabled:e}))}),(0,a.jsx)(A.J,{htmlFor:"enabled",children:"Enable Schedule"})]})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"Processing Options"}),(0,a.jsx)(l.BT,{children:"Configure what will be processed when the schedule runs"})]}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(A.J,{children:"Badge Types to Apply"}),0===u.length?(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(h.A,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading badge types..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:u.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(_.S,{id:`badge-${e}`,checked:n.badge_types.includes(e),onCheckedChange:()=>k(e)}),(0,a.jsx)(A.J,{htmlFor:`badge-${e}`,className:"capitalize",children:e})]},e))}),0===n.badge_types.length&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No badge types selected. Schedule will not process any items."})]})]}),(0,a.jsx)(P.w,{}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.d,{id:"reprocess_all",checked:n.reprocess_all,onCheckedChange:e=>o(t=>({...t,reprocess_all:e}))}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(A.J,{htmlFor:"reprocess_all",children:"Reprocess All Items"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"When enabled, processes all items regardless of existing 'aphrodite-overlay' metadata"})]})]})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"Target Libraries"}),(0,a.jsx)(l.BT,{children:"Select which Jellyfin libraries to process (leave all unchecked to process all libraries)"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[0===m.length?(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(h.A,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading libraries..."}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"If this persists, check that Jellyfin is configured and running"})]}):(0,a.jsx)("div",{className:"space-y-2",children:m.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(_.S,{id:`library-${e.id}`,checked:n.target_libraries.includes(e.id),onCheckedChange:()=>D(e.id)}),(0,a.jsxs)(A.J,{htmlFor:`library-${e.id}`,className:"flex items-center gap-2",children:[e.name,(0,a.jsx)(c.E,{variant:"outline",className:"text-xs",children:e.type})]})]},e.id))}),0===n.target_libraries.length&&m.length>0&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"No libraries selected. Schedule will process all movie and TV show libraries."})]})})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(i.$,{type:"button",variant:"outline",onClick:s,children:"Cancel"}),(0,a.jsx)(i.$,{type:"submit",disabled:b,children:b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M.A,{className:"h-4 w-4 mr-2"}),e?"Update Schedule":"Create Schedule"]})})]})]})]})}function F(){let[e,t]=(0,r.useState)("schedules"),[s,i]=(0,r.useState)(null);return(0,a.jsxs)("div",{className:"container mx-auto p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Schedules"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"Manage automated poster processing schedules"})]}),(0,a.jsxs)(n.tU,{value:e,onValueChange:t,className:"space-y-6",children:[(0,a.jsxs)(n.j7,{children:[(0,a.jsx)(n.Xi,{value:"schedules",children:"Schedules"}),(0,a.jsx)(n.Xi,{value:"history",children:"History"}),(0,a.jsx)(n.Xi,{value:"editor",children:s?"Edit Schedule":"Create Schedule"})]}),(0,a.jsx)(n.av,{value:"schedules",children:(0,a.jsx)(j,{onCreateSchedule:()=>{i(null),t("editor")},onEditSchedule:e=>{i(e),t("editor")}})}),(0,a.jsx)(n.av,{value:"history",children:(0,a.jsx)(k,{})}),(0,a.jsx)(n.av,{value:"editor",children:(0,a.jsx)(D,{editingSchedule:s,onSave:()=>{i(null),t("schedules")},onCancel:()=>{i(null),t("schedules")}})})]})]})}},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[447,982,658,784,343,993],()=>s(5155));module.exports=a})();